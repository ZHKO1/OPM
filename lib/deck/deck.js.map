{"version":3,"file":null,"sources":["../../../src/lib/deck/createElement.js","../../../src/lib/deck/animationFrames.js","../../../src/lib/deck/ease.js","../../../src/lib/deck/fontSize.js","../../../src/lib/deck/modules/bysuit.js","../../../src/lib/deck/modules/fan.js","../../../src/lib/deck/prefix.js","../../../src/lib/deck/translate.js","../../../src/lib/deck/modules/intro.js","../../../src/lib/deck/modules/poker.js","../../../src/lib/deck/fisherYates.js","../../../src/lib/deck/plusminus.js","../../../src/lib/deck/modules/shuffle.js","../../../src/lib/deck/modules/sort.js","../../../src/lib/deck/modules/flip.js","../../../src/lib/deck/modules/MyReady.js","../../../src/lib/deck/modules/RivalReady.js","../../../src/lib/deck/observable.js","../../../src/lib/deck/queue.js","../../../src/lib/deck/draggabilly/ev-emitter.js","../../../src/lib/deck/draggabilly/unipointer.js","../../../src/lib/deck/draggabilly/unidragger.js","../../../src/lib/deck/draggabilly/draggabilly.js","../../../src/lib/deck/card.js","../../../src/lib/deck/deck.js"],"sourcesContent":["export default function (type) {\n    return document.createElement(type)\n}\n","var ticking\nvar animations = []\n\nexport default function (delay, duration) {\n    var now = Date.now()\n\n    // calculate animation start/end times\n    var start = now + delay\n    var end = start + duration\n\n    var animation = {\n        start: start,\n        end: end\n    }\n\n    // add animation\n    animations.push(animation)\n\n    if (!ticking) {\n        // start ticking\n        ticking = true\n        requestAnimationFrame(tick)\n    }\n    var self = {\n        start: function (cb) {\n            // add start callback (just one)\n            animation.startcb = cb\n            return self\n        },\n        progress: function (cb) {\n            // add progress callback (just one)\n            animation.progresscb = cb\n            return self\n        },\n        end: function (cb) {\n            // add end callback (just one)\n            animation.endcb = cb\n            return self\n        }\n    }\n    return self\n}\n\nfunction tick() {\n    var now = Date.now()\n\n    if (!animations.length) {\n        // stop ticking\n        ticking = false\n        return\n    }\n\n    for (var i = 0, animation; i < animations.length; i++) {\n        animation = animations[i]\n        if (now < animation.start) {\n            // animation not yet started..\n            continue\n        }\n        if (!animation.started) {\n            // animation starts\n            animation.started = true\n            animation.startcb && animation.startcb()\n        }\n        // animation progress\n        var t = (now - animation.start) / (animation.end - animation.start)\n        animation.progresscb && animation.progresscb(t < 1 ? t : 1)\n        if (now > animation.end) {\n            // animation ended\n            animation.endcb && animation.endcb()\n            animations.splice(i--, 1)\n            continue\n        }\n    }\n    requestAnimationFrame(tick)\n}\n\n// fallback\nwindow.requestAnimationFrame || (window.requestAnimationFrame = function (cb) {\n    setTimeout(cb, 0)\n})\n","export default {\n    linear: function (t) {\n        return t\n    },\n    quadIn: function (t) {\n        return t * t\n    },\n    quadOut: function (t) {\n        return t * (2 - t)\n    },\n    quadInOut: function (t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t\n    },\n    cubicIn: function (t) {\n        return t * t * t\n    },\n    cubicOut: function (t) {\n        return (--t) * t * t + 1\n    },\n    cubicInOut: function (t) {\n        return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\n    },\n    quartIn: function (t) {\n        return t * t * t * t\n    },\n    quartOut: function (t) {\n        return 1 - (--t) * t * t * t\n    },\n    quartInOut: function (t) {\n        return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\n    },\n    quintIn: function (t) {\n        return t * t * t * t * t\n    },\n    quintOut: function (t) {\n        return 1 + (--t) * t * t * t * t\n    },\n    quintInOut: function (t) {\n        return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\n    }\n}\n","export default function () {\n    return window.getComputedStyle(document.body).getPropertyValue('font-size').slice(0, -2)\n}\n","import getFontSize from '../fontSize'\n\nvar fontSize\n\nexport default {\n    deck: function (deck) {\n        deck.bysuit = deck.queued(bysuit)\n\n        function bysuit(next) {\n            var cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            })\n\n            fontSize = getFontSize()\n\n            cards.forEach(function (card) {\n                card.bysuit(function (i) {\n                    if (i === cards.length - 1) {\n                        next()\n                    }\n                })\n            })\n        }\n    },\n    card: function (card) {\n        var rank = card.rank\n        var suit = card.suit\n\n        card.bysuit = function (cb) {\n            var i = card.i\n            var delay = i * 10\n\n            card.animateTo({\n                delay: delay,\n                duration: 400,\n\n                x: -Math.round((6.75 - rank) * 8 * fontSize / 16),\n                y: -Math.round((1.5 - suit) * 92 * fontSize / 16),\n                rot: 0,\n\n                onComplete: function () {\n                    cb(i)\n                }\n            })\n        }\n    }\n}\n","import getFontSize from '../fontSize'\n\nvar fontSize\n\nexport default {\n    deck: function (deck) {\n        deck.fan = deck.queued(fan)\n\n        function fan(next) {\n            var cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            })\n            var len = cards.length\n\n            fontSize = getFontSize()\n\n            cards.forEach(function (card, i) {\n                card.fan(i, len, function (i) {\n                    if (i === cards.length - 1) {\n                        next()\n                    }\n                })\n            })\n        }\n    },\n    card: function (card) {\n        var $el = card.$el\n\n        card.fan = function (i, len, cb) {\n            var z = i / 4\n            var delay = i * 10\n            var rot = i / (len - 1) * 260 - 130\n\n            card.animateTo({\n                delay: delay,\n                duration: 300,\n\n                x: -z,\n                y: -z,\n                rot: 0\n            })\n            card.animateTo({\n                delay: 300 + delay,\n                duration: 300,\n\n                x: Math.cos(deg2rad(rot - 90)) * 55 * fontSize / 16,\n                y: Math.sin(deg2rad(rot - 90)) * 55 * fontSize / 16,\n                rot: rot,\n\n                onStart: function () {\n                    $el.style.zIndex = i\n                },\n\n                onComplete: function () {\n                    cb(i)\n                }\n            })\n        }\n    }\n}\n\nfunction deg2rad(degrees) {\n    return degrees * Math.PI / 180\n}\n","var style = document.createElement('p').style\nvar memoized = {}\n\nexport default function (param) {\n    if (typeof memoized[param] !== 'undefined') {\n        return memoized[param]\n    }\n\n    if (typeof style[param] !== 'undefined') {\n        memoized[param] = param\n        return param\n    }\n\n    var camelCase = param[0].toUpperCase() + param.slice(1)\n    var prefixes = ['webkit', 'moz', 'Moz', 'ms', 'o']\n    var test\n\n    for (var i = 0, len = prefixes.length; i < len; i++) {\n        test = prefixes[i] + camelCase\n        if (typeof style[test] !== 'undefined') {\n            memoized[param] = test\n            return test\n        }\n    }\n}\n\n","import prefix from './prefix'\n\nvar has3d\n\nexport default function (a, b, c) {\n    (typeof has3d !== 'undefined') || (has3d = check3d())\n\n    c = c || 0\n\n    if (has3d) {\n        return 'translate3d(' + a + ', ' + b + ', ' + c + ')'\n    } else {\n        return 'translate(' + a + ', ' + b + ')'\n    }\n}\n\nfunction check3d() {\n    // I admit, this line is stealed from the great Velocity.js!\n    // http://julian.com/research/velocity/\n    var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n\n    if (!isMobile) {\n        return false\n    }\n\n    var transform = prefix('transform')\n    var $p = document.createElement('p')\n\n    document.body.appendChild($p)\n    $p.style[transform] = 'translate3d(1px,1px,1px)'\n\n    has3d = $p.style[transform]\n    has3d = has3d != null && has3d.length && has3d !== 'none'\n\n    document.body.removeChild($p)\n\n    return has3d\n}\n","import animationFrames from '../animationFrames'\nimport ease from '../ease'\nimport prefix from '../prefix'\nimport translate from '../translate'\n\nexport default {\n    deck: function (deck) {\n        deck.intro = deck.queued(intro)\n\n        function intro(next) {\n            var cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            })\n\n            cards.forEach(function (card, i) {\n                card.setSide('back')\n                card.intro(i, function (i) {\n                    animationFrames(250, 0)\n                        .start(function () {\n                            card.setSide('front')\n                        })\n                    if (i === cards.length - 1) {\n                        next()\n                    }\n                })\n            })\n        }\n    },\n    card: function (card) {\n        var transform = prefix('transform')\n\n        var $el = card.$el\n\n        card.intro = function (i, cb) {\n            var delay = 500 + i * 10\n            var z = i / 4\n\n            $el.style[transform] = translate(-z + 'px', '-250px')\n            $el.style.opacity = 0\n\n            card.x = -z\n            card.y = -250 - z\n            card.rot = 0\n\n            card.animateTo({\n                delay: delay,\n                duration: 1000,\n\n                x: -z,\n                y: -z,\n\n                onStart: function () {\n                    $el.style.zIndex = i\n                },\n                onProgress: function (t) {\n                    $el.style.opacity = t\n                },\n                onComplete: function () {\n                    $el.style.opacity = ''\n                    cb && cb(i)\n                }\n            })\n        }\n    }\n}\n","import getFontSize from '../fontSize'\n\nvar fontSize\n\nexport default {\n    deck: function (deck) {\n        deck.poker = deck.queued(poker)\n\n        function poker(next) {\n            var cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            })\n            var len = cards.length\n\n            fontSize = getFontSize()\n\n            cards.forEach(function (card, i) {\n                card.poker(i, len, function (i) {\n                    card.setSide('front')\n                    if (i === (cards.length - 1)) {\n                        next()\n                    }\n                })\n            })\n        }\n    },\n    card: function (card) {\n        var $el = card.$el\n\n        card.poker = function (i, len, cb) {\n            var delay = i * 250;\n            card.animateTo({\n                delay: 0,\n                duration: 250,\n\n                x: Math.round((parseInt(i % 7) - 3) * 120 * fontSize / 16),\n                y: Math.round(270 + (parseInt(i / 7) - 3) * 150 * fontSize / 16),\n                rot: 0,\n\n                onStart: function () {\n                    $el.style.zIndex = (len - 1) + i\n                },\n                onComplete: function () {\n                    cb(i)\n                }\n            })\n        }\n    }\n}\n","export default function (array) {\n    var rnd, temp\n\n    for (var i = array.length - 1; i; i--) {\n        rnd = Math.random() * i | 0\n        temp = array[i]\n        array[i] = array[rnd]\n        array[rnd] = temp\n    }\n\n    return array\n}\n","export default function (value) {\n    var plusminus = Math.round(Math.random()) ? -1 : 1\n\n    return plusminus * value\n}\n","import getFontSize from '../fontSize'\nimport fisherYates from '../fisherYates'\nimport plusMinus from '../plusminus'\n\nvar fontSize\n\nexport default {\n    deck: function (deck) {\n        deck.shuffle = deck.queued(shuffle)\n\n        function shuffle(next) {\n            var cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            })\n\n            fontSize = getFontSize()\n\n            fisherYates(cards)\n\n            cards.forEach(function (card, i) {\n                card.pos = i\n\n                card.shuffle(function (i) {\n                    if (i === cards.length - 1) {\n                        next()\n                    }\n                })\n            })\n            return\n        }\n    },\n\n    card: function (card) {\n        var $el = card.$el\n\n        card.shuffle = function (cb) {\n            var i = card.pos\n            var z = i / 4\n            var delay = i * 2\n\n            card.animateTo({\n                delay: delay,\n                duration: 200,\n\n                x: plusMinus(Math.random() * 40 + 20) * fontSize / 16,\n                y: -z,\n                rot: 0\n            })\n            card.animateTo({\n                delay: 200 + delay,\n                duration: 200,\n\n                x: -z,\n                y: -z,\n                rot: 0,\n\n                onStart: function () {\n                    $el.style.zIndex = i\n                },\n\n                onComplete: function () {\n                    cb(i)\n                }\n            })\n        }\n    }\n}\n","export default {\n    deck: function (deck) {\n        deck.sort = deck.queued(sort)\n\n        function sort(next, reverse) {\n            var cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            })\n\n            cards.sort(function (a, b) {\n                if (reverse) {\n                    return a.i - b.i\n                } else {\n                    return b.i - a.i\n                }\n            })\n\n            cards.forEach(function (card, i) {\n                card.sort(i, cards.length, function (i) {\n                    if (i === cards.length - 1) {\n                        next()\n                    }\n                }, reverse)\n            })\n        }\n    },\n    card: function (card) {\n        var $el = card.$el\n\n        card.sort = function (i, len, cb, reverse) {\n            var z = i / 4\n            var delay = i * 10\n\n            card.animateTo({\n                delay: delay,\n                duration: 400,\n\n                x: -z,\n                y: -150,\n                rot: 0,\n\n                onComplete: function () {\n                    $el.style.zIndex = i\n                }\n            })\n\n            card.animateTo({\n                delay: delay + 500,\n                duration: 400,\n\n                x: -z,\n                y: -z,\n                rot: 0,\n\n                onComplete: function () {\n                    cb(i)\n                }\n            })\n        }\n    }\n}\n","export default {\n    deck: function (deck) {\n        deck.flip = deck.queued(flip)\n\n        function flip(next, side) {\n            var flipped = deck.cards.filter(function(card){\n                  return (!card.isStaticNode());\n              }).filter(function (card) {\n                    return card.side === 'front'\n                }).length / deck.cards.length\n\n            deck.cards.forEach(function (card, i) {\n                card.setSide(side ? side : flipped > 0.5 ? 'back' : 'front')\n            })\n            next()\n        }\n    }\n}\n","import getFontSize from '../fontSize'\n\nvar fontSize\n\nexport default {\n    deck: function (deck) {\n        deck.myReady = deck.queued(myReady)\n\n        function myReady(next) {\n            var cards;\n\n            fontSize = getFontSize()\n\n            cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            }).slice(0, 4);\n\n            cards.forEach(function (card) {\n                card.myReady(function (i) {\n                    if (i === cards.length - 1) {\n                        next()\n                    }\n                })\n            })\n        }\n    },\n    card: function (card) {\n        var rank = card.rank\n        var suit = card.suit\n\n        var positionMap = [\n            {x: -304, y: 70},\n            {x: 20, y: 70},\n            {x: -304, y: 221},\n            {x: 20, y: 221}\n        ];\n\n        card.myReady = function (cb) {\n            var i = card.i\n            var delay = 0\n\n            card.animateTo({\n                delay: delay,\n                duration: 400,\n\n                x: positionMap[i].x,\n                y: positionMap[i].y,\n                rot: 0,\n\n                onComplete: function () {\n                    cb(i)\n                }\n            })\n        }\n    }\n}\n","import getFontSize from '../fontSize'\n\nvar fontSize\n\nexport default {\n    deck: function (deck) {\n        deck.rivalReady = deck.queued(rivalReady)\n\n        function rivalReady(next) {\n            var cards\n\n            fontSize = getFontSize()\n\n            cards = deck.cards.filter(function(card){\n                return (!card.isStaticNode());\n            }).slice(4, 8);\n\n            cards.forEach(function (card) {\n                card.rivalReady(function (i) {\n                    if (i === cards.length - 1) {\n                        next()\n                    }\n                })\n            })\n        }\n    },\n    card: function (card) {\n        var rank = card.rank\n        var suit = card.suit\n\n        var cardMap = [\n            {x: -261, y: -240},\n            {x: -87, y: -240},\n            {x: 87, y: -240},\n            {x: 261, y: -240}\n        ];\n\n        var positionMap = [\n            {x: 20, y: -93},\n            {x: -304, y: -93},\n            {x: 20, y: -246},\n            {x: -304, y: -246}\n        ];\n\n        card.rivalReady = function (cb) {\n            var i = card.i - 4;\n            var delay = 0\n\n            card.animateTo({\n                delay: delay + 100 * i,\n                duration: 400,\n\n                x: cardMap[i].x,\n                y: cardMap[i].y,\n                rot: 0\n            })\n\n            card.animateTo({\n                delay: 1000,\n                duration: 400,\n\n                x: positionMap[i].x,\n                y: positionMap[i].y,\n                rot: 0,\n\n                onComplete: function () {\n                    cb(i)\n                }\n            })\n        }\n    }\n}\n","export default function (target) {\n    target || (target = {})\n    var listeners = {}\n\n    target.on = on\n    target.one = one\n    target.off = off\n    target.trigger = trigger\n\n    return target\n\n    function on(name, cb, ctx) {\n        listeners[name] || (listeners[name] = [])\n        listeners[name].push({cb, ctx})\n    }\n\n    function one(name, cb, ctx) {\n        listeners[name] || (listeners[name] = [])\n        listeners[name].push({\n            cb, ctx, once: true\n        })\n    }\n\n    function trigger(name) {\n        var self = this\n        var args = Array.prototype.slice(arguments, 1)\n\n        var currentListeners = listeners[name] || []\n\n        currentListeners.filter(function (listener) {\n            listener.cb.apply(self, args)\n\n            return !listener.once\n        })\n    }\n\n    function off(name, cb) {\n        if (!name) {\n            listeners = {}\n            return\n        }\n\n        if (!cb) {\n            listeners[name] = []\n            return\n        }\n\n        listeners[name] = listeners[name].filter(function (listener) {\n            return listener.cb !== cb\n        })\n    }\n}\n","export default function (target) {\n    var array = Array.prototype\n\n    var queueing = []\n    target.queueing = queueing;\n\n    target.queue = queue\n    target.queued = queued\n\n    return target\n\n    function queued(action) {\n        return function () {\n            var self = this\n            var args = arguments\n\n            queue(function (next) {\n                action.apply(self, array.concat.apply(next, args))\n            })\n        }\n    }\n\n    function queue(action) {\n        if (!action) {\n            return\n        }\n\n        queueing.push(action)\n\n        if (queueing.length === 1) {\n            next()\n        }\n    }\n\n    function next() {\n        queueing[0](function (err) {\n            if (err) {\n                throw err\n            }\n\n            queueing = queueing.slice(1)\n\n            if (queueing.length) {\n                next()\n            }\n        })\n    }\n}\n","export default class EvEmitter {\n    constructor() {\n    }\n\n    on(eventName, listener) {\n        if (!eventName || !listener) {\n            return;\n        }\n        // set events hash\n        var events = this._events = this._events || {};\n        // set listeners array\n        var listeners = events[eventName] = events[eventName] || [];\n        // only add once\n        if (listeners.indexOf(listener) == -1) {\n            listeners.push(listener);\n        }\n        return this;\n    };\n\n    once(eventName, listener) {\n        if (!eventName || !listener) {\n            return;\n        }\n        // add event\n        this.on(eventName, listener);\n        // set once flag\n        // set onceEvents hash\n        var onceEvents = this._onceEvents = this._onceEvents || {};\n        // set onceListeners object\n        var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};\n        // set flag\n        onceListeners[listener] = true;\n        return this;\n    };\n\n    off(eventName, listener) {\n        var listeners = this._events && this._events[eventName];\n        if (!listeners || !listeners.length) {\n            return;\n        }\n        var index = listeners.indexOf(listener);\n        if (index != -1) {\n            listeners.splice(index, 1);\n        }\n\n        return this;\n    };\n\n    emitEvent(eventName, args) {\n        var listeners = this._events && this._events[eventName];\n        if (!listeners || !listeners.length) {\n            return;\n        }\n        var i = 0;\n        var listener = listeners[i];\n        args = args || [];\n        // once stuff\n        var onceListeners = this._onceEvents && this._onceEvents[eventName];\n\n        while (listener) {\n            var isOnce = onceListeners && onceListeners[listener];\n            if (isOnce) {\n                // remove listener\n                // remove before trigger to prevent recursion\n                this.off(eventName, listener);\n                // unset once flag\n                delete onceListeners[listener];\n            }\n            // trigger listener\n            listener.apply(this, args);\n            // get next listener\n            i += isOnce ? 0 : 1;\n            listener = listeners[i];\n        }\n        return this;\n    };\n\n    show(eventName) {\n        var listeners = this._events;\n        console.log(listeners);\n    }\n}\n","import EvEmitter from './ev-emitter.js'\n\n\nvar postStartEvents = {\n    mousedown: ['mousemove', 'mouseup'],\n    touchstart: ['touchmove', 'touchend', 'touchcancel'],\n    pointerdown: ['pointermove', 'pointerup', 'pointercancel'],\n    MSPointerDown: ['MSPointerMove', 'MSPointerUp', 'MSPointerCancel']\n};\nexport default class Unipointer extends EvEmitter {\n    constructor() {\n        super();\n    }\n\n    bindStartEvent(elem) {\n        this._bindStartEvent(elem, true);\n    };\n\n    unbindStartEvent(elem) {\n        this._bindStartEvent(elem, false);\n    };\n\n    _bindStartEvent(elem, isBind) {\n        // munge isBind, default to true\n        isBind = isBind === undefined ? true : !!isBind;\n        var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\n        elem[bindMethod]('mousedown', this);\n        elem[bindMethod]('touchstart', this);\n    };\n\n    handleEvent(event) {\n        var method = 'on' + event.type;\n        if (this[method]) {\n            this[method](event);\n        }\n    };\n\n    onmousedown(event) {\n        var button = event.button;\n        if (button && ( button !== 0 && button !== 1 )) {\n            return;\n        }\n        this._pointerDown(event, event);\n    };\n\n    _pointerDown(event, pointer) {\n        this.pointerDown(event, pointer);\n    };\n\n    pointerDown(event, pointer) {\n        this._bindPostStartEvents(event);\n        this.emitEvent('pointerDown', [event, pointer]);\n    };\n\n    _bindPostStartEvents(event) {\n        if (!event) {\n            return;\n        }\n        // get proper events to match start event\n        var events = postStartEvents[event.type];\n        // bind events to node\n        events.forEach(function (eventName) {\n            window.addEventListener(eventName, this);\n        }, this);\n        this._boundPointerEvents = events;\n    };\n\n    _unbindPostStartEvents() {\n        // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n        if (!this._boundPointerEvents) {\n            return;\n        }\n        this._boundPointerEvents.forEach(function (eventName) {\n            window.removeEventListener(eventName, this);\n        }, this);\n\n        delete this._boundPointerEvents;\n    };\n\n    onmousemove(event) {\n        this._pointerMove(event, event);\n    };\n\n    _pointerMove(event, pointer) {\n        this.pointerMove(event, pointer);\n    };\n\n    pointerMove(event, pointer) {\n        this.emitEvent('pointerMove', [event, pointer]);\n    };\n\n\n    onmouseup(event) {\n        this._pointerUp(event, event);\n    };\n\n    _pointerUp(event, pointer) {\n        this._pointerDone();\n        this.pointerUp(event, pointer);\n    };\n\n    pointerUp(event, pointer) {\n        this.emitEvent('pointerUp', [event, pointer]);\n    };\n\n    _pointerDone() {\n        this._unbindPostStartEvents();\n    };\n\n\n}","import Unipointer from './unipointer.js'\n\nvar navigator = window.navigator;\n\nfunction noop() {\n}\nexport default class Unidragger extends Unipointer {\n    constructor() {\n        super();\n    }\n\n    bindHandles() {\n        this._bindHandles(true);\n    };\n\n    unbindHandles() {\n        this._bindHandles(false);\n    };\n\n    _bindHandles(isBind) {\n        // munge isBind, default to true\n        isBind = isBind === undefined ? true : !!isBind;\n        // extra bind logic\n        var binderExtra;\n        if (navigator.pointerEnabled) {\n            binderExtra = function (handle) {\n                // disable scrolling on the element\n                handle.style.touchAction = isBind ? 'none' : '';\n            };\n        } else if (navigator.msPointerEnabled) {\n            binderExtra = function (handle) {\n                // disable scrolling on the element\n                handle.style.msTouchAction = isBind ? 'none' : '';\n            };\n        } else {\n            binderExtra = noop;\n        }\n        // bind each handle\n        var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\n        for (var i = 0; i < this.handles.length; i++) {\n            var handle = this.handles[i];\n            this._bindStartEvent(handle, isBind);\n            binderExtra(handle);\n        }\n    };\n}","import Unidragger from './unidragger.js'\n\nvar document = window.document;\nfunction noop() {\n}\nfunction extend(a, b) {\n    for (var prop in b) {\n        a[prop] = b[prop];\n    }\n    return a;\n}\nfunction isElement(obj) {\n    return obj instanceof HTMLElement;\n}\n\nvar requestAnimationFrame = window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\nvar lastTime = 0;\nif (!requestAnimationFrame) {\n    requestAnimationFrame = function (callback) {\n        var currTime = new Date().getTime();\n        var timeToCall = Math.max(0, 16 - ( currTime - lastTime ));\n        var id = setTimeout(callback, timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n    };\n}\n\nvar docElem = document.documentElement;\nvar transformProperty = typeof docElem.style.transform == 'string' ?\n    'transform' : 'WebkitTransform';\n\n\nexport default class Draggabilly extends Unidragger {\n    constructor(element, options) {\n        super();\n        this.element = typeof element == 'string' ?\n            document.querySelector(element) : element;\n\n        this.options = extend({}, this.constructor.defaults);\n        this.option(options);\n\n        this._create();\n    }\n\n    option(opts) {\n        extend(this.options, opts);\n    };\n\n    _create() {\n\n        this.setHandles();\n    };\n\n    setHandles() {\n        this.handles = this.options.handle ?\n            this.element.querySelectorAll(this.options.handle) : [this.element];\n\n        this.bindHandles();\n    };\n\n}\n\nDraggabilly.defaults = {};\n","import Deck from './deck'\n\nimport animationFrames from './animationFrames'\nimport createElement from './createElement'\nimport Ease from './ease'\nimport translate from './translate'\nimport prefix from './prefix'\nimport Draggabilly from './draggabilly/draggabilly.js'\n\nvar maxZ = 100\n\nexport default function (i) {\n    var transform = prefix('transform')\n    var id = i;\n    // calculate rank/suit, etc..\n    var rank = i % 13 + 1\n    var suit = i / 13 | 0\n    var z = (52 - i) / 4\n\n    // create elements\n    var $el = createElement('div')\n    var $face = createElement('div')\n    var $back = createElement('div')\n\n    // states\n    var isDraggable = false\n    var isStaticNode = false\n    var isFlippable = false\n    var isMoveBackable = false\n\n    // self = card\n    var self = {i, rank, suit, id, pos: i, $el, mount, unmount, setSide}\n\n    var modules = Deck.modules\n    var module\n\n    // add classes\n    $face.classList.add('face')\n    $back.classList.add('back')\n\n    // add default transform\n    $el.style[transform] = translate(-z + 'px', -z + 'px')\n\n    // add default values\n    self.x = -z\n    self.y = -z\n    self.z = z\n    self.rot = 0\n\n    self.PosStatus = {\n        startPos: {},\n        pos: {},\n        starttime: 0,\n        originPosX: 0,\n        originPosY: 0,\n    };\n    self.$container = null;\n\n    // set default side to back\n    self.setSide('back')\n\n    // add drag/click listeners\n    self.dragObj = new Draggabilly($el, {});\n    self.onMousedown = function (e) {\n        var startPos = self.PosStatus.startPos\n        var pos = self.PosStatus.pos\n\n        var starttime = Date.now()\n        self.PosStatus.starttime = starttime\n\n        e.preventDefault()\n\n        if (e.type === 'mousedown') {\n            startPos.x = pos.x = e.clientX\n            startPos.y = pos.y = e.clientY\n        } else {\n            startPos.x = pos.x = e.touches[0].clientX\n            startPos.y = pos.y = e.touches[0].clientY\n        }\n\n        if (!isDraggable) {\n            // is not draggable, do nothing\n            return\n        }\n\n        // move card\n        $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '')\n        $el.style.zIndex = maxZ++\n    }\n    self.onMousemove = function (e) {\n        var startPos = self.PosStatus.startPos\n        var pos = self.PosStatus.pos\n\n        if (!isDraggable) {\n            // is not draggable, do nothing\n            return\n        }\n        if (e.type === 'mousemove') {\n            pos.x = e.clientX\n            pos.y = e.clientY\n        } else {\n            pos.x = e.touches[0].clientX\n            pos.y = e.touches[0].clientY\n        }\n\n        // move card\n        $el.style[transform] = translate(Math.round(self.x + pos.x - startPos.x) + 'px', Math.round(self.y + pos.y - startPos.y) + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '')\n\n    };\n    self.onMouseup = function (e) {\n        var startPos = self.PosStatus.startPos\n        var pos = self.PosStatus.pos\n        var starttime = self.PosStatus.starttime\n\n\n        if (isFlippable && Date.now() - starttime < 200) {\n            // flip sides\n            self.setSide(self.side === 'front' ? 'back' : 'front')\n        }\n        if (!isDraggable) {\n            // is not draggable, do nothing\n            return\n        }\n\n        // set current position\n        self.x = self.x + pos.x - startPos.x\n        self.y = self.y + pos.y - startPos.y\n    };\n    self.dragObj.on(\"pointerDown\", self.onMousedown);\n    self.dragObj.on(\"pointerMove\", self.onMousemove);\n    self.dragObj.on(\"pointerUp\", self.onMouseup);\n\n    // load modules\n    for (module in modules) {\n        addModule(modules[module])\n    }\n\n    self.hide = function(){\n        $el.style[\"display\"] = \"none\";\n    }\n    self.show = function(){\n        $el.style[\"display\"] = \"\";\n    }\n    self.animateTo = function (params) {\n        var {delay, duration, x = self.x, y = self.y, rot = self.rot, ease, onStart, onProgress, onComplete} = params\n        var startX, startY, startRot\n        var diffX, diffY, diffRot\n\n        animationFrames(delay, duration)\n            .start(function () {\n                startX = self.x || 0\n                startY = self.y || 0\n                startRot = self.rot || 0\n                onStart && onStart()\n            })\n            .progress(function (t) {\n                var et = Ease[ease || 'cubicInOut'](t)\n\n                diffX = x - startX\n                diffY = y - startY\n                diffRot = rot - startRot\n\n                onProgress && onProgress(t, et)\n\n                self.x = startX + diffX * et\n                self.y = startY + diffY * et\n                self.rot = startRot + diffRot * et\n\n                $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (diffRot ? 'rotate(' + self.rot + 'deg)' : '')\n            })\n            .end(function () {\n                onComplete && onComplete()\n            })\n    }\n    self.setAutoMoveBack = function () {\n        isMoveBackable = true;\n        self.dragObj.on(\"pointerDown\", self.AutoMoveBackEvent);\n    };\n    self.setNotMoveBack = function () {\n        isMoveBackable = false;\n        self.PosStatus.originPosX = 0;\n        self.PosStatus.originPosY = 0;\n        self.dragObj.off(\"pointerDown\", self.AutoMoveBackEvent);\n    };\n    self.AutoMoveBackEvent = function () {\n        let startPos = self.PosStatus.startPos\n        let pos = self.PosStatus.pos\n        self.PosStatus.originPosX = self.x + pos.x - startPos.x;\n        self.PosStatus.originPosY = self.y + pos.y - startPos.y;\n        self.dragObj.off(\"pointerDown\", self.AutoMoveBackEvent);\n    };\n    self.AutoMoveBack = function () {\n        if (isMoveBackable) {\n            self.animateTo({\n                delay: 0,\n                duration: 300,\n\n                x: self.PosStatus.originPosX,\n                y: self.PosStatus.originPosY,\n                rot: 0\n            });\n        }\n    };\n\n    self.toStaticNode = function (droppableEl, callback) {\n        let $StaticContainer = droppableEl.el;\n        isStaticNode = true;\n        self.moveToStaticNode(droppableEl, () => {\n            self.unmount();\n            let $el = createElement('div');\n            let $face = createElement('div');\n            let $back = createElement('div');\n            $face.classList.add('face');\n            $back.classList.add('back');\n            var suitName = SuitName(suit);\n            $el.setAttribute('class', 'card ' + suitName + ' rank' + rank);\n            $el.style.position = 'relative';\n            $el.style.left = '0px';\n            $el.style.top = '0px';\n            $el.setAttribute(\"data-name\", self.card.name);\n            $StaticContainer.innerHTML = \"\";\n            $StaticContainer.appendChild($el);\n            addListener($el, 'click', () => {\n                $StaticContainer.removeChild($el)\n                self.toDragNode();\n            });\n            callback && callback();\n        });\n    };\n    self.moveToStaticNode = function (droppableEl, callback) {\n        let $StaticContainer = droppableEl.el;\n        let offset2 = getOffset($StaticContainer), width2 = $StaticContainer.offsetWidth, height2 = $StaticContainer.offsetHeight;\n        let bodyoffset = getOffset(body), bodywidth = document.documentElement.clientWidth, bodyheight = document.documentElement.clientHeight;\n        offset2 = {\n            left: (offset2.left + offset2.right) / 2 - width2 / 2,\n            top: (offset2.top + offset2.bottom) / 2 - height2 / 2\n        }\n        self.animateTo({\n            delay: 0,\n            duration: 300,\n\n            x: offset2.left - bodywidth / 2 + width2 / 2,\n            y: offset2.top - bodyheight / 2 + height2 / 2 - 10,\n            rot: 0,\n            onComplete: () => {\n                callback && callback();\n            }\n        });\n    };\n    self.isStaticNode = function () {\n        return isStaticNode;\n    };\n\n    self.toDragNode = function () {\n        isStaticNode = false;\n        self.mount(self.$container);\n    };\n\n    // set rank & suit\n    self.setRankSuit = function (rank, suit) {\n        var suitName = SuitName(suit)\n        $el.setAttribute('class', 'card ' + suitName + ' rank' + rank)\n    }\n\n    self.setRankSuit(rank, suit)\n\n    self.enableDragging = function () {\n        // this activates dragging\n        if (isDraggable) {\n            // already is draggable, do nothing\n            return\n        }\n        isDraggable = true\n        $el.style.cursor = 'move'\n    }\n\n    self.enableFlipping = function () {\n        if (isFlippable) {\n            // already is flippable, do nothing\n            return\n        }\n        isFlippable = true\n    }\n\n    self.disableFlipping = function () {\n        if (!isFlippable) {\n            // already disabled flipping, do nothing\n            return\n        }\n        isFlippable = false\n    }\n\n    self.disableDragging = function () {\n        if (!isDraggable) {\n            // already disabled dragging, do nothing\n            return\n        }\n        isDraggable = false\n        $el.style.cursor = ''\n    }\n\n    self.setCard = function (card) {\n        self.card = card;\n        $el.setAttribute(\"data-name\", card.name);\n    }\n    self.setPosition = function ({x, y, z}) {\n        $el.style[transform] = translate(x + 'px', y + 'px')\n\n        self.x = x\n        self.y = y\n    }\n\n    return self\n\n    function addModule(module) {\n        // add card module\n        module.card && module.card(self)\n    }\n\n    function mount(target) {\n        // mount card to target (deck)\n        target.appendChild($el)\n        self.$container = target;\n        self.$root = target\n    }\n\n    function unmount() {\n        // unmount from root (deck)\n        self.$root && self.$root.removeChild($el)\n        self.$root = null\n    }\n\n    function setSide(newSide) {\n        // flip sides\n        if (newSide === 'front') {\n            if (self.side === 'back') {\n                $el.removeChild($back)\n            }\n            self.side = 'front'\n            $el.appendChild($face)\n            self.setRankSuit(self.rank, self.suit)\n        } else {\n            if (self.side === 'front') {\n                $el.removeChild($face)\n            }\n            self.side = 'back'\n            $el.appendChild($back)\n            $el.setAttribute('class', 'card')\n        }\n    }\n}\n\nfunction SuitName(suit) {\n    // return suit name from suit value\n    suit === 0 ? 'spades' : suit === 1 ? 'hearts' : suit === 2 ? 'clubs' : suit === 3 ? 'diamonds' : 'joker'\n    return \"spades\";\n}\n\nfunction addListener(target, name, listener) {\n    target.addEventListener(name, listener)\n}\n\nfunction removeListener(target, name, listener) {\n    target.removeEventListener(name, listener)\n}\n\nvar body = document.body, docElem = window.document.documentElement,\n    transEndEventNames = {\n        'WebkitTransition': 'webkitTransitionEnd',\n        'MozTransition': 'transitionend',\n        'OTransition': 'oTransitionEnd',\n        'msTransition': 'MSTransitionEnd',\n        'transition': 'transitionend'\n    };\nfunction getOffset(el) {\n    var offset = el.getBoundingClientRect();\n    return {\n        top: offset.top + scrollY(),\n        left: offset.left + scrollX(),\n        right: offset.right + scrollX(),\n        bottom: offset.bottom + scrollY(),\n    }\n}\nfunction scrollX() {\n    return window.pageXOffset || docElem.scrollLeft;\n}\nfunction scrollY() {\n    return window.pageYOffset || docElem.scrollTop;\n}\n","import createElement from './createElement'\n\nimport animationFrames from './animationFrames'\nimport ease from './ease'\nimport bysuit from './modules/bysuit'\nimport fan from './modules/fan'\nimport intro from './modules/intro'\nimport poker from './modules/poker'\nimport shuffle from './modules/shuffle'\nimport sort from './modules/sort'\nimport flip from './modules/flip'\nimport myReady from './modules/MyReady'\nimport rivalReady from './modules/RivalReady'\n\nimport observable from './observable'\nimport queue from './queue'\nimport prefix from './prefix'\nimport translate from './translate'\n\nimport Card from './card'\n\nexport default function Deck() {\n    // init cards array\n    var cards = []\n\n    var $el = createElement('div')\n    var self = observable({mount, unmount, cleanDragCard, cards, $el})\n    var $root\n\n    var modules = Deck.modules\n    var module\n\n    // make queueable\n    queue(self)\n\n    // load modules\n    for (module in modules) {\n        addModule(modules[module])\n    }\n\n    // add class\n    $el.classList.add('deck')\n\n    var card\n\n    // create cards\n    for (var i = cards.length; i; i--) {\n        card = cards[i - 1] = Card(i - 1)\n        card.mount($el)\n    }\n\n    self.addCard = function () {\n        var card;\n        var i = self.cards.length;\n        self.cards.push(null);\n        card = self.cards[i] = Card(i)\n        card.mount($el);\n        return card;\n    }\n\n    return self\n\n    function mount(root) {\n        // mount deck to root\n        $root = root\n        $root.appendChild($el)\n    }\n\n    function unmount() {\n        // unmount deck from root\n        $root.removeChild($el);\n        self.queueing = []\n    }\n\n    function addModule(module) {\n        module.deck && module.deck(self)\n    }\n\n    function cleanDragCard(){\n        self.cards.forEach(function(card){\n            (!card.isStaticNode()) && card.unmount();\n        });\n        self.cards = self.cards.filter(function(card){\n            return card.isStaticNode();\n        });\n    }\n}\nDeck.animationFrames = animationFrames\nDeck.ease = ease\nDeck.modules = {bysuit, fan, intro, poker, shuffle, sort, flip, myReady, rivalReady}\nDeck.Card = Card\nDeck.prefix = prefix\nDeck.translate = translate\n"],"names":["type","document","createElement","ticking","animations","delay","duration","now","Date","start","end","animation","push","tick","self","cb","startcb","progresscb","endcb","length","i","started","t","splice","window","requestAnimationFrame","getComputedStyle","body","getPropertyValue","slice","fontSize","deck","bysuit","queued","next","cards","filter","card","isStaticNode","getFontSize","forEach","rank","suit","animateTo","Math","round","fan","len","$el","z","rot","cos","deg2rad","sin","style","zIndex","degrees","PI","memoized","param","camelCase","toUpperCase","prefixes","test","has3d","a","b","c","check3d","isMobile","navigator","userAgent","transform","prefix","$p","appendChild","removeChild","intro","setSide","translate","opacity","x","y","poker","parseInt","array","rnd","temp","random","value","plusminus","shuffle","pos","plusMinus","sort","reverse","flip","side","flipped","myReady","positionMap","rivalReady","cardMap","target","listeners","on","one","off","trigger","name","ctx","once","args","Array","prototype","arguments","currentListeners","listener","apply","queueing","queue","action","concat","err","EvEmitter","eventName","events","_events","indexOf","onceEvents","_onceEvents","onceListeners","index","isOnce","log","postStartEvents","Unipointer","elem","_bindStartEvent","isBind","undefined","bindMethod","event","method","button","_pointerDown","pointer","pointerDown","_bindPostStartEvents","emitEvent","addEventListener","_boundPointerEvents","removeEventListener","_pointerMove","pointerMove","_pointerUp","_pointerDone","pointerUp","_unbindPostStartEvents","noop","Unidragger","_bindHandles","binderExtra","pointerEnabled","handle","touchAction","msPointerEnabled","msTouchAction","handles","extend","prop","docElem","documentElement","transformProperty","Draggabilly","element","options","querySelector","constructor","defaults","option","_create","opts","setHandles","querySelectorAll","bindHandles","maxZ","id","$face","$back","isDraggable","isFlippable","isMoveBackable","mount","unmount","modules","Deck","module","classList","add","PosStatus","$container","dragObj","onMousedown","e","startPos","starttime","preventDefault","clientX","clientY","touches","onMousemove","onMouseup","hide","show","params","ease","onStart","onProgress","onComplete","startX","startY","startRot","diffX","diffY","diffRot","progress","et","Ease","setAutoMoveBack","AutoMoveBackEvent","setNotMoveBack","originPosX","originPosY","AutoMoveBack","toStaticNode","droppableEl","callback","$StaticContainer","el","moveToStaticNode","suitName","SuitName","setAttribute","position","left","top","innerHTML","toDragNode","offset2","getOffset","width2","offsetWidth","height2","offsetHeight","bodyoffset","bodywidth","clientWidth","bodyheight","clientHeight","right","bottom","setRankSuit","enableDragging","cursor","enableFlipping","disableFlipping","disableDragging","setCard","setPosition","addModule","$root","newSide","addListener","transEndEventNames","offset","getBoundingClientRect","scrollY","scrollX","pageXOffset","scrollLeft","pageYOffset","scrollTop","observable","cleanDragCard","Card","addCard","root","animationFrames"],"mappings":"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"}