{"version":3,"file":null,"sources":["../../../src/lib/deck/createElement.js","../../../src/lib/deck/animationFrames.js","../../../src/lib/deck/ease.js","../../../src/lib/deck/fontSize.js","../../../src/lib/deck/modules/bysuit.js","../../../src/lib/deck/modules/fan.js","../../../src/lib/deck/prefix.js","../../../src/lib/deck/translate.js","../../../src/lib/deck/modules/intro.js","../../../src/lib/deck/modules/poker.js","../../../src/lib/deck/fisherYates.js","../../../src/lib/deck/plusminus.js","../../../src/lib/deck/modules/shuffle.js","../../../src/lib/deck/modules/sort.js","../../../src/lib/deck/modules/flip.js","../../../src/lib/deck/modules/MyReady.js","../../../src/lib/deck/modules/RivalReady.js","../../../src/lib/deck/observable.js","../../../src/lib/deck/queue.js","../../../src/lib/deck/draggabilly/ev-emitter.js","../../../src/lib/deck/draggabilly/unipointer.js","../../../src/lib/deck/draggabilly/unidragger.js","../../../src/lib/deck/draggabilly/draggabilly.js","../../../src/lib/deck/card.js","../../../src/lib/deck/deck.js"],"sourcesContent":["\r\nexport default function (type) {\r\n  return document.createElement(type)\r\n}\r\n","\r\nvar ticking\r\nvar animations = []\r\n\r\nexport default function (delay, duration) {\r\n  var now = Date.now()\r\n\r\n  // calculate animation start/end times\r\n  var start = now + delay\r\n  var end = start + duration\r\n\r\n  var animation = {\r\n    start: start,\r\n    end: end\r\n  }\r\n\r\n  // add animation\r\n  animations.push(animation)\r\n\r\n  if (!ticking) {\r\n    // start ticking\r\n    ticking = true\r\n    requestAnimationFrame(tick)\r\n  }\r\n  var self = {\r\n    start: function (cb) {\r\n      // add start callback (just one)\r\n      animation.startcb = cb\r\n      return self\r\n    },\r\n    progress: function (cb) {\r\n      // add progress callback (just one)\r\n      animation.progresscb = cb\r\n      return self\r\n    },\r\n    end: function (cb) {\r\n      // add end callback (just one)\r\n      animation.endcb = cb\r\n      return self\r\n    }\r\n  }\r\n  return self\r\n}\r\n\r\nfunction tick () {\r\n  var now = Date.now()\r\n\r\n  if (!animations.length) {\r\n    // stop ticking\r\n    ticking = false\r\n    return\r\n  }\r\n\r\n  for (var i = 0, animation; i < animations.length; i++) {\r\n    animation = animations[i]\r\n    if (now < animation.start) {\r\n      // animation not yet started..\r\n      continue\r\n    }\r\n    if (!animation.started) {\r\n      // animation starts\r\n      animation.started = true\r\n      animation.startcb && animation.startcb()\r\n    }\r\n    // animation progress\r\n    var t = (now - animation.start) / (animation.end - animation.start)\r\n    animation.progresscb && animation.progresscb(t < 1 ? t : 1)\r\n    if (now > animation.end) {\r\n      // animation ended\r\n      animation.endcb && animation.endcb()\r\n      animations.splice(i--, 1)\r\n      continue\r\n    }\r\n  }\r\n  requestAnimationFrame(tick)\r\n}\r\n\r\n// fallback\r\nwindow.requestAnimationFrame || (window.requestAnimationFrame = function (cb) {\r\n  setTimeout(cb, 0)\r\n})\r\n","\r\nexport default {\r\n  linear: function (t) {\r\n    return t\r\n  },\r\n  quadIn: function (t) {\r\n    return t * t\r\n  },\r\n  quadOut: function (t) {\r\n    return t * (2 - t)\r\n  },\r\n  quadInOut: function (t) {\r\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t\r\n  },\r\n  cubicIn: function (t) {\r\n    return t * t * t\r\n  },\r\n  cubicOut: function (t) {\r\n    return (--t) * t * t + 1\r\n  },\r\n  cubicInOut: function (t) {\r\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\r\n  },\r\n  quartIn: function (t) {\r\n    return t * t * t * t\r\n  },\r\n  quartOut: function (t) {\r\n    return 1 - (--t) * t * t * t\r\n  },\r\n  quartInOut: function (t) {\r\n    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\r\n  },\r\n  quintIn: function (t) {\r\n    return t * t * t * t * t\r\n  },\r\n  quintOut: function (t) {\r\n    return 1 + (--t) * t * t * t * t\r\n  },\r\n  quintInOut: function (t) {\r\n    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\r\n  }\r\n}\r\n","\r\nexport default function () {\r\n  return window.getComputedStyle(document.body).getPropertyValue('font-size').slice(0, -2)\r\n}\r\n","\r\nimport getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.bysuit = deck.queued(bysuit)\r\n\r\n    function bysuit (next) {\r\n      var cards = deck.cards\r\n\r\n      fontSize = getFontSize()\r\n\r\n      cards.forEach(function (card) {\r\n        card.bysuit(function (i) {\r\n          if (i === cards.length - 1) {\r\n            next()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  card: function (card) {\r\n    var rank = card.rank\r\n    var suit = card.suit\r\n\r\n    card.bysuit = function (cb) {\r\n      var i = card.i\r\n      var delay = i * 10\r\n\r\n      card.animateTo({\r\n        delay: delay,\r\n        duration: 400,\r\n\r\n        x: -Math.round((6.75 - rank) * 8 * fontSize / 16),\r\n        y: -Math.round((1.5 - suit) * 92 * fontSize / 16),\r\n        rot: 0,\r\n\r\n        onComplete: function () {\r\n          cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","\r\nimport getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.fan = deck.queued(fan)\r\n\r\n    function fan (next) {\r\n      var cards = deck.cards\r\n      var len = cards.length\r\n\r\n      fontSize = getFontSize()\r\n\r\n      cards.forEach(function (card, i) {\r\n        card.fan(i, len, function (i) {\r\n          if (i === cards.length - 1) {\r\n            next()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  card: function (card) {\r\n    var $el = card.$el\r\n\r\n    card.fan = function (i, len, cb) {\r\n      var z = i / 4\r\n      var delay = i * 10\r\n      var rot = i / (len - 1) * 260 - 130\r\n\r\n      card.animateTo({\r\n        delay: delay,\r\n        duration: 300,\r\n\r\n        x: -z,\r\n        y: -z,\r\n        rot: 0\r\n      })\r\n      card.animateTo({\r\n        delay: 300 + delay,\r\n        duration: 300,\r\n\r\n        x: Math.cos(deg2rad(rot - 90)) * 55 * fontSize / 16,\r\n        y: Math.sin(deg2rad(rot - 90)) * 55 * fontSize / 16,\r\n        rot: rot,\r\n\r\n        onStart: function () {\r\n          $el.style.zIndex = i\r\n        },\r\n\r\n        onComplete: function () {\r\n          cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nfunction deg2rad (degrees) {\r\n  return degrees * Math.PI / 180\r\n}\r\n","\r\nvar style = document.createElement('p').style\r\nvar memoized = {}\r\n\r\nexport default function (param) {\r\n  if (typeof memoized[param] !== 'undefined') {\r\n    return memoized[param]\r\n  }\r\n\r\n  if (typeof style[param] !== 'undefined') {\r\n    memoized[param] = param\r\n    return param\r\n  }\r\n\r\n  var camelCase = param[0].toUpperCase() + param.slice(1)\r\n  var prefixes = ['webkit', 'moz', 'Moz', 'ms', 'o']\r\n  var test\r\n\r\n  for (var i = 0, len = prefixes.length; i < len; i++) {\r\n    test = prefixes[i] + camelCase\r\n    if (typeof style[test] !== 'undefined') {\r\n      memoized[param] = test\r\n      return test\r\n    }\r\n  }\r\n}\r\n\r\n","\r\nimport prefix from './prefix'\r\n\r\nvar has3d\r\n\r\nexport default function (a, b, c) {\r\n  (typeof has3d !== 'undefined') || (has3d = check3d())\r\n\r\n  c = c || 0\r\n\r\n  if (has3d) {\r\n    return 'translate3d(' + a + ', ' + b + ', ' + c + ')'\r\n  } else {\r\n    return 'translate(' + a + ', ' + b + ')'\r\n  }\r\n}\r\n\r\nfunction check3d () {\r\n  // I admit, this line is stealed from the great Velocity.js!\r\n  // http://julian.com/research/velocity/\r\n  var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\r\n\r\n  if (!isMobile) {\r\n    return false\r\n  }\r\n\r\n  var transform = prefix('transform')\r\n  var $p = document.createElement('p')\r\n\r\n  document.body.appendChild($p)\r\n  $p.style[transform] = 'translate3d(1px,1px,1px)'\r\n\r\n  has3d = $p.style[transform]\r\n  has3d = has3d != null && has3d.length && has3d !== 'none'\r\n\r\n  document.body.removeChild($p)\r\n\r\n  return has3d\r\n}\r\n","\r\nimport animationFrames from '../animationFrames'\r\nimport ease from '../ease'\r\nimport prefix from '../prefix'\r\nimport translate from '../translate'\r\n\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.intro = deck.queued(intro)\r\n\r\n    function intro (next) {\r\n      var cards = deck.cards\r\n\r\n      cards.forEach(function (card, i) {\r\n        card.setSide('back')\r\n        card.intro(i, function (i) {\r\n          animationFrames(250, 0)\r\n            .start(function () {\r\n              card.setSide('front')\r\n            })\r\n          if (i === cards.length - 1) {\r\n            next()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  card: function (card) {\r\n    var transform = prefix('transform')\r\n\r\n    var $el = card.$el\r\n\r\n    card.intro = function (i, cb) {\r\n      var delay = 500 + i * 10\r\n      var z = i / 4\r\n\r\n      $el.style[transform] = translate(-z + 'px', '-250px')\r\n      $el.style.opacity = 0\r\n\r\n      card.x = -z\r\n      card.y = -250 - z\r\n      card.rot = 0\r\n\r\n      card.animateTo({\r\n        delay: delay,\r\n        duration: 1000,\r\n\r\n        x: -z,\r\n        y: -z,\r\n\r\n        onStart: function () {\r\n          $el.style.zIndex = i\r\n        },\r\n        onProgress: function (t) {\r\n          $el.style.opacity = t\r\n        },\r\n        onComplete: function () {\r\n          $el.style.opacity = ''\r\n          cb && cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","\r\nimport getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.poker = deck.queued(poker)\r\n\r\n    function poker (next) {\r\n      var cards = deck.cards\r\n      var len = cards.length\r\n\r\n      fontSize = getFontSize()\r\n\r\n      cards.reverse().forEach(function (card, i) {\r\n        card.poker(i, len, function (i) {\r\n          card.setSide('front')\r\n          if (i === (cards.length - 1)) {\r\n            next()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  card: function (card) {\r\n    var $el = card.$el\r\n\r\n    card.poker = function (i, len, cb) {\r\n      var delay = i * 250;\r\n      card.animateTo({\r\n        delay: 0,\r\n        duration: 250,\r\n\r\n        x: Math.round((parseInt( i%7 ) - 3) * 120 * fontSize / 16),\r\n        y: Math.round(270 + (parseInt( i/7 ) - 3) * 150 * fontSize / 16),\r\n        rot: 0,\r\n\r\n        onStart: function () {\r\n          $el.style.zIndex = (len - 1) + i\r\n        },\r\n        onComplete: function () {\r\n          cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","\r\nexport default function (array) {\r\n  var rnd, temp\r\n\r\n  for (var i = array.length - 1; i; i--) {\r\n    rnd = Math.random() * i | 0\r\n    temp = array[i]\r\n    array[i] = array[rnd]\r\n    array[rnd] = temp\r\n  }\r\n\r\n  return array\r\n}\r\n","\r\nexport default function (value) {\r\n  var plusminus = Math.round(Math.random()) ? -1 : 1\r\n\r\n  return plusminus * value\r\n}\r\n","\r\nimport getFontSize from '../fontSize'\r\nimport fisherYates from '../fisherYates'\r\nimport plusMinus from '../plusminus'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.shuffle = deck.queued(shuffle)\r\n\r\n    function shuffle (next) {\r\n      var cards = deck.cards\r\n\r\n      fontSize = getFontSize()\r\n\r\n      fisherYates(cards)\r\n\r\n      cards.forEach(function (card, i) {\r\n        card.pos = i\r\n\r\n        card.shuffle(function (i) {\r\n          if (i === cards.length - 1) {\r\n            next()\r\n          }\r\n        })\r\n      })\r\n      return\r\n    }\r\n  },\r\n\r\n  card: function (card) {\r\n    var $el = card.$el\r\n\r\n    card.shuffle = function (cb) {\r\n      var i = card.pos\r\n      var z = i / 4\r\n      var delay = i * 2\r\n\r\n      card.animateTo({\r\n        delay: delay,\r\n        duration: 200,\r\n\r\n        x: plusMinus(Math.random() * 40 + 20) * fontSize / 16,\r\n        y: -z,\r\n        rot: 0\r\n      })\r\n      card.animateTo({\r\n        delay: 200 + delay,\r\n        duration: 200,\r\n\r\n        x: -z,\r\n        y: -z,\r\n        rot: 0,\r\n\r\n        onStart: function () {\r\n          $el.style.zIndex = i\r\n        },\r\n\r\n        onComplete: function () {\r\n          cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.sort = deck.queued(sort)\r\n\r\n    function sort (next, reverse) {\r\n      var cards = deck.cards\r\n\r\n      cards.sort(function (a, b) {\r\n        if (reverse) {\r\n          return a.i - b.i\r\n        } else {\r\n          return b.i - a.i\r\n        }\r\n      })\r\n\r\n      cards.forEach(function (card, i) {\r\n        card.sort(i, cards.length, function (i) {\r\n          if (i === cards.length - 1) {\r\n            next()\r\n          }\r\n        }, reverse)\r\n      })\r\n    }\r\n  },\r\n  card: function (card) {\r\n    var $el = card.$el\r\n\r\n    card.sort = function (i, len, cb, reverse) {\r\n      var z = i / 4\r\n      var delay = i * 10\r\n\r\n      card.animateTo({\r\n        delay: delay,\r\n        duration: 400,\r\n\r\n        x: -z,\r\n        y: -150,\r\n        rot: 0,\r\n\r\n        onComplete: function () {\r\n          $el.style.zIndex = i\r\n        }\r\n      })\r\n\r\n      card.animateTo({\r\n        delay: delay + 500,\r\n        duration: 400,\r\n\r\n        x: -z,\r\n        y: -z,\r\n        rot: 0,\r\n\r\n        onComplete: function () {\r\n          cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.flip = deck.queued(flip)\r\n\r\n    function flip (next, side) {\r\n      var flipped = deck.cards.filter(function (card) {\r\n        return card.side === 'front'\r\n      }).length / deck.cards.length\r\n\r\n      deck.cards.forEach(function (card, i) {\r\n        card.setSide(side ? side : flipped > 0.5 ? 'back' : 'front')\r\n      })\r\n      next()\r\n    }\r\n  }\r\n}\r\n","\r\nimport getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.myReady = deck.queued(myReady)\r\n\r\n    function myReady (next) {\r\n      var cards = deck.cards\r\n\r\n      fontSize = getFontSize()\r\n\r\n      cards = deck.cards.slice(0,4);\r\n\r\n      cards.forEach(function (card) {\r\n        card.myReady(function (i) {\r\n          if (i === cards.length - 1) {\r\n            next()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  card: function (card) {\r\n    var rank = card.rank\r\n    var suit = card.suit\r\n\r\n    var positionMap = [\r\n      {x:-304,y:70},\r\n      {x:20,y:70},\r\n      {x:-304,y:221},\r\n      {x:20,y:221}\r\n    ];\r\n\r\n    card.myReady = function (cb) {\r\n      var i = card.i\r\n      var delay = 0\r\n\r\n      card.animateTo({\r\n        delay: delay,\r\n        duration: 400,\r\n\r\n        x: positionMap[i].x,\r\n        y: positionMap[i].y,\r\n        rot: 0,\r\n\r\n        onComplete: function () {\r\n          cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","\r\nimport getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n  deck: function (deck) {\r\n    deck.rivalReady = deck.queued(rivalReady)\r\n\r\n    function rivalReady (next) {\r\n      var cards = deck.cards\r\n\r\n      fontSize = getFontSize()\r\n\r\n      cards = deck.cards.slice(4,8);\r\n\r\n      cards.forEach(function (card) {\r\n        card.rivalReady(function (i) {\r\n          if (i === cards.length - 1) {\r\n            next()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  },\r\n  card: function (card) {\r\n    var rank = card.rank\r\n    var suit = card.suit\r\n\r\n    var cardMap = [\r\n      {x : -261, y : -240},\r\n      {x : -87, y : -240},\r\n      {x : 87, y : -240},\r\n      {x : 261, y : -240}\r\n    ];\r\n\r\n    var positionMap = [\r\n      {x : 20, y : -93},\r\n      {x : -304, y : -93},\r\n      {x : 20, y : -246},\r\n      {x : -304, y : -246}\r\n    ];\r\n\r\n    card.rivalReady = function (cb) {\r\n      var i = card.i - 4;\r\n      var delay = 0\r\n\r\n      card.animateTo({\r\n        delay: delay + 100 * i,\r\n        duration: 400,\r\n\r\n        x: cardMap[i].x,\r\n        y: cardMap[i].y,\r\n        rot: 0\r\n      })\r\n\r\n      card.animateTo({\r\n        delay: 1000,\r\n        duration: 400,\r\n\r\n        x: positionMap[i].x,\r\n        y: positionMap[i].y,\r\n        rot: 0,\r\n\r\n        onComplete: function () {\r\n          cb(i)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","\r\nexport default function (target) {\r\n  target || (target = {})\r\n  var listeners = {}\r\n\r\n  target.on = on\r\n  target.one = one\r\n  target.off = off\r\n  target.trigger = trigger\r\n\r\n  return target\r\n\r\n  function on (name, cb, ctx) {\r\n    listeners[name] || (listeners[name] = [])\r\n    listeners[name].push({cb, ctx})\r\n  }\r\n\r\n  function one (name, cb, ctx) {\r\n    listeners[name] || (listeners[name] = [])\r\n    listeners[name].push({\r\n      cb, ctx, once: true\r\n    })\r\n  }\r\n\r\n  function trigger (name) {\r\n    var self = this\r\n    var args = Array.prototype.slice(arguments, 1)\r\n\r\n    var currentListeners = listeners[name] || []\r\n\r\n    currentListeners.filter(function (listener) {\r\n      listener.cb.apply(self, args)\r\n\r\n      return !listener.once\r\n    })\r\n  }\r\n\r\n  function off (name, cb) {\r\n    if (!name) {\r\n      listeners = {}\r\n      return\r\n    }\r\n\r\n    if (!cb) {\r\n      listeners[name] = []\r\n      return\r\n    }\r\n\r\n    listeners[name] = listeners[name].filter(function (listener) {\r\n      return listener.cb !== cb\r\n    })\r\n  }\r\n}\r\n","\r\nexport default function (target) {\r\n  var array = Array.prototype\r\n\r\n  var queueing = []\r\n  target.queueing = queueing;\r\n\r\n  target.queue = queue\r\n  target.queued = queued\r\n\r\n  return target\r\n\r\n  function queued (action) {\r\n    return function () {\r\n      var self = this\r\n      var args = arguments\r\n\r\n      queue(function (next) {\r\n        action.apply(self, array.concat.apply(next, args))\r\n      })\r\n    }\r\n  }\r\n\r\n  function queue (action) {\r\n    if (!action) {\r\n      return\r\n    }\r\n\r\n    queueing.push(action)\r\n\r\n    if (queueing.length === 1) {\r\n      next()\r\n    }\r\n  }\r\n  function next () {\r\n    queueing[0](function (err) {\r\n      if (err) {\r\n        throw err\r\n      }\r\n\r\n      queueing = queueing.slice(1)\r\n\r\n      if (queueing.length) {\r\n        next()\r\n      }\r\n    })\r\n  }\r\n}\r\n","export default class EvEmitter {\r\n  constructor() {\r\n  }\r\n  on( eventName, listener ) {\r\n    if ( !eventName || !listener ) {\r\n      return;\r\n    }\r\n    // set events hash\r\n    var events = this._events = this._events || {};\r\n    // set listeners array\r\n    var listeners = events[ eventName ] = events[ eventName ] || [];\r\n    // only add once\r\n    if ( listeners.indexOf( listener ) == -1 ) {\r\n      listeners.push( listener );\r\n    }\r\n    return this;\r\n  };\r\n\r\n  once( eventName, listener ) {\r\n    if ( !eventName || !listener ) {\r\n      return;\r\n    }\r\n    // add event\r\n    this.on( eventName, listener );\r\n    // set once flag\r\n    // set onceEvents hash\r\n    var onceEvents = this._onceEvents = this._onceEvents || {};\r\n    // set onceListeners object\r\n    var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\r\n    // set flag\r\n    onceListeners[ listener ] = true;\r\n    return this;\r\n  };\r\n\r\n  off( eventName, listener ) {\r\n    var listeners = this._events && this._events[ eventName ];\r\n    if ( !listeners || !listeners.length ) {\r\n      return;\r\n    }\r\n    var index = listeners.indexOf( listener );\r\n    if ( index != -1 ) {\r\n      listeners.splice( index, 1 );\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  emitEvent( eventName, args ) {\r\n    var listeners = this._events && this._events[ eventName ];\r\n    if ( !listeners || !listeners.length ) {\r\n      return;\r\n    }\r\n    var i = 0;\r\n    var listener = listeners[i];\r\n    args = args || [];\r\n    // once stuff\r\n    var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\r\n\r\n    while ( listener ) {\r\n      var isOnce = onceListeners && onceListeners[ listener ];\r\n      if ( isOnce ) {\r\n        // remove listener\r\n        // remove before trigger to prevent recursion\r\n        this.off( eventName, listener );\r\n        // unset once flag\r\n        delete onceListeners[ listener ];\r\n      }\r\n      // trigger listener\r\n      listener.apply( this, args );\r\n      // get next listener\r\n      i += isOnce ? 0 : 1;\r\n      listener = listeners[i];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  show(eventName){\r\n    var listeners = this._events;\r\n    console.log(listeners);\r\n  }\r\n}\r\n","import EvEmitter from './ev-emitter.js'\r\n\r\n\r\nvar postStartEvents = {\r\n\tmousedown: [ 'mousemove', 'mouseup' ],\r\n\ttouchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\r\n\tpointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\r\n\tMSPointerDown: [ 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel' ]\r\n};\r\nexport default class Unipointer extends EvEmitter{\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tbindStartEvent( elem ) {\r\n\t\tthis._bindStartEvent( elem, true );\r\n\t};\r\n\tunbindStartEvent( elem ) {\r\n\t\tthis._bindStartEvent( elem, false );\r\n\t};\r\n\t_bindStartEvent( elem, isBind ) {\r\n\t\t// munge isBind, default to true\r\n\t\tisBind = isBind === undefined ? true : !!isBind;\r\n\t\tvar bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\r\n\t\telem[ bindMethod ]( 'mousedown', this );\r\n\t\telem[ bindMethod ]( 'touchstart', this );\r\n\t};\r\n\thandleEvent( event ) {\r\n\t\tvar method = 'on' + event.type;\r\n\t\tif ( this[ method ] ) {\r\n\t\t\tthis[ method ]( event );\r\n\t\t}\r\n\t};\r\n\r\n\tonmousedown( event ) {\r\n\t\tvar button = event.button;\r\n\t\tif ( button && ( button !== 0 && button !== 1 ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._pointerDown( event, event );\r\n\t};\r\n\t_pointerDown( event, pointer ) {\r\n\t\tthis.pointerDown( event, pointer );\r\n\t};\r\n\tpointerDown( event, pointer ) {\r\n\t\tthis._bindPostStartEvents( event );\r\n\t\tthis.emitEvent( 'pointerDown', [ event, pointer ] );\r\n\t};\r\n\t_bindPostStartEvents ( event ) {\r\n\t\tif ( !event ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// get proper events to match start event\r\n\t\tvar events = postStartEvents[ event.type ];\r\n\t\t// bind events to node\r\n\t\tevents.forEach( function( eventName ) {\r\n\t\t\twindow.addEventListener( eventName, this );\r\n\t\t}, this );\r\n\t\tthis._boundPointerEvents = events;\r\n\t};\r\n\t_unbindPostStartEvents () {\r\n\t\t// check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\r\n\t\tif ( !this._boundPointerEvents ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._boundPointerEvents.forEach( function( eventName ) {\r\n\t\t\twindow.removeEventListener( eventName, this );\r\n\t\t}, this );\r\n\r\n\t\tdelete this._boundPointerEvents;\r\n\t};\r\n\r\n\tonmousemove( event ) {\r\n\t\tthis._pointerMove( event, event );\r\n\t};\r\n\t_pointerMove( event, pointer ) {\r\n\t\tthis.pointerMove( event, pointer );\r\n\t};\r\n\tpointerMove( event, pointer ) {\r\n\t\tthis.emitEvent( 'pointerMove', [ event, pointer ] );\r\n\t};\r\n\r\n\r\n\tonmouseup( event ) {\r\n\t\tthis._pointerUp( event, event );\r\n\t};\r\n\t_pointerUp ( event, pointer ) {\r\n\t\tthis._pointerDone();\r\n\t\tthis.pointerUp( event, pointer );\r\n\t};\r\n\tpointerUp( event, pointer ) {\r\n\t\tthis.emitEvent( 'pointerUp', [ event, pointer ] );\r\n\t};\r\n\t_pointerDone () {\r\n\t\tthis._unbindPostStartEvents();\r\n\t};\r\n\r\n\r\n}","import Unipointer from './unipointer.js'\r\n\r\nvar navigator = window.navigator;\r\n\r\nfunction noop() {}\r\nexport default class Unidragger extends Unipointer{\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  bindHandles() {\r\n    this._bindHandles( true );\r\n  };\r\n  unbindHandles() {\r\n    this._bindHandles( false );\r\n  };\r\n  _bindHandles( isBind ) {\r\n    // munge isBind, default to true\r\n    isBind = isBind === undefined ? true : !!isBind;\r\n    // extra bind logic\r\n    var binderExtra;\r\n    if ( navigator.pointerEnabled ) {\r\n      binderExtra = function( handle ) {\r\n        // disable scrolling on the element\r\n        handle.style.touchAction = isBind ? 'none' : '';\r\n      };\r\n    } else if ( navigator.msPointerEnabled ) {\r\n      binderExtra = function( handle ) {\r\n        // disable scrolling on the element\r\n        handle.style.msTouchAction = isBind ? 'none' : '';\r\n      };\r\n    } else {\r\n      binderExtra = noop;\r\n    }\r\n    // bind each handle\r\n    var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\r\n    for ( var i=0; i < this.handles.length; i++ ) {\r\n      var handle = this.handles[i];\r\n      this._bindStartEvent( handle, isBind );\r\n      binderExtra( handle );\r\n    }\r\n  };\r\n}","import Unidragger from './unidragger.js'\r\n\r\nvar document = window.document;\r\nfunction noop() {}\r\nfunction extend( a, b ) {\r\n\tfor ( var prop in b ) {\r\n\t\ta[ prop ] = b[ prop ];\r\n\t}\r\n\treturn a;\r\n}\r\nfunction isElement( obj ) {\r\n\treturn obj instanceof HTMLElement;\r\n}\r\n\r\nvar requestAnimationFrame = window.requestAnimationFrame ||\r\n\twindow.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\r\nvar lastTime = 0;\r\nif ( !requestAnimationFrame )  {\r\n\trequestAnimationFrame = function( callback ) {\r\n\t\tvar currTime = new Date().getTime();\r\n\t\tvar timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );\r\n\t\tvar id = setTimeout( callback, timeToCall );\r\n\t\tlastTime = currTime + timeToCall;\r\n\t\treturn id;\r\n\t};\r\n}\r\n\r\nvar docElem = document.documentElement;\r\nvar transformProperty = typeof docElem.style.transform == 'string' ?\r\n\t'transform' : 'WebkitTransform';\r\n\r\n\r\nexport default class Draggabilly extends Unidragger{\r\n\tconstructor( element, options ) {\r\n\t\tsuper();\r\n\t\tthis.element = typeof element == 'string' ?\r\n\t\t\tdocument.querySelector( element ) : element;\r\n\r\n\t\tthis.options = extend( {}, this.constructor.defaults );\r\n\t\tthis.option( options );\r\n\r\n\t\tthis._create();\r\n\t}\r\n\r\n\toption( opts ) {\r\n\t\textend( this.options, opts );\r\n\t};\r\n\r\n\t_create() {\r\n\r\n\t\tthis.setHandles();\r\n\t};\r\n\r\n\tsetHandles() {\r\n\t\tthis.handles = this.options.handle ?\r\n\t\t\tthis.element.querySelectorAll( this.options.handle ) : [ this.element ];\r\n\r\n\t\tthis.bindHandles();\r\n\t};\r\n\r\n}\r\n\r\nDraggabilly.defaults = {\r\n};\r\n","\r\nimport Deck from './deck'\r\n\r\nimport animationFrames from './animationFrames'\r\nimport createElement from './createElement'\r\nimport Ease from './ease'\r\nimport translate from './translate'\r\nimport prefix from './prefix'\r\nimport Draggabilly from './draggabilly/draggabilly.js'\r\n\r\nvar maxZ = 100\r\n\r\nexport default function (i) {\r\n  var transform = prefix('transform')\r\n\r\n  // calculate rank/suit, etc..\r\n  var rank = i % 13 + 1\r\n  var suit = i / 13 | 0\r\n  var z = (52 - i) / 4\r\n\r\n  // create elements\r\n  var $el = createElement('div')\r\n  var $face = createElement('div')\r\n  var $back = createElement('div')\r\n\r\n  // states\r\n  var isDraggable = false\r\n  var isStaticNode = false\r\n  var isFlippable = false\r\n  var isMoveBackable = false\r\n\r\n  // self = card\r\n  var self = {i, rank, suit, pos: i, $el, mount, unmount, setSide}\r\n\r\n  var modules = Deck.modules\r\n  var module\r\n\r\n  // add classes\r\n  $face.classList.add('face')\r\n  $back.classList.add('back')\r\n\r\n  // add default transform\r\n  $el.style[transform] = translate(-z + 'px', -z + 'px')\r\n\r\n  // add default values\r\n  self.x = -z\r\n  self.y = -z\r\n  self.z = z\r\n  self.rot = 0\r\n\r\n  self.PosStatus = {\r\n    startPos : {},\r\n    pos : {},\r\n    starttime : 0,\r\n    originPosX : 0,\r\n    originPosY : 0,\r\n  };\r\n  self.$container = null;\r\n\r\n  // set default side to back\r\n  self.setSide('back')\r\n\r\n  // add drag/click listeners\r\n  self.dragObj = new Draggabilly($el, {});\r\n  self.onMousedown = function(e){\r\n    var startPos = self.PosStatus.startPos\r\n    var pos = self.PosStatus.pos\r\n\r\n    var starttime = Date.now()\r\n    self.PosStatus.starttime = starttime\r\n\r\n    e.preventDefault()\r\n\r\n    if (e.type === 'mousedown') {\r\n      startPos.x = pos.x = e.clientX\r\n      startPos.y = pos.y = e.clientY\r\n    } else {\r\n      startPos.x = pos.x = e.touches[0].clientX\r\n      startPos.y = pos.y = e.touches[0].clientY\r\n    }\r\n\r\n    if (!isDraggable) {\r\n      // is not draggable, do nothing\r\n      return\r\n    }\r\n\r\n    // move card\r\n    $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '')\r\n    $el.style.zIndex = maxZ++\r\n  }\r\n  self.onMousemove = function(e){\r\n    var startPos = self.PosStatus.startPos\r\n    var pos = self.PosStatus.pos\r\n\r\n    if (!isDraggable) {\r\n      // is not draggable, do nothing\r\n      return\r\n    }\r\n    if (e.type === 'mousemove') {\r\n      pos.x = e.clientX\r\n      pos.y = e.clientY\r\n    } else {\r\n      pos.x = e.touches[0].clientX\r\n      pos.y = e.touches[0].clientY\r\n    }\r\n\r\n    // move card\r\n    $el.style[transform] = translate(Math.round(self.x + pos.x - startPos.x) + 'px', Math.round(self.y + pos.y - startPos.y) + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '')\r\n\r\n  };\r\n  self.onMouseup = function(e){\r\n    var startPos = self.PosStatus.startPos\r\n    var pos = self.PosStatus.pos\r\n    var starttime = self.PosStatus.starttime\r\n\r\n\r\n    if (isFlippable && Date.now() - starttime < 200) {\r\n      // flip sides\r\n      self.setSide(self.side === 'front' ? 'back' : 'front')\r\n    }\r\n    if (!isDraggable) {\r\n      // is not draggable, do nothing\r\n      return\r\n    }\r\n\r\n    // set current position\r\n    self.x = self.x + pos.x - startPos.x\r\n    self.y = self.y + pos.y - startPos.y\r\n  };\r\n  self.dragObj.on(\"pointerDown\", self.onMousedown);\r\n  self.dragObj.on(\"pointerMove\", self.onMousemove);\r\n  self.dragObj.on(\"pointerUp\", self.onMouseup);\r\n\r\n  // load modules\r\n  for (module in modules) {\r\n    addModule(modules[module])\r\n  }\r\n\r\n  self.animateTo = function (params) {\r\n    var {delay, duration, x = self.x, y = self.y, rot = self.rot, ease, onStart, onProgress, onComplete} = params\r\n    var startX, startY, startRot\r\n    var diffX, diffY, diffRot\r\n\r\n    animationFrames(delay, duration)\r\n      .start(function () {\r\n        startX = self.x || 0\r\n        startY = self.y || 0\r\n        startRot = self.rot || 0\r\n        onStart && onStart()\r\n      })\r\n      .progress(function (t) {\r\n        var et = Ease[ease || 'cubicInOut'](t)\r\n\r\n        diffX = x - startX\r\n        diffY = y - startY\r\n        diffRot = rot - startRot\r\n\r\n        onProgress && onProgress(t, et)\r\n\r\n        self.x = startX + diffX * et\r\n        self.y = startY + diffY * et\r\n        self.rot = startRot + diffRot * et\r\n\r\n        $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (diffRot ? 'rotate(' + self.rot + 'deg)' : '')\r\n      })\r\n      .end(function () {\r\n        onComplete && onComplete()\r\n      })\r\n  }\r\n\r\n  self.setAutoMoveBack = function(){\r\n    isMoveBackable = true;\r\n    self.dragObj.on(\"pointerDown\", self.AutoMoveBackEvent);\r\n  };\r\n  self.setNotMoveBack = function(){\r\n    isMoveBackable = false;\r\n    self.PosStatus.originPosX = 0;\r\n    self.PosStatus.originPosY = 0;\r\n    self.dragObj.off(\"pointerDown\", self.AutoMoveBackEvent);\r\n  };\r\n  self.AutoMoveBackEvent = function(){\r\n    let startPos = self.PosStatus.startPos\r\n    let pos = self.PosStatus.pos\r\n    self.PosStatus.originPosX = self.x + pos.x - startPos.x;\r\n    self.PosStatus.originPosY = self.y + pos.y - startPos.y;\r\n    self.dragObj.off(\"pointerDown\", self.AutoMoveBackEvent);\r\n  };\r\n  self.AutoMoveBack = function(){\r\n    if(isMoveBackable){\r\n      self.animateTo({\r\n        delay: 0,\r\n        duration: 300,\r\n\r\n        x: self.PosStatus.originPosX,\r\n        y: self.PosStatus.originPosY,\r\n        rot: 0\r\n      });\r\n    }\r\n  };\r\n\r\n  self.toStaticNode = function(droppableEl, callback){\r\n    let $StaticContainer = droppableEl.el;\r\n    isStaticNode = true;\r\n    self.moveToStaticNode(droppableEl, ()=>{\r\n      self.unmount();\r\n      let $el = createElement('div');\r\n      let $face = createElement('div');\r\n      let $back = createElement('div');\r\n      $face.classList.add('face');\r\n      $back.classList.add('back');\r\n      var suitName = SuitName(suit);\r\n      $el.setAttribute('class', 'card ' + suitName + ' rank' + rank);\r\n      $el.style.position = 'relative';\r\n      $el.style.left = '0px';\r\n      $el.style.top = '0px';\r\n      $el.setAttribute(\"data-name\" , self.card.name);\r\n      $StaticContainer.innerHTML = \"\";\r\n      $StaticContainer.appendChild($el);\r\n      addListener($el, 'click', ()=>{\r\n        $StaticContainer.removeChild($el)\r\n        self.toDragNode();\r\n      });\r\n      callback && callback();\r\n    });\r\n  };\r\n  self.moveToStaticNode = function(droppableEl, callback){\r\n    let $StaticContainer = droppableEl.el;\r\n    let offset2 = getOffset( $StaticContainer ), width2 = $StaticContainer.offsetWidth, height2 = $StaticContainer.offsetHeight;\r\n    let bodyoffset = getOffset( body ), bodywidth = document.documentElement.clientWidth, bodyheight = document.documentElement.clientHeight;\r\n    offset2  = {\r\n      left : (offset2.left + offset2.right)/2 - width2/2,\r\n      top : (offset2.top + offset2.bottom)/2 - height2/2\r\n    }\r\n    self.animateTo({\r\n      delay: 0,\r\n      duration: 300,\r\n\r\n      x: offset2.left - bodywidth/2 + width2/2 ,\r\n      y: offset2.top - bodyheight/2 + height2/2 - 10,\r\n      rot: 0,\r\n      onComplete:()=>{\r\n        callback && callback();\r\n      }\r\n    });\r\n  };\r\n  self.isStaticNode = function(){\r\n    return isStaticNode;\r\n  };\r\n\r\n  self.toDragNode = function(){\r\n    isStaticNode = false;\r\n    self.mount(self.$container);\r\n  };\r\n\r\n  // set rank & suit\r\n  self.setRankSuit = function (rank, suit) {\r\n    var suitName = SuitName(suit)\r\n    $el.setAttribute('class', 'card ' + suitName + ' rank' + rank)\r\n  }\r\n\r\n  self.setRankSuit(rank, suit)\r\n\r\n  self.enableDragging = function () {\r\n    // this activates dragging\r\n    if (isDraggable) {\r\n      // already is draggable, do nothing\r\n      return\r\n    }\r\n    isDraggable = true\r\n    $el.style.cursor = 'move'\r\n  }\r\n\r\n  self.enableFlipping = function () {\r\n    if (isFlippable) {\r\n      // already is flippable, do nothing\r\n      return\r\n    }\r\n    isFlippable = true\r\n  }\r\n\r\n  self.disableFlipping = function () {\r\n    if (!isFlippable) {\r\n      // already disabled flipping, do nothing\r\n      return\r\n    }\r\n    isFlippable = false\r\n  }\r\n\r\n  self.disableDragging = function () {\r\n    if (!isDraggable) {\r\n      // already disabled dragging, do nothing\r\n      return\r\n    }\r\n    isDraggable = false\r\n    $el.style.cursor = ''\r\n  }\r\n\r\n  self.setCard = function (card) {\r\n    self.card  = card;\r\n    $el.setAttribute(\"data-name\" , card.name);\r\n  }\r\n  self.setPosition = function ({x,y,z}) {\r\n    $el.style[transform] = translate(x + 'px', y + 'px')\r\n\r\n    self.x = x\r\n    self.y = y\r\n  }\r\n\r\n  return self\r\n\r\n  function addModule (module) {\r\n    // add card module\r\n    module.card && module.card(self)\r\n  }\r\n\r\n  function mount (target) {\r\n    // mount card to target (deck)\r\n    target.appendChild($el)\r\n    self.$container = target;\r\n    self.$root = target\r\n  }\r\n\r\n  function unmount () {\r\n    // unmount from root (deck)\r\n    self.$root && self.$root.removeChild($el)\r\n    self.$root = null\r\n  }\r\n\r\n  function setSide (newSide) {\r\n    // flip sides\r\n    if (newSide === 'front') {\r\n      if (self.side === 'back') {\r\n        $el.removeChild($back)\r\n      }\r\n      self.side = 'front'\r\n      $el.appendChild($face)\r\n      self.setRankSuit(self.rank, self.suit)\r\n    } else {\r\n      if (self.side === 'front') {\r\n        $el.removeChild($face)\r\n      }\r\n      self.side = 'back'\r\n      $el.appendChild($back)\r\n      $el.setAttribute('class', 'card')\r\n    }\r\n  }\r\n}\r\n\r\nfunction SuitName (suit) {\r\n  // return suit name from suit value\r\n  return suit === 0 ? 'spades' : suit === 1 ? 'hearts' : suit === 2 ? 'clubs' : suit === 3 ? 'diamonds' : 'joker'\r\n}\r\n\r\nfunction addListener (target, name, listener) {\r\n  target.addEventListener(name, listener)\r\n}\r\n\r\nfunction removeListener (target, name, listener) {\r\n  target.removeEventListener(name, listener)\r\n}\r\n\r\nvar body = document.body, docElem = window.document.documentElement,\r\n  transEndEventNames = { 'WebkitTransition': 'webkitTransitionEnd', 'MozTransition': 'transitionend', 'OTransition': 'oTransitionEnd', 'msTransition': 'MSTransitionEnd', 'transition': 'transitionend' };\r\nfunction getOffset( el ) {\r\n  var offset = el.getBoundingClientRect();\r\n  return {\r\n    top : offset.top + scrollY(),\r\n    left : offset.left + scrollX(),\r\n    right : offset.right + scrollX(),\r\n    bottom : offset.bottom + scrollY(),\r\n  }\r\n}\r\nfunction scrollX() { return window.pageXOffset || docElem.scrollLeft; }\r\nfunction scrollY() { return window.pageYOffset || docElem.scrollTop; }\r\n","\r\nimport createElement from './createElement'\r\n\r\nimport animationFrames from './animationFrames'\r\nimport ease from './ease'\r\nimport bysuit from './modules/bysuit'\r\nimport fan from './modules/fan'\r\nimport intro from './modules/intro'\r\nimport poker from './modules/poker'\r\nimport shuffle from './modules/shuffle'\r\nimport sort from './modules/sort'\r\nimport flip from './modules/flip'\r\nimport myReady from './modules/MyReady'\r\nimport rivalReady from './modules/RivalReady'\r\n\r\nimport observable from './observable'\r\nimport queue from './queue'\r\nimport prefix from './prefix'\r\nimport translate from './translate'\r\n\r\nimport Card from './card'\r\n\r\nexport default function Deck (number) {\r\n  // init cards array\r\n  var cards = new Array( number )\r\n\r\n  var $el = createElement('div')\r\n  var self = observable({mount, unmount, cards, $el})\r\n  var $root\r\n\r\n  var modules = Deck.modules\r\n  var module\r\n\r\n  // make queueable\r\n  queue(self)\r\n\r\n  // load modules\r\n  for (module in modules) {\r\n    addModule(modules[module])\r\n  }\r\n\r\n  // add class\r\n  $el.classList.add('deck')\r\n\r\n  var card\r\n\r\n  // create cards\r\n  for (var i = cards.length; i; i--) {\r\n    card = cards[i - 1] = Card(i - 1)\r\n    card.mount($el)\r\n  }\r\n\r\n  self.addCard = function(){\r\n    var card;\r\n    var i = self.cards.length;\r\n    self.cards.push(null);\r\n    card = self.cards[i] = Card(i)\r\n    card.mount($el);\r\n    return card;\r\n  }\r\n\r\n  return self\r\n\r\n  function mount (root) {\r\n    // mount deck to root\r\n    $root = root\r\n    $root.appendChild($el)\r\n  }\r\n\r\n  function unmount () {\r\n    // unmount deck from root\r\n    $root.removeChild($el);\r\n    self.queueing = []\r\n  }\r\n\r\n  function addModule (module) {\r\n    module.deck && module.deck(self)\r\n  }\r\n}\r\nDeck.animationFrames = animationFrames\r\nDeck.ease = ease\r\nDeck.modules = {bysuit, fan, intro, poker, shuffle, sort, flip, myReady, rivalReady}\r\nDeck.Card = Card\r\nDeck.prefix = prefix\r\nDeck.translate = translate\r\n"],"names":["fontSize","navigator","noop","document","docElem","ease"],"mappings":";;;AACA,wBAAyB,IAAV,EAAgB;SACtB,SAAS,aAAT,CAAuB,IAAvB,CAAP;;;ACDF,IAAI,OAAJ;AACA,IAAI,aAAa,EAAjB;;AAEA,0BAAyB,KAAV,EAAiB,QAAjB,EAA2B;MACpC,MAAM,KAAK,GAAL,EAAV;;;MAGI,QAAQ,MAAM,KAAlB;MACI,MAAM,QAAQ,QAAlB;;MAEI,YAAY;WACP,KADO;SAET;GAFP;;;aAMW,IAAX,CAAgB,SAAhB;;MAEI,CAAC,OAAL,EAAc;;cAEF,IAAV;0BACsB,IAAtB;;MAEE,OAAO;WACF,eAAU,EAAV,EAAc;;gBAET,OAAV,GAAoB,EAApB;aACO,IAAP;KAJO;cAMC,kBAAU,EAAV,EAAc;;gBAEZ,UAAV,GAAuB,EAAvB;aACO,IAAP;KATO;SAWJ,aAAU,EAAV,EAAc;;gBAEP,KAAV,GAAkB,EAAlB;aACO,IAAP;;GAdJ;SAiBO,IAAP;;;AAGF,SAAS,IAAT,GAAiB;MACX,MAAM,KAAK,GAAL,EAAV;;MAEI,CAAC,WAAW,MAAhB,EAAwB;;cAEZ,KAAV;;;;OAIG,IAAI,IAAI,CAAR,EAAW,SAAhB,EAA2B,IAAI,WAAW,MAA1C,EAAkD,GAAlD,EAAuD;gBACzC,WAAW,CAAX,CAAZ;QACI,MAAM,UAAU,KAApB,EAA2B;;;;QAIvB,CAAC,UAAU,OAAf,EAAwB;;gBAEZ,OAAV,GAAoB,IAApB;gBACU,OAAV,IAAqB,UAAU,OAAV,EAArB;;;QAGE,IAAI,CAAC,MAAM,UAAU,KAAjB,KAA2B,UAAU,GAAV,GAAgB,UAAU,KAArD,CAAR;cACU,UAAV,IAAwB,UAAU,UAAV,CAAqB,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAAjC,CAAxB;QACI,MAAM,UAAU,GAApB,EAAyB;;gBAEb,KAAV,IAAmB,UAAU,KAAV,EAAnB;iBACW,MAAX,CAAkB,GAAlB,EAAuB,CAAvB;;;;wBAIkB,IAAtB;;;;AAIF,OAAO,qBAAP,KAAiC,OAAO,qBAAP,GAA+B,UAAU,EAAV,EAAc;aACjE,EAAX,EAAe,CAAf;CADF;;AC7EA,WAAe;UACL,gBAAU,CAAV,EAAa;WACZ,CAAP;GAFW;UAIL,gBAAU,CAAV,EAAa;WACZ,IAAI,CAAX;GALW;WAOJ,iBAAU,CAAV,EAAa;WACb,KAAK,IAAI,CAAT,CAAP;GARW;aAUF,mBAAU,CAAV,EAAa;WACf,IAAI,GAAJ,GAAU,IAAI,CAAJ,GAAQ,CAAlB,GAAsB,CAAC,CAAD,GAAK,CAAC,IAAI,IAAI,CAAT,IAAc,CAAhD;GAXW;WAaJ,iBAAU,CAAV,EAAa;WACb,IAAI,CAAJ,GAAQ,CAAf;GAdW;YAgBH,kBAAU,CAAV,EAAa;WACb,EAAE,CAAH,GAAQ,CAAR,GAAY,CAAZ,GAAgB,CAAvB;GAjBW;cAmBD,oBAAU,CAAV,EAAa;WAChB,IAAI,GAAJ,GAAU,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAAtB,GAA0B,CAAC,IAAI,CAAL,KAAW,IAAI,CAAJ,GAAQ,CAAnB,KAAyB,IAAI,CAAJ,GAAQ,CAAjC,IAAsC,CAAvE;GApBW;WAsBJ,iBAAU,CAAV,EAAa;WACb,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAAnB;GAvBW;YAyBH,kBAAU,CAAV,EAAa;WACd,IAAK,EAAE,CAAH,GAAQ,CAAR,GAAY,CAAZ,GAAgB,CAA3B;GA1BW;cA4BD,oBAAU,CAAV,EAAa;WAChB,IAAI,GAAJ,GAAU,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAAZ,GAAgB,CAA1B,GAA8B,IAAI,IAAK,EAAE,CAAP,GAAY,CAAZ,GAAgB,CAAhB,GAAoB,CAA7D;GA7BW;WA+BJ,iBAAU,CAAV,EAAa;WACb,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAAZ,GAAgB,CAAvB;GAhCW;YAkCH,kBAAU,CAAV,EAAa;WACd,IAAK,EAAE,CAAH,GAAQ,CAAR,GAAY,CAAZ,GAAgB,CAAhB,GAAoB,CAA/B;GAnCW;cAqCD,oBAAU,CAAV,EAAa;WAChB,IAAI,GAAJ,GAAU,KAAK,CAAL,GAAS,CAAT,GAAa,CAAb,GAAiB,CAAjB,GAAqB,CAA/B,GAAmC,IAAI,KAAM,EAAE,CAAR,GAAa,CAAb,GAAiB,CAAjB,GAAqB,CAArB,GAAyB,CAAvE;;CAtCJ;;ACAA,wBAA2B;SAClB,OAAO,gBAAP,CAAwB,SAAS,IAAjC,EAAuC,gBAAvC,CAAwD,WAAxD,EAAqE,KAArE,CAA2E,CAA3E,EAA8E,CAAC,CAA/E,CAAP;;;ACCF,IAAI,QAAJ;;AAEA,aAAe;QACP,cAAU,KAAV,EAAgB;UACf,MAAL,GAAc,MAAK,MAAL,CAAY,MAAZ,CAAd;;aAES,MAAT,CAAiB,IAAjB,EAAuB;UACjB,QAAQ,MAAK,KAAjB;;iBAEW,aAAX;;YAEM,OAAN,CAAc,UAAU,IAAV,EAAgB;aACvB,MAAL,CAAY,UAAU,CAAV,EAAa;cACnB,MAAM,MAAM,MAAN,GAAe,CAAzB,EAA4B;;;SAD9B;OADF;;GATS;QAkBP,cAAU,KAAV,EAAgB;QAChB,OAAO,MAAK,IAAhB;QACI,OAAO,MAAK,IAAhB;;UAEK,MAAL,GAAc,UAAU,EAAV,EAAc;UACtB,IAAI,MAAK,CAAb;UACI,QAAQ,IAAI,EAAhB;;YAEK,SAAL,CAAe;eACN,KADM;kBAEH,GAFG;;WAIV,CAAC,KAAK,KAAL,CAAW,CAAC,OAAO,IAAR,IAAgB,CAAhB,GAAoB,QAApB,GAA+B,EAA1C,CAJS;WAKV,CAAC,KAAK,KAAL,CAAW,CAAC,MAAM,IAAP,IAAe,EAAf,GAAoB,QAApB,GAA+B,EAA1C,CALS;aAMR,CANQ;;oBAQD,sBAAY;aACnB,CAAH;;OATJ;KAJF;;CAtBJ;;ACFA,IAAIA,UAAJ;;AAEA,UAAe;QACP,cAAU,KAAV,EAAgB;UACf,GAAL,GAAW,MAAK,MAAL,CAAY,GAAZ,CAAX;;aAES,GAAT,CAAc,IAAd,EAAoB;UACd,QAAQ,MAAK,KAAjB;UACI,MAAM,MAAM,MAAhB;;mBAEW,aAAX;;YAEM,OAAN,CAAc,UAAU,IAAV,EAAgB,CAAhB,EAAmB;aAC1B,GAAL,CAAS,CAAT,EAAY,GAAZ,EAAiB,UAAU,CAAV,EAAa;cACxB,MAAM,MAAM,MAAN,GAAe,CAAzB,EAA4B;;;SAD9B;OADF;;GAVS;QAmBP,cAAU,KAAV,EAAgB;QAChB,MAAM,MAAK,GAAf;;UAEK,GAAL,GAAW,UAAU,CAAV,EAAa,GAAb,EAAkB,EAAlB,EAAsB;UAC3B,IAAI,IAAI,CAAZ;UACI,QAAQ,IAAI,EAAhB;UACI,MAAM,KAAK,MAAM,CAAX,IAAgB,GAAhB,GAAsB,GAAhC;;YAEK,SAAL,CAAe;eACN,KADM;kBAEH,GAFG;;WAIV,CAAC,CAJS;WAKV,CAAC,CALS;aAMR;OANP;YAQK,SAAL,CAAe;eACN,MAAM,KADA;kBAEH,GAFG;;WAIV,KAAK,GAAL,CAAS,QAAQ,MAAM,EAAd,CAAT,IAA8B,EAA9B,GAAmCA,UAAnC,GAA8C,EAJpC;WAKV,KAAK,GAAL,CAAS,QAAQ,MAAM,EAAd,CAAT,IAA8B,EAA9B,GAAmCA,UAAnC,GAA8C,EALpC;aAMR,GANQ;;iBAQJ,mBAAY;cACf,KAAJ,CAAU,MAAV,GAAmB,CAAnB;SATW;;oBAYD,sBAAY;aACnB,CAAH;;OAbJ;KAbF;;CAtBJ;;AAuDA,SAAS,OAAT,CAAkB,OAAlB,EAA2B;SAClB,UAAU,KAAK,EAAf,GAAoB,GAA3B;;;AC5DF,IAAI,QAAQ,SAAS,aAAT,CAAuB,GAAvB,EAA4B,KAAxC;AACA,IAAI,WAAW,EAAf;;AAEA,iBAAyB,KAAV,EAAiB;MAC1B,OAAO,SAAS,KAAT,CAAP,KAA2B,WAA/B,EAA4C;WACnC,SAAS,KAAT,CAAP;;;MAGE,OAAO,MAAM,KAAN,CAAP,KAAwB,WAA5B,EAAyC;aAC9B,KAAT,IAAkB,KAAlB;WACO,KAAP;;;MAGE,YAAY,MAAM,CAAN,EAAS,WAAT,KAAyB,MAAM,KAAN,CAAY,CAAZ,CAAzC;MACI,WAAW,CAAC,QAAD,EAAW,KAAX,EAAkB,KAAlB,EAAyB,IAAzB,EAA+B,GAA/B,CAAf;MACI,IAAJ;;OAEK,IAAI,IAAI,CAAR,EAAW,MAAM,SAAS,MAA/B,EAAuC,IAAI,GAA3C,EAAgD,GAAhD,EAAqD;WAC5C,SAAS,CAAT,IAAc,SAArB;QACI,OAAO,MAAM,IAAN,CAAP,KAAuB,WAA3B,EAAwC;eAC7B,KAAT,IAAkB,IAAlB;aACO,IAAP;;;;;ACnBN,IAAI,KAAJ;;AAEA,oBAAyB,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB;SACxB,KAAP,KAAiB,WAAlB,KAAmC,QAAQ,SAA3C;;MAEI,KAAK,CAAT;;MAEI,KAAJ,EAAW;WACF,iBAAiB,CAAjB,GAAqB,IAArB,GAA4B,CAA5B,GAAgC,IAAhC,GAAuC,CAAvC,GAA2C,GAAlD;GADF,MAEO;WACE,eAAe,CAAf,GAAmB,IAAnB,GAA0B,CAA1B,GAA8B,GAArC;;;;AAIJ,SAAS,OAAT,GAAoB;;;MAGd,WAAW,iEAAiE,IAAjE,CAAsE,UAAU,SAAhF,CAAf;;MAEI,CAAC,QAAL,EAAe;WACN,KAAP;;;MAGE,YAAY,OAAO,WAAP,CAAhB;MACI,KAAK,SAAS,aAAT,CAAuB,GAAvB,CAAT;;WAES,IAAT,CAAc,WAAd,CAA0B,EAA1B;KACG,KAAH,CAAS,SAAT,IAAsB,0BAAtB;;UAEQ,GAAG,KAAH,CAAS,SAAT,CAAR;UACQ,SAAS,IAAT,IAAiB,MAAM,MAAvB,IAAiC,UAAU,MAAnD;;WAES,IAAT,CAAc,WAAd,CAA0B,EAA1B;;SAEO,KAAP;;;AC/BF,YAAe;QACP,cAAU,KAAV,EAAgB;UACf,KAAL,GAAa,MAAK,MAAL,CAAY,KAAZ,CAAb;;aAES,KAAT,CAAgB,IAAhB,EAAsB;UAChB,QAAQ,MAAK,KAAjB;;YAEM,OAAN,CAAc,UAAU,IAAV,EAAgB,CAAhB,EAAmB;aAC1B,OAAL,CAAa,MAAb;aACK,KAAL,CAAW,CAAX,EAAc,UAAU,CAAV,EAAa;0BACT,GAAhB,EAAqB,CAArB,EACG,KADH,CACS,YAAY;iBACZ,OAAL,CAAa,OAAb;WAFJ;cAII,MAAM,MAAM,MAAN,GAAe,CAAzB,EAA4B;;;SAL9B;OAFF;;GAPS;QAqBP,cAAU,KAAV,EAAgB;QAChB,YAAY,OAAO,WAAP,CAAhB;;QAEI,MAAM,MAAK,GAAf;;UAEK,KAAL,GAAa,UAAU,CAAV,EAAa,EAAb,EAAiB;UACxB,QAAQ,MAAM,IAAI,EAAtB;UACI,IAAI,IAAI,CAAZ;;UAEI,KAAJ,CAAU,SAAV,IAAuB,UAAU,CAAC,CAAD,GAAK,IAAf,EAAqB,QAArB,CAAvB;UACI,KAAJ,CAAU,OAAV,GAAoB,CAApB;;YAEK,CAAL,GAAS,CAAC,CAAV;YACK,CAAL,GAAS,CAAC,GAAD,GAAO,CAAhB;YACK,GAAL,GAAW,CAAX;;YAEK,SAAL,CAAe;eACN,KADM;kBAEH,IAFG;;WAIV,CAAC,CAJS;WAKV,CAAC,CALS;;iBAOJ,mBAAY;cACf,KAAJ,CAAU,MAAV,GAAmB,CAAnB;SARW;oBAUD,oBAAU,CAAV,EAAa;cACnB,KAAJ,CAAU,OAAV,GAAoB,CAApB;SAXW;oBAaD,sBAAY;cAClB,KAAJ,CAAU,OAAV,GAAoB,EAApB;gBACM,GAAG,CAAH,CAAN;;OAfJ;KAXF;;CA1BJ;;ACHA,IAAIA,UAAJ;;AAEA,YAAe;QACP,cAAU,KAAV,EAAgB;UACf,KAAL,GAAa,MAAK,MAAL,CAAY,KAAZ,CAAb;;aAES,KAAT,CAAgB,IAAhB,EAAsB;UAChB,QAAQ,MAAK,KAAjB;UACI,MAAM,MAAM,MAAhB;;mBAEW,aAAX;;YAEM,OAAN,GAAgB,OAAhB,CAAwB,UAAU,IAAV,EAAgB,CAAhB,EAAmB;aACpC,KAAL,CAAW,CAAX,EAAc,GAAd,EAAmB,UAAU,CAAV,EAAa;eACzB,OAAL,CAAa,OAAb;cACI,MAAO,MAAM,MAAN,GAAe,CAA1B,EAA8B;;;SAFhC;OADF;;GAVS;QAoBP,cAAU,KAAV,EAAgB;QAChB,MAAM,MAAK,GAAf;;UAEK,KAAL,GAAa,UAAU,CAAV,EAAa,GAAb,EAAkB,EAAlB,EAAsB;UAC7B,QAAQ,IAAI,GAAhB;YACK,SAAL,CAAe;eACN,CADM;kBAEH,GAFG;;WAIV,KAAK,KAAL,CAAW,CAAC,SAAU,IAAE,CAAZ,IAAkB,CAAnB,IAAwB,GAAxB,GAA8BA,UAA9B,GAAyC,EAApD,CAJU;WAKV,KAAK,KAAL,CAAW,MAAM,CAAC,SAAU,IAAE,CAAZ,IAAkB,CAAnB,IAAwB,GAAxB,GAA8BA,UAA9B,GAAyC,EAA1D,CALU;aAMR,CANQ;;iBAQJ,mBAAY;cACf,KAAJ,CAAU,MAAV,GAAoB,MAAM,CAAP,GAAY,CAA/B;SATW;oBAWD,sBAAY;aACnB,CAAH;;OAZJ;KAFF;;CAvBJ;;ACJA,sBAAyB,KAAV,EAAiB;MAC1B,GAAJ,EAAS,IAAT;;OAEK,IAAI,IAAI,MAAM,MAAN,GAAe,CAA5B,EAA+B,CAA/B,EAAkC,GAAlC,EAAuC;UAC/B,KAAK,MAAL,KAAgB,CAAhB,GAAoB,CAA1B;WACO,MAAM,CAAN,CAAP;UACM,CAAN,IAAW,MAAM,GAAN,CAAX;UACM,GAAN,IAAa,IAAb;;;SAGK,KAAP;;;ACVF,oBAAyB,KAAV,EAAiB;MAC1B,YAAY,KAAK,KAAL,CAAW,KAAK,MAAL,EAAX,IAA4B,CAAC,CAA7B,GAAiC,CAAjD;;SAEO,YAAY,KAAnB;;;ACCF,IAAIA,UAAJ;;AAEA,cAAe;QACP,cAAU,KAAV,EAAgB;UACf,OAAL,GAAe,MAAK,MAAL,CAAY,OAAZ,CAAf;;aAES,OAAT,CAAkB,IAAlB,EAAwB;UAClB,QAAQ,MAAK,KAAjB;;mBAEW,aAAX;;kBAEY,KAAZ;;YAEM,OAAN,CAAc,UAAU,IAAV,EAAgB,CAAhB,EAAmB;aAC1B,GAAL,GAAW,CAAX;;aAEK,OAAL,CAAa,UAAU,CAAV,EAAa;cACpB,MAAM,MAAM,MAAN,GAAe,CAAzB,EAA4B;;;SAD9B;OAHF;;;GAXS;;QAwBP,cAAU,KAAV,EAAgB;QAChB,MAAM,MAAK,GAAf;;UAEK,OAAL,GAAe,UAAU,EAAV,EAAc;UACvB,IAAI,MAAK,GAAb;UACI,IAAI,IAAI,CAAZ;UACI,QAAQ,IAAI,CAAhB;;YAEK,SAAL,CAAe;eACN,KADM;kBAEH,GAFG;;WAIV,UAAU,KAAK,MAAL,KAAgB,EAAhB,GAAqB,EAA/B,IAAqCA,UAArC,GAAgD,EAJtC;WAKV,CAAC,CALS;aAMR;OANP;YAQK,SAAL,CAAe;eACN,MAAM,KADA;kBAEH,GAFG;;WAIV,CAAC,CAJS;WAKV,CAAC,CALS;aAMR,CANQ;;iBAQJ,mBAAY;cACf,KAAJ,CAAU,MAAV,GAAmB,CAAnB;SATW;;oBAYD,sBAAY;aACnB,CAAH;;OAbJ;KAbF;;CA3BJ;;ACNA,WAAe;QACP,cAAU,KAAV,EAAgB;UACf,IAAL,GAAY,MAAK,MAAL,CAAY,IAAZ,CAAZ;;aAES,IAAT,CAAe,IAAf,EAAqB,OAArB,EAA8B;UACxB,QAAQ,MAAK,KAAjB;;YAEM,IAAN,CAAW,UAAU,CAAV,EAAa,CAAb,EAAgB;YACrB,OAAJ,EAAa;iBACJ,EAAE,CAAF,GAAM,EAAE,CAAf;SADF,MAEO;iBACE,EAAE,CAAF,GAAM,EAAE,CAAf;;OAJJ;;YAQM,OAAN,CAAc,UAAU,IAAV,EAAgB,CAAhB,EAAmB;aAC1B,IAAL,CAAU,CAAV,EAAa,MAAM,MAAnB,EAA2B,UAAU,CAAV,EAAa;cAClC,MAAM,MAAM,MAAN,GAAe,CAAzB,EAA4B;;;SAD9B,EAIG,OAJH;OADF;;GAfS;QAwBP,cAAU,KAAV,EAAgB;QAChB,MAAM,MAAK,GAAf;;UAEK,IAAL,GAAY,UAAU,CAAV,EAAa,GAAb,EAAkB,EAAlB,EAAsB,OAAtB,EAA+B;UACrC,IAAI,IAAI,CAAZ;UACI,QAAQ,IAAI,EAAhB;;YAEK,SAAL,CAAe;eACN,KADM;kBAEH,GAFG;;WAIV,CAAC,CAJS;WAKV,CAAC,GALS;aAMR,CANQ;;oBAQD,sBAAY;cAClB,KAAJ,CAAU,MAAV,GAAmB,CAAnB;;OATJ;;YAaK,SAAL,CAAe;eACN,QAAQ,GADF;kBAEH,GAFG;;WAIV,CAAC,CAJS;WAKV,CAAC,CALS;aAMR,CANQ;;oBAQD,sBAAY;aACnB,CAAH;;OATJ;KAjBF;;CA3BJ;;ACAA,WAAe;QACP,cAAU,KAAV,EAAgB;UACf,IAAL,GAAY,MAAK,MAAL,CAAY,IAAZ,CAAZ;;aAES,IAAT,CAAe,IAAf,EAAqB,IAArB,EAA2B;UACrB,UAAU,MAAK,KAAL,CAAW,MAAX,CAAkB,UAAU,IAAV,EAAgB;eACvC,KAAK,IAAL,KAAc,OAArB;OADY,EAEX,MAFW,GAEF,MAAK,KAAL,CAAW,MAFvB;;YAIK,KAAL,CAAW,OAAX,CAAmB,UAAU,IAAV,EAAgB,CAAhB,EAAmB;aAC/B,OAAL,CAAa,OAAO,IAAP,GAAc,UAAU,GAAV,GAAgB,MAAhB,GAAyB,OAApD;OADF;;;;CATN;;ACEA,IAAIA,UAAJ;;AAEA,cAAe;QACP,cAAU,KAAV,EAAgB;UACf,OAAL,GAAe,MAAK,MAAL,CAAY,OAAZ,CAAf;;aAES,OAAT,CAAkB,IAAlB,EAAwB;UAClB,QAAQ,MAAK,KAAjB;;mBAEW,aAAX;;cAEQ,MAAK,KAAL,CAAW,KAAX,CAAiB,CAAjB,EAAmB,CAAnB,CAAR;;YAEM,OAAN,CAAc,UAAU,IAAV,EAAgB;aACvB,OAAL,CAAa,UAAU,CAAV,EAAa;cACpB,MAAM,MAAM,MAAN,GAAe,CAAzB,EAA4B;;;SAD9B;OADF;;GAXS;QAoBP,cAAU,KAAV,EAAgB;QAChB,OAAO,MAAK,IAAhB;QACI,OAAO,MAAK,IAAhB;;QAEI,cAAc,CAChB,EAAC,GAAE,CAAC,GAAJ,EAAQ,GAAE,EAAV,EADgB,EAEhB,EAAC,GAAE,EAAH,EAAM,GAAE,EAAR,EAFgB,EAGhB,EAAC,GAAE,CAAC,GAAJ,EAAQ,GAAE,GAAV,EAHgB,EAIhB,EAAC,GAAE,EAAH,EAAM,GAAE,GAAR,EAJgB,CAAlB;;UAOK,OAAL,GAAe,UAAU,EAAV,EAAc;UACvB,IAAI,MAAK,CAAb;UACI,QAAQ,CAAZ;;YAEK,SAAL,CAAe;eACN,KADM;kBAEH,GAFG;;WAIV,YAAY,CAAZ,EAAe,CAJL;WAKV,YAAY,CAAZ,EAAe,CALL;aAMR,CANQ;;oBAQD,sBAAY;aACnB,CAAH;;OATJ;KAJF;;CA/BJ;;ACFA,IAAIA,UAAJ;;AAEA,iBAAe;QACP,cAAU,KAAV,EAAgB;UACf,UAAL,GAAkB,MAAK,MAAL,CAAY,UAAZ,CAAlB;;aAES,UAAT,CAAqB,IAArB,EAA2B;UACrB,QAAQ,MAAK,KAAjB;;mBAEW,aAAX;;cAEQ,MAAK,KAAL,CAAW,KAAX,CAAiB,CAAjB,EAAmB,CAAnB,CAAR;;YAEM,OAAN,CAAc,UAAU,IAAV,EAAgB;aACvB,UAAL,CAAgB,UAAU,CAAV,EAAa;cACvB,MAAM,MAAM,MAAN,GAAe,CAAzB,EAA4B;;;SAD9B;OADF;;GAXS;QAoBP,cAAU,KAAV,EAAgB;QAChB,OAAO,MAAK,IAAhB;QACI,OAAO,MAAK,IAAhB;;QAEI,UAAU,CACZ,EAAC,GAAI,CAAC,GAAN,EAAW,GAAI,CAAC,GAAhB,EADY,EAEZ,EAAC,GAAI,CAAC,EAAN,EAAU,GAAI,CAAC,GAAf,EAFY,EAGZ,EAAC,GAAI,EAAL,EAAS,GAAI,CAAC,GAAd,EAHY,EAIZ,EAAC,GAAI,GAAL,EAAU,GAAI,CAAC,GAAf,EAJY,CAAd;;QAOI,cAAc,CAChB,EAAC,GAAI,EAAL,EAAS,GAAI,CAAC,EAAd,EADgB,EAEhB,EAAC,GAAI,CAAC,GAAN,EAAW,GAAI,CAAC,EAAhB,EAFgB,EAGhB,EAAC,GAAI,EAAL,EAAS,GAAI,CAAC,GAAd,EAHgB,EAIhB,EAAC,GAAI,CAAC,GAAN,EAAW,GAAI,CAAC,GAAhB,EAJgB,CAAlB;;UAOK,UAAL,GAAkB,UAAU,EAAV,EAAc;UAC1B,IAAI,MAAK,CAAL,GAAS,CAAjB;UACI,QAAQ,CAAZ;;YAEK,SAAL,CAAe;eACN,QAAQ,MAAM,CADR;kBAEH,GAFG;;WAIV,QAAQ,CAAR,EAAW,CAJD;WAKV,QAAQ,CAAR,EAAW,CALD;aAMR;OANP;;YASK,SAAL,CAAe;eACN,IADM;kBAEH,GAFG;;WAIV,YAAY,CAAZ,EAAe,CAJL;WAKV,YAAY,CAAZ,EAAe,CALL;aAMR,CANQ;;oBAQD,sBAAY;aACnB,CAAH;;OATJ;KAbF;;CAtCJ;;ACJA,qBAAyB,MAAV,EAAkB;aACpB,SAAS,EAApB;MACI,YAAY,EAAhB;;SAEO,EAAP,GAAY,EAAZ;SACO,GAAP,GAAa,GAAb;SACO,GAAP,GAAa,GAAb;SACO,OAAP,GAAiB,OAAjB;;SAEO,MAAP;;WAES,EAAT,CAAa,IAAb,EAAmB,EAAnB,EAAuB,GAAvB,EAA4B;cAChB,IAAV,MAAoB,UAAU,IAAV,IAAkB,EAAtC;cACU,IAAV,EAAgB,IAAhB,CAAqB,EAAC,MAAD,EAAK,QAAL,EAArB;;;WAGO,GAAT,CAAc,IAAd,EAAoB,EAApB,EAAwB,GAAxB,EAA6B;cACjB,IAAV,MAAoB,UAAU,IAAV,IAAkB,EAAtC;cACU,IAAV,EAAgB,IAAhB,CAAqB;YAAA,EACf,QADe,EACV,MAAM;KADjB;;;WAKO,OAAT,CAAkB,IAAlB,EAAwB;QAClB,OAAO,IAAX;QACI,OAAO,MAAM,SAAN,CAAgB,KAAhB,CAAsB,SAAtB,EAAiC,CAAjC,CAAX;;QAEI,mBAAmB,UAAU,IAAV,KAAmB,EAA1C;;qBAEiB,MAAjB,CAAwB,UAAU,QAAV,EAAoB;eACjC,EAAT,CAAY,KAAZ,CAAkB,IAAlB,EAAwB,IAAxB;;aAEO,CAAC,SAAS,IAAjB;KAHF;;;WAOO,GAAT,CAAc,IAAd,EAAoB,EAApB,EAAwB;QAClB,CAAC,IAAL,EAAW;kBACG,EAAZ;;;;QAIE,CAAC,EAAL,EAAS;gBACG,IAAV,IAAkB,EAAlB;;;;cAIQ,IAAV,IAAkB,UAAU,IAAV,EAAgB,MAAhB,CAAuB,UAAU,QAAV,EAAoB;aACpD,SAAS,EAAT,KAAgB,EAAvB;KADgB,CAAlB;;;;AC/CJ,gBAAyB,MAAV,EAAkB;MAC3B,QAAQ,MAAM,SAAlB;;MAEI,WAAW,EAAf;SACO,QAAP,GAAkB,QAAlB;;SAEO,KAAP,GAAe,KAAf;SACO,MAAP,GAAgB,MAAhB;;SAEO,MAAP;;WAES,MAAT,CAAiB,MAAjB,EAAyB;WAChB,YAAY;UACb,OAAO,IAAX;UACI,OAAO,SAAX;;YAEM,UAAU,IAAV,EAAgB;eACb,KAAP,CAAa,IAAb,EAAmB,MAAM,MAAN,CAAa,KAAb,CAAmB,IAAnB,EAAyB,IAAzB,CAAnB;OADF;KAJF;;;WAUO,KAAT,CAAgB,MAAhB,EAAwB;QAClB,CAAC,MAAL,EAAa;;;;aAIJ,IAAT,CAAc,MAAd;;QAEI,SAAS,MAAT,KAAoB,CAAxB,EAA2B;;;;WAIpB,IAAT,GAAiB;aACN,CAAT,EAAY,UAAU,GAAV,EAAe;UACrB,GAAJ,EAAS;cACD,GAAN;;;iBAGS,SAAS,KAAT,CAAe,CAAf,CAAX;;UAEI,SAAS,MAAb,EAAqB;;;KAPvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICnCiB;uBACL;;;;;;uBAEV,WAAW,UAAW;UACnB,CAAC,SAAD,IAAc,CAAC,QAApB,EAA+B;;;;UAI3B,SAAS,KAAK,OAAL,GAAe,KAAK,OAAL,IAAgB,EAA5C;;UAEI,YAAY,OAAQ,SAAR,IAAsB,OAAQ,SAAR,KAAuB,EAA7D;;UAEK,UAAU,OAAV,CAAmB,QAAnB,KAAiC,CAAC,CAAvC,EAA2C;kBAC/B,IAAV,CAAgB,QAAhB;;aAEK,IAAP;;;;yBAGI,WAAW,UAAW;UACrB,CAAC,SAAD,IAAc,CAAC,QAApB,EAA+B;;;;WAI1B,EAAL,CAAS,SAAT,EAAoB,QAApB;;;UAGI,aAAa,KAAK,WAAL,GAAmB,KAAK,WAAL,IAAoB,EAAxD;;UAEI,gBAAgB,WAAY,SAAZ,IAA0B,WAAY,SAAZ,KAA2B,EAAzE;;oBAEe,QAAf,IAA4B,IAA5B;aACO,IAAP;;;;wBAGG,WAAW,UAAW;UACrB,YAAY,KAAK,OAAL,IAAgB,KAAK,OAAL,CAAc,SAAd,CAAhC;UACK,CAAC,SAAD,IAAc,CAAC,UAAU,MAA9B,EAAuC;;;UAGnC,QAAQ,UAAU,OAAV,CAAmB,QAAnB,CAAZ;UACK,SAAS,CAAC,CAAf,EAAmB;kBACP,MAAV,CAAkB,KAAlB,EAAyB,CAAzB;;;aAGK,IAAP;;;;8BAGS,WAAW,MAAO;UACvB,YAAY,KAAK,OAAL,IAAgB,KAAK,OAAL,CAAc,SAAd,CAAhC;UACK,CAAC,SAAD,IAAc,CAAC,UAAU,MAA9B,EAAuC;;;UAGnC,IAAI,CAAR;UACI,WAAW,UAAU,CAAV,CAAf;aACO,QAAQ,EAAf;;UAEI,gBAAgB,KAAK,WAAL,IAAoB,KAAK,WAAL,CAAkB,SAAlB,CAAxC;;aAEQ,QAAR,EAAmB;YACb,SAAS,iBAAiB,cAAe,QAAf,CAA9B;YACK,MAAL,EAAc;;;eAGP,GAAL,CAAU,SAAV,EAAqB,QAArB;;iBAEO,cAAe,QAAf,CAAP;;;iBAGO,KAAT,CAAgB,IAAhB,EAAsB,IAAtB;;aAEK,SAAS,CAAT,GAAa,CAAlB;mBACW,UAAU,CAAV,CAAX;;aAEK,IAAP;;;;yBAGG,WAAU;UACT,YAAY,KAAK,OAArB;cACQ,GAAR,CAAY,SAAZ;;;;;;AC3EJ,IAAI,kBAAkB;YACV,CAAE,WAAF,EAAe,SAAf,CADU;aAET,CAAE,WAAF,EAAe,UAAf,EAA2B,aAA3B,CAFS;cAGR,CAAE,aAAF,EAAiB,WAAjB,EAA8B,eAA9B,CAHQ;gBAIN,CAAE,eAAF,EAAmB,aAAnB,EAAkC,iBAAlC;CAJhB;;IAMqB;;;uBACN;;;;;;;iCAIE,MAAO;QACjB,eAAL,CAAsB,IAAtB,EAA4B,IAA5B;;;;mCAEiB,MAAO;QACnB,eAAL,CAAsB,IAAtB,EAA4B,KAA5B;;;;kCAEgB,MAAM,QAAS;;YAEtB,WAAW,SAAX,GAAuB,IAAvB,GAA8B,CAAC,CAAC,MAAzC;OACI,aAAa,SAAS,kBAAT,GAA8B,qBAA/C;QACM,UAAN,EAAoB,WAApB,EAAiC,IAAjC;QACM,UAAN,EAAoB,YAApB,EAAkC,IAAlC;;;;8BAEY,OAAQ;OAChB,SAAS,OAAO,MAAM,IAA1B;OACK,KAAM,MAAN,CAAL,EAAsB;SACf,MAAN,EAAgB,KAAhB;;;;;8BAIW,OAAQ;OAChB,SAAS,MAAM,MAAnB;OACK,UAAY,WAAW,CAAX,IAAgB,WAAW,CAA5C,EAAkD;;;QAG7C,YAAL,CAAmB,KAAnB,EAA0B,KAA1B;;;;+BAEa,OAAO,SAAU;QACzB,WAAL,CAAkB,KAAlB,EAAyB,OAAzB;;;;8BAEY,OAAO,SAAU;QACxB,oBAAL,CAA2B,KAA3B;QACK,SAAL,CAAgB,aAAhB,EAA+B,CAAE,KAAF,EAAS,OAAT,CAA/B;;;;uCAEsB,OAAQ;OACzB,CAAC,KAAN,EAAc;;;;OAIV,SAAS,gBAAiB,MAAM,IAAvB,CAAb;;UAEO,OAAP,CAAgB,UAAU,SAAV,EAAsB;WAC9B,gBAAP,CAAyB,SAAzB,EAAoC,IAApC;IADD,EAEG,IAFH;QAGK,mBAAL,GAA2B,MAA3B;;;;2CAEyB;;OAEpB,CAAC,KAAK,mBAAX,EAAiC;;;QAG5B,mBAAL,CAAyB,OAAzB,CAAkC,UAAU,SAAV,EAAsB;WAChD,mBAAP,CAA4B,SAA5B,EAAuC,IAAvC;IADD,EAEG,IAFH;;UAIO,KAAK,mBAAZ;;;;8BAGY,OAAQ;QACf,YAAL,CAAmB,KAAnB,EAA0B,KAA1B;;;;+BAEa,OAAO,SAAU;QACzB,WAAL,CAAkB,KAAlB,EAAyB,OAAzB;;;;8BAEY,OAAO,SAAU;QACxB,SAAL,CAAgB,aAAhB,EAA+B,CAAE,KAAF,EAAS,OAAT,CAA/B;;;;4BAIU,OAAQ;QACb,UAAL,CAAiB,KAAjB,EAAwB,KAAxB;;;;6BAEY,OAAO,SAAU;QACxB,YAAL;QACK,SAAL,CAAgB,KAAhB,EAAuB,OAAvB;;;;4BAEU,OAAO,SAAU;QACtB,SAAL,CAAgB,WAAhB,EAA6B,CAAE,KAAF,EAAS,OAAT,CAA7B;;;;iCAEe;QACV,sBAAL;;;;EArFsC;;ACPxC,IAAIC,cAAY,OAAO,SAAvB;;AAEA,SAASC,MAAT,GAAgB;;IACK;;;wBACL;;;;;;;kCAIA;WACP,YAAL,CAAmB,IAAnB;;;;oCAEc;WACT,YAAL,CAAmB,KAAnB;;;;iCAEY,QAAS;;eAEZ,WAAW,SAAX,GAAuB,IAAvB,GAA8B,CAAC,CAAC,MAAzC;;UAEI,WAAJ;UACKD,YAAU,cAAf,EAAgC;sBAChB,qBAAU,MAAV,EAAmB;;iBAExB,KAAP,CAAa,WAAb,GAA2B,SAAS,MAAT,GAAkB,EAA7C;SAFF;OADF,MAKO,IAAKA,YAAU,gBAAf,EAAkC;sBACzB,qBAAU,MAAV,EAAmB;;iBAExB,KAAP,CAAa,aAAb,GAA6B,SAAS,MAAT,GAAkB,EAA/C;SAFF;OADK,MAKA;sBACSC,MAAd;;;UAGE,aAAa,SAAS,kBAAT,GAA8B,qBAA/C;WACM,IAAI,IAAE,CAAZ,EAAe,IAAI,KAAK,OAAL,CAAa,MAAhC,EAAwC,GAAxC,EAA8C;YACxC,SAAS,KAAK,OAAL,CAAa,CAAb,CAAb;aACK,eAAL,CAAsB,MAAtB,EAA8B,MAA9B;oBACa,MAAb;;;;;EAlCkC;;ACHxC,IAAIC,aAAW,OAAO,QAAtB;AACA,AACA,SAAS,MAAT,CAAiB,CAAjB,EAAoB,CAApB,EAAwB;MACjB,IAAI,IAAV,IAAkB,CAAlB,EAAsB;IAClB,IAAH,IAAY,EAAG,IAAH,CAAZ;;QAEM,CAAP;;AAED,AAIA,AAEA,AACA,AAUA,IAAIC,YAAUD,WAAS,eAAvB;AACA,IAAI,oBAAoB,OAAOC,UAAQ,KAAR,CAAc,SAArB,IAAkC,QAAlC,GACvB,WADuB,GACT,iBADf;;IAIqB;;;sBACP,OAAb,EAAsB,OAAtB,EAAgC;;;;;QAE1B,OAAL,GAAe,OAAO,OAAP,IAAkB,QAAlB,GACdD,WAAS,aAAT,CAAwB,OAAxB,CADc,GACsB,OADrC;;QAGK,OAAL,GAAe,OAAQ,EAAR,EAAY,MAAK,WAAL,CAAiB,QAA7B,CAAf;QACK,MAAL,CAAa,OAAb;;QAEK,OAAL;;;;;;yBAGO,MAAO;UACN,KAAK,OAAb,EAAsB,IAAtB;;;;4BAGS;;QAEJ,UAAL;;;;+BAGY;QACP,OAAL,GAAe,KAAK,OAAL,CAAa,MAAb,GACd,KAAK,OAAL,CAAa,gBAAb,CAA+B,KAAK,OAAL,CAAa,MAA5C,CADc,GACyC,CAAE,KAAK,OAAP,CADxD;;QAGK,WAAL;;;;EAzBuC;;AA8BzC,YAAY,QAAZ,GAAuB,EAAvB;;ACpDA,IAAI,OAAO,GAAX;;AAEA,eAAyB,CAAV,EAAa;MACtB,YAAY,OAAO,WAAP,CAAhB;;;MAGI,OAAO,IAAI,EAAJ,GAAS,CAApB;MACI,OAAO,IAAI,EAAJ,GAAS,CAApB;MACI,IAAI,CAAC,KAAK,CAAN,IAAW,CAAnB;;;MAGI,MAAM,cAAc,KAAd,CAAV;MACI,QAAQ,cAAc,KAAd,CAAZ;MACI,QAAQ,cAAc,KAAd,CAAZ;;;MAGI,cAAc,KAAlB;MACI,eAAe,KAAnB;MACI,cAAc,KAAlB;MACI,iBAAiB,KAArB;;;MAGI,OAAO,EAAC,IAAD,EAAI,UAAJ,EAAU,UAAV,EAAgB,KAAK,CAArB,EAAwB,QAAxB,EAA6B,YAA7B,EAAoC,gBAApC,EAA6C,gBAA7C,EAAX;;MAEI,UAAU,KAAK,OAAnB;MACI,MAAJ;;;QAGM,SAAN,CAAgB,GAAhB,CAAoB,MAApB;QACM,SAAN,CAAgB,GAAhB,CAAoB,MAApB;;;MAGI,KAAJ,CAAU,SAAV,IAAuB,UAAU,CAAC,CAAD,GAAK,IAAf,EAAqB,CAAC,CAAD,GAAK,IAA1B,CAAvB;;;OAGK,CAAL,GAAS,CAAC,CAAV;OACK,CAAL,GAAS,CAAC,CAAV;OACK,CAAL,GAAS,CAAT;OACK,GAAL,GAAW,CAAX;;OAEK,SAAL,GAAiB;cACJ,EADI;SAET,EAFS;eAGH,CAHG;gBAIF,CAJE;gBAKF;GALf;OAOK,UAAL,GAAkB,IAAlB;;;OAGK,OAAL,CAAa,MAAb;;;OAGK,OAAL,GAAe,IAAI,WAAJ,CAAgB,GAAhB,EAAqB,EAArB,CAAf;OACK,WAAL,GAAmB,UAAS,CAAT,EAAW;QACxB,WAAW,KAAK,SAAL,CAAe,QAA9B;QACI,MAAM,KAAK,SAAL,CAAe,GAAzB;;QAEI,YAAY,KAAK,GAAL,EAAhB;SACK,SAAL,CAAe,SAAf,GAA2B,SAA3B;;MAEE,cAAF;;QAEI,EAAE,IAAF,KAAW,WAAf,EAA4B;eACjB,CAAT,GAAa,IAAI,CAAJ,GAAQ,EAAE,OAAvB;eACS,CAAT,GAAa,IAAI,CAAJ,GAAQ,EAAE,OAAvB;KAFF,MAGO;eACI,CAAT,GAAa,IAAI,CAAJ,GAAQ,EAAE,OAAF,CAAU,CAAV,EAAa,OAAlC;eACS,CAAT,GAAa,IAAI,CAAJ,GAAQ,EAAE,OAAF,CAAU,CAAV,EAAa,OAAlC;;;QAGE,CAAC,WAAL,EAAkB;;;;;;QAMd,KAAJ,CAAU,SAAV,IAAuB,UAAU,KAAK,CAAL,GAAS,IAAnB,EAAyB,KAAK,CAAL,GAAS,IAAlC,KAA2C,KAAK,GAAL,GAAW,aAAa,KAAK,GAAlB,GAAwB,MAAnC,GAA4C,EAAvF,CAAvB;QACI,KAAJ,CAAU,MAAV,GAAmB,MAAnB;GAxBF;OA0BK,WAAL,GAAmB,UAAS,CAAT,EAAW;QACxB,WAAW,KAAK,SAAL,CAAe,QAA9B;QACI,MAAM,KAAK,SAAL,CAAe,GAAzB;;QAEI,CAAC,WAAL,EAAkB;;;;QAId,EAAE,IAAF,KAAW,WAAf,EAA4B;UACtB,CAAJ,GAAQ,EAAE,OAAV;UACI,CAAJ,GAAQ,EAAE,OAAV;KAFF,MAGO;UACD,CAAJ,GAAQ,EAAE,OAAF,CAAU,CAAV,EAAa,OAArB;UACI,CAAJ,GAAQ,EAAE,OAAF,CAAU,CAAV,EAAa,OAArB;;;;QAIE,KAAJ,CAAU,SAAV,IAAuB,UAAU,KAAK,KAAL,CAAW,KAAK,CAAL,GAAS,IAAI,CAAb,GAAiB,SAAS,CAArC,IAA0C,IAApD,EAA0D,KAAK,KAAL,CAAW,KAAK,CAAL,GAAS,IAAI,CAAb,GAAiB,SAAS,CAArC,IAA0C,IAApG,KAA6G,KAAK,GAAL,GAAW,aAAa,KAAK,GAAlB,GAAwB,MAAnC,GAA4C,EAAzJ,CAAvB;GAjBF;OAoBK,SAAL,GAAiB,UAAS,CAAT,EAAW;QACtB,WAAW,KAAK,SAAL,CAAe,QAA9B;QACI,MAAM,KAAK,SAAL,CAAe,GAAzB;QACI,YAAY,KAAK,SAAL,CAAe,SAA/B;;QAGI,eAAe,KAAK,GAAL,KAAa,SAAb,GAAyB,GAA5C,EAAiD;;WAE1C,OAAL,CAAa,KAAK,IAAL,KAAc,OAAd,GAAwB,MAAxB,GAAiC,OAA9C;;QAEE,CAAC,WAAL,EAAkB;;;;;;SAMb,CAAL,GAAS,KAAK,CAAL,GAAS,IAAI,CAAb,GAAiB,SAAS,CAAnC;SACK,CAAL,GAAS,KAAK,CAAL,GAAS,IAAI,CAAb,GAAiB,SAAS,CAAnC;GAjBF;OAmBK,OAAL,CAAa,EAAb,CAAgB,aAAhB,EAA+B,KAAK,WAApC;OACK,OAAL,CAAa,EAAb,CAAgB,aAAhB,EAA+B,KAAK,WAApC;OACK,OAAL,CAAa,EAAb,CAAgB,WAAhB,EAA6B,KAAK,SAAlC;;;OAGK,MAAL,IAAe,OAAf,EAAwB;cACZ,QAAQ,MAAR,CAAV;;;OAGG,SAAL,GAAiB,UAAU,MAAV,EAAkB;QAC5B,KAD4B,GACsE,MADtE,CAC5B,KAD4B;QACrB,QADqB,GACsE,MADtE,CACrB,QADqB;oBACsE,MADtE,CACX,CADW;QACX,CADW,6BACP,KAAK,CADE;oBACsE,MADtE,CACC,CADD;QACC,CADD,6BACK,KAAK,CADV;sBACsE,MADtE,CACa,GADb;QACa,GADb,+BACmB,KAAK,GADxB;QAC6B,IAD7B,GACsE,MADtE,CAC6B,IAD7B;QACmC,OADnC,GACsE,MADtE,CACmC,OADnC;QAC4C,UAD5C,GACsE,MADtE,CAC4C,UAD5C;QACwD,UADxD,GACsE,MADtE,CACwD,UADxD;;QAE7B,MAAJ,EAAY,MAAZ,EAAoB,QAApB;QACI,KAAJ,EAAW,KAAX,EAAkB,OAAlB;;oBAEgB,KAAhB,EAAuB,QAAvB,EACG,KADH,CACS,YAAY;eACR,KAAK,CAAL,IAAU,CAAnB;eACS,KAAK,CAAL,IAAU,CAAnB;iBACW,KAAK,GAAL,IAAY,CAAvB;iBACW,SAAX;KALJ,EAOG,QAPH,CAOY,UAAU,CAAV,EAAa;UACjB,KAAK,KAAK,QAAQ,YAAb,EAA2B,CAA3B,CAAT;;cAEQ,IAAI,MAAZ;cACQ,IAAI,MAAZ;gBACU,MAAM,QAAhB;;oBAEc,WAAW,CAAX,EAAc,EAAd,CAAd;;WAEK,CAAL,GAAS,SAAS,QAAQ,EAA1B;WACK,CAAL,GAAS,SAAS,QAAQ,EAA1B;WACK,GAAL,GAAW,WAAW,UAAU,EAAhC;;UAEI,KAAJ,CAAU,SAAV,IAAuB,UAAU,KAAK,CAAL,GAAS,IAAnB,EAAyB,KAAK,CAAL,GAAS,IAAlC,KAA2C,UAAU,YAAY,KAAK,GAAjB,GAAuB,MAAjC,GAA0C,EAArF,CAAvB;KApBJ,EAsBG,GAtBH,CAsBO,YAAY;oBACD,YAAd;KAvBJ;GALF;;OAgCK,eAAL,GAAuB,YAAU;qBACd,IAAjB;SACK,OAAL,CAAa,EAAb,CAAgB,aAAhB,EAA+B,KAAK,iBAApC;GAFF;OAIK,cAAL,GAAsB,YAAU;qBACb,KAAjB;SACK,SAAL,CAAe,UAAf,GAA4B,CAA5B;SACK,SAAL,CAAe,UAAf,GAA4B,CAA5B;SACK,OAAL,CAAa,GAAb,CAAiB,aAAjB,EAAgC,KAAK,iBAArC;GAJF;OAMK,iBAAL,GAAyB,YAAU;QAC7B,WAAW,KAAK,SAAL,CAAe,QAA9B;QACI,MAAM,KAAK,SAAL,CAAe,GAAzB;SACK,SAAL,CAAe,UAAf,GAA4B,KAAK,CAAL,GAAS,IAAI,CAAb,GAAiB,SAAS,CAAtD;SACK,SAAL,CAAe,UAAf,GAA4B,KAAK,CAAL,GAAS,IAAI,CAAb,GAAiB,SAAS,CAAtD;SACK,OAAL,CAAa,GAAb,CAAiB,aAAjB,EAAgC,KAAK,iBAArC;GALF;OAOK,YAAL,GAAoB,YAAU;QACzB,cAAH,EAAkB;WACX,SAAL,CAAe;eACN,CADM;kBAEH,GAFG;;WAIV,KAAK,SAAL,CAAe,UAJL;WAKV,KAAK,SAAL,CAAe,UALL;aAMR;OANP;;GAFJ;;OAaK,YAAL,GAAoB,UAAS,WAAT,EAAsB,QAAtB,EAA+B;QAC7C,mBAAmB,YAAY,EAAnC;mBACe,IAAf;SACK,gBAAL,CAAsB,WAAtB,EAAmC,YAAI;WAChC,OAAL;UACI,MAAM,cAAc,KAAd,CAAV;UACI,QAAQ,cAAc,KAAd,CAAZ;UACI,QAAQ,cAAc,KAAd,CAAZ;YACM,SAAN,CAAgB,GAAhB,CAAoB,MAApB;YACM,SAAN,CAAgB,GAAhB,CAAoB,MAApB;UACI,WAAW,SAAS,IAAT,CAAf;UACI,YAAJ,CAAiB,OAAjB,EAA0B,UAAU,QAAV,GAAqB,OAArB,GAA+B,IAAzD;UACI,KAAJ,CAAU,QAAV,GAAqB,UAArB;UACI,KAAJ,CAAU,IAAV,GAAiB,KAAjB;UACI,KAAJ,CAAU,GAAV,GAAgB,KAAhB;UACI,YAAJ,CAAiB,WAAjB,EAA+B,KAAK,IAAL,CAAU,IAAzC;uBACiB,SAAjB,GAA6B,EAA7B;uBACiB,WAAjB,CAA6B,GAA7B;kBACY,GAAZ,EAAiB,OAAjB,EAA0B,YAAI;yBACX,WAAjB,CAA6B,GAA7B;aACK,UAAL;OAFF;kBAIY,UAAZ;KAnBF;GAHF;OAyBK,gBAAL,GAAwB,UAAS,WAAT,EAAsB,QAAtB,EAA+B;QACjD,mBAAmB,YAAY,EAAnC;QACI,UAAU,UAAW,gBAAX,CAAd;QAA6C,SAAS,iBAAiB,WAAvE;QAAoF,UAAU,iBAAiB,YAA/G;QACI,aAAa,UAAW,IAAX,CAAjB;QAAoC,YAAY,SAAS,eAAT,CAAyB,WAAzE;QAAsF,aAAa,SAAS,eAAT,CAAyB,YAA5H;cACW;YACF,CAAC,QAAQ,IAAR,GAAe,QAAQ,KAAxB,IAA+B,CAA/B,GAAmC,SAAO,CADxC;WAEH,CAAC,QAAQ,GAAR,GAAc,QAAQ,MAAvB,IAA+B,CAA/B,GAAmC,UAAQ;KAFnD;SAIK,SAAL,CAAe;aACN,CADM;gBAEH,GAFG;;SAIV,QAAQ,IAAR,GAAe,YAAU,CAAzB,GAA6B,SAAO,CAJ1B;SAKV,QAAQ,GAAR,GAAc,aAAW,CAAzB,GAA6B,UAAQ,CAArC,GAAyC,EAL/B;WAMR,CANQ;kBAOF,sBAAI;oBACD,UAAZ;;KARJ;GARF;OAoBK,YAAL,GAAoB,YAAU;WACrB,YAAP;GADF;;OAIK,UAAL,GAAkB,YAAU;mBACX,KAAf;SACK,KAAL,CAAW,KAAK,UAAhB;GAFF;;;OAMK,WAAL,GAAmB,UAAU,IAAV,EAAgB,IAAhB,EAAsB;QACnC,WAAW,SAAS,IAAT,CAAf;QACI,YAAJ,CAAiB,OAAjB,EAA0B,UAAU,QAAV,GAAqB,OAArB,GAA+B,IAAzD;GAFF;;OAKK,WAAL,CAAiB,IAAjB,EAAuB,IAAvB;;OAEK,cAAL,GAAsB,YAAY;;QAE5B,WAAJ,EAAiB;;;;kBAIH,IAAd;QACI,KAAJ,CAAU,MAAV,GAAmB,MAAnB;GAPF;;OAUK,cAAL,GAAsB,YAAY;QAC5B,WAAJ,EAAiB;;;;kBAIH,IAAd;GALF;;OAQK,eAAL,GAAuB,YAAY;QAC7B,CAAC,WAAL,EAAkB;;;;kBAIJ,KAAd;GALF;;OAQK,eAAL,GAAuB,YAAY;QAC7B,CAAC,WAAL,EAAkB;;;;kBAIJ,KAAd;QACI,KAAJ,CAAU,MAAV,GAAmB,EAAnB;GANF;;OASK,OAAL,GAAe,UAAU,IAAV,EAAgB;SACxB,IAAL,GAAa,IAAb;QACI,YAAJ,CAAiB,WAAjB,EAA+B,KAAK,IAApC;GAFF;OAIK,WAAL,GAAmB,gBAAmB;QAAR,CAAQ,QAAR,CAAQ;QAAN,CAAM,QAAN,CAAM;QAAJ,CAAI,QAAJ,CAAI;;QAChC,KAAJ,CAAU,SAAV,IAAuB,UAAU,IAAI,IAAd,EAAoB,IAAI,IAAxB,CAAvB;;SAEK,CAAL,GAAS,CAAT;SACK,CAAL,GAAS,CAAT;GAJF;;SAOO,IAAP;;WAES,SAAT,CAAoB,MAApB,EAA4B;;WAEnB,IAAP,IAAe,OAAO,IAAP,CAAY,IAAZ,CAAf;;;WAGO,KAAT,CAAgB,MAAhB,EAAwB;;WAEf,WAAP,CAAmB,GAAnB;SACK,UAAL,GAAkB,MAAlB;SACK,KAAL,GAAa,MAAb;;;WAGO,OAAT,GAAoB;;SAEb,KAAL,IAAc,KAAK,KAAL,CAAW,WAAX,CAAuB,GAAvB,CAAd;SACK,KAAL,GAAa,IAAb;;;WAGO,OAAT,CAAkB,OAAlB,EAA2B;;QAErB,YAAY,OAAhB,EAAyB;UACnB,KAAK,IAAL,KAAc,MAAlB,EAA0B;YACpB,WAAJ,CAAgB,KAAhB;;WAEG,IAAL,GAAY,OAAZ;UACI,WAAJ,CAAgB,KAAhB;WACK,WAAL,CAAiB,KAAK,IAAtB,EAA4B,KAAK,IAAjC;KANF,MAOO;UACD,KAAK,IAAL,KAAc,OAAlB,EAA2B;YACrB,WAAJ,CAAgB,KAAhB;;WAEG,IAAL,GAAY,MAAZ;UACI,WAAJ,CAAgB,KAAhB;UACI,YAAJ,CAAiB,OAAjB,EAA0B,MAA1B;;;;;AAKN,SAAS,QAAT,CAAmB,IAAnB,EAAyB;;SAEhB,SAAS,CAAT,GAAa,QAAb,GAAwB,SAAS,CAAT,GAAa,QAAb,GAAwB,SAAS,CAAT,GAAa,OAAb,GAAuB,SAAS,CAAT,GAAa,UAAb,GAA0B,OAAxG;;;AAGF,SAAS,WAAT,CAAsB,MAAtB,EAA8B,IAA9B,EAAoC,QAApC,EAA8C;SACrC,gBAAP,CAAwB,IAAxB,EAA8B,QAA9B;;;AAGF,AAIA,AAAI,IAAA,OAAO,SAAS,IAApB,CAAA;AAA0B,IAAA,UAAU,OAAO,QAAP,CAAgB,eAApD,CAAA;AACE,AACF,SAAS,SAAT,CAAoB,EAApB,EAAyB;MACnB,SAAS,GAAG,qBAAH,EAAb;SACO;SACC,OAAO,GAAP,GAAa,SADd;UAEE,OAAO,IAAP,GAAc,SAFhB;WAGG,OAAO,KAAP,GAAe,SAHlB;YAII,OAAO,MAAP,GAAgB;GAJ3B;;AAOF,SAAS,OAAT,GAAmB;SAAS,OAAO,WAAP,IAAsB,QAAQ,UAArC;;AACrB,SAAS,OAAT,GAAmB;SAAS,OAAO,WAAP,IAAsB,QAAQ,SAArC;;;AC/VN,SAAS,IAAT,CAAe,MAAf,EAAuB;;MAEhC,QAAQ,IAAI,KAAJ,CAAW,MAAX,CAAZ;;MAEI,MAAM,cAAc,KAAd,CAAV;MACI,OAAO,WAAW,EAAC,YAAD,EAAQ,gBAAR,EAAiB,YAAjB,EAAwB,QAAxB,EAAX,CAAX;MACI,KAAJ;;MAEI,UAAU,KAAK,OAAnB;MACI,MAAJ;;;QAGM,IAAN;;;OAGK,MAAL,IAAe,OAAf,EAAwB;cACZ,QAAQ,MAAR,CAAV;;;;MAIE,SAAJ,CAAc,GAAd,CAAkB,MAAlB;;MAEI,IAAJ;;;OAGK,IAAI,IAAI,MAAM,MAAnB,EAA2B,CAA3B,EAA8B,GAA9B,EAAmC;WAC1B,MAAM,IAAI,CAAV,IAAe,KAAK,IAAI,CAAT,CAAtB;SACK,KAAL,CAAW,GAAX;;;OAGG,OAAL,GAAe,YAAU;QACnB,IAAJ;QACI,IAAI,KAAK,KAAL,CAAW,MAAnB;SACK,KAAL,CAAW,IAAX,CAAgB,IAAhB;WACO,KAAK,KAAL,CAAW,CAAX,IAAgB,KAAK,CAAL,CAAvB;SACK,KAAL,CAAW,GAAX;WACO,IAAP;GANF;;SASO,IAAP;;WAES,KAAT,CAAgB,IAAhB,EAAsB;;YAEZ,IAAR;UACM,WAAN,CAAkB,GAAlB;;;WAGO,OAAT,GAAoB;;UAEZ,WAAN,CAAkB,GAAlB;SACK,QAAL,GAAgB,EAAhB;;;WAGO,SAAT,CAAoB,MAApB,EAA4B;WACnB,IAAP,IAAe,OAAO,IAAP,CAAY,IAAZ,CAAf;;;AAGJ,KAAK,eAAL,GAAuB,eAAvB;AACA,KAAK,IAAL,GAAYE,IAAZ;AACA,KAAK,OAAL,GAAe,EAAC,cAAD,EAAS,QAAT,EAAc,YAAd,EAAqB,YAArB,EAA4B,gBAA5B,EAAqC,UAArC,EAA2C,UAA3C,EAAiD,gBAAjD,EAA0D,sBAA1D,EAAf;AACA,KAAK,IAAL,GAAY,IAAZ;AACA,KAAK,MAAL,GAAc,MAAd;AACA,KAAK,SAAL,GAAiB,SAAjB;;;;"}