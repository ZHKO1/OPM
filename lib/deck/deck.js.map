{"version":3,"file":null,"sources":["../../../src/lib/deck/createElement.js","../../../src/lib/deck/animationFrames.js","../../../src/lib/deck/ease.js","../../../src/lib/deck/fontSize.js","../../../src/lib/deck/modules/bysuit.js","../../../src/lib/deck/modules/fan.js","../../../src/lib/deck/prefix.js","../../../src/lib/deck/translate.js","../../../src/lib/deck/modules/intro.js","../../../src/lib/deck/modules/poker.js","../../../src/lib/deck/fisherYates.js","../../../src/lib/deck/plusminus.js","../../../src/lib/deck/modules/shuffle.js","../../../src/lib/deck/modules/sort.js","../../../src/lib/deck/modules/flip.js","../../../src/lib/deck/modules/MyReady.js","../../../src/lib/deck/modules/RivalReady.js","../../../src/lib/deck/observable.js","../../../src/lib/deck/queue.js","../../../src/lib/deck/draggabilly/ev-emitter.js","../../../src/lib/deck/draggabilly/unipointer.js","../../../src/lib/deck/draggabilly/unidragger.js","../../../src/lib/deck/draggabilly/draggabilly.js","../../../src/lib/deck/card.js","../../../src/lib/deck/deck.js"],"sourcesContent":["export default function (type) {\r\n    return document.createElement(type)\r\n}\r\n","var ticking\r\nvar animations = []\r\n\r\nexport default function (delay, duration) {\r\n    var now = Date.now()\r\n\r\n    // calculate animation start/end times\r\n    var start = now + delay\r\n    var end = start + duration\r\n\r\n    var animation = {\r\n        start: start,\r\n        end: end\r\n    }\r\n\r\n    // add animation\r\n    animations.push(animation)\r\n\r\n    if (!ticking) {\r\n        // start ticking\r\n        ticking = true\r\n        requestAnimationFrame(tick)\r\n    }\r\n    var self = {\r\n        start: function (cb) {\r\n            // add start callback (just one)\r\n            animation.startcb = cb\r\n            return self\r\n        },\r\n        progress: function (cb) {\r\n            // add progress callback (just one)\r\n            animation.progresscb = cb\r\n            return self\r\n        },\r\n        end: function (cb) {\r\n            // add end callback (just one)\r\n            animation.endcb = cb\r\n            return self\r\n        }\r\n    }\r\n    return self\r\n}\r\n\r\nfunction tick() {\r\n    var now = Date.now()\r\n\r\n    if (!animations.length) {\r\n        // stop ticking\r\n        ticking = false\r\n        return\r\n    }\r\n\r\n    for (var i = 0, animation; i < animations.length; i++) {\r\n        animation = animations[i]\r\n        if (now < animation.start) {\r\n            // animation not yet started..\r\n            continue\r\n        }\r\n        if (!animation.started) {\r\n            // animation starts\r\n            animation.started = true\r\n            animation.startcb && animation.startcb()\r\n        }\r\n        // animation progress\r\n        var t = (now - animation.start) / (animation.end - animation.start)\r\n        animation.progresscb && animation.progresscb(t < 1 ? t : 1)\r\n        if (now > animation.end) {\r\n            // animation ended\r\n            animation.endcb && animation.endcb()\r\n            animations.splice(i--, 1)\r\n            continue\r\n        }\r\n    }\r\n    requestAnimationFrame(tick)\r\n}\r\n\r\n// fallback\r\nwindow.requestAnimationFrame || (window.requestAnimationFrame = function (cb) {\r\n    setTimeout(cb, 0)\r\n})\r\n","export default {\r\n    linear: function (t) {\r\n        return t\r\n    },\r\n    quadIn: function (t) {\r\n        return t * t\r\n    },\r\n    quadOut: function (t) {\r\n        return t * (2 - t)\r\n    },\r\n    quadInOut: function (t) {\r\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t\r\n    },\r\n    cubicIn: function (t) {\r\n        return t * t * t\r\n    },\r\n    cubicOut: function (t) {\r\n        return (--t) * t * t + 1\r\n    },\r\n    cubicInOut: function (t) {\r\n        return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\r\n    },\r\n    quartIn: function (t) {\r\n        return t * t * t * t\r\n    },\r\n    quartOut: function (t) {\r\n        return 1 - (--t) * t * t * t\r\n    },\r\n    quartInOut: function (t) {\r\n        return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\r\n    },\r\n    quintIn: function (t) {\r\n        return t * t * t * t * t\r\n    },\r\n    quintOut: function (t) {\r\n        return 1 + (--t) * t * t * t * t\r\n    },\r\n    quintInOut: function (t) {\r\n        return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\r\n    }\r\n}\r\n","export default function () {\r\n    return window.getComputedStyle(document.body).getPropertyValue('font-size').slice(0, -2)\r\n}\r\n","import getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n    deck: function (deck) {\r\n        deck.bysuit = deck.queued(bysuit)\r\n\r\n        function bysuit(next) {\r\n            var cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            })\r\n\r\n            fontSize = getFontSize()\r\n\r\n            cards.forEach(function (card) {\r\n                card.bysuit(function (i) {\r\n                    if (i === cards.length - 1) {\r\n                        next()\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    },\r\n    card: function (card) {\r\n        var rank = card.rank\r\n        var suit = card.suit\r\n\r\n        card.bysuit = function (cb) {\r\n            var i = card.i\r\n            var delay = i * 10\r\n\r\n            card.animateTo({\r\n                delay: delay,\r\n                duration: 400,\r\n\r\n                x: -Math.round((6.75 - rank) * 8 * fontSize / 16),\r\n                y: -Math.round((1.5 - suit) * 92 * fontSize / 16),\r\n                rot: 0,\r\n\r\n                onComplete: function () {\r\n                    cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","import getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n    deck: function (deck) {\r\n        deck.fan = deck.queued(fan)\r\n\r\n        function fan(next) {\r\n            var cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            })\r\n            var len = cards.length\r\n\r\n            fontSize = getFontSize()\r\n\r\n            cards.forEach(function (card, i) {\r\n                card.fan(i, len, function (i) {\r\n                    if (i === cards.length - 1) {\r\n                        next()\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    },\r\n    card: function (card) {\r\n        var $el = card.$el\r\n\r\n        card.fan = function (i, len, cb) {\r\n            var z = i / 4\r\n            var delay = i * 10\r\n            var rot = i / (len - 1) * 260 - 130\r\n\r\n            card.animateTo({\r\n                delay: delay,\r\n                duration: 300,\r\n\r\n                x: -z,\r\n                y: -z,\r\n                rot: 0\r\n            })\r\n            card.animateTo({\r\n                delay: 300 + delay,\r\n                duration: 300,\r\n\r\n                x: Math.cos(deg2rad(rot - 90)) * 55 * fontSize / 16,\r\n                y: Math.sin(deg2rad(rot - 90)) * 55 * fontSize / 16,\r\n                rot: rot,\r\n\r\n                onStart: function () {\r\n                    $el.style.zIndex = i\r\n                },\r\n\r\n                onComplete: function () {\r\n                    cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nfunction deg2rad(degrees) {\r\n    return degrees * Math.PI / 180\r\n}\r\n","var style = document.createElement('p').style\r\nvar memoized = {}\r\n\r\nexport default function (param) {\r\n    if (typeof memoized[param] !== 'undefined') {\r\n        return memoized[param]\r\n    }\r\n\r\n    if (typeof style[param] !== 'undefined') {\r\n        memoized[param] = param\r\n        return param\r\n    }\r\n\r\n    var camelCase = param[0].toUpperCase() + param.slice(1)\r\n    var prefixes = ['webkit', 'moz', 'Moz', 'ms', 'o']\r\n    var test\r\n\r\n    for (var i = 0, len = prefixes.length; i < len; i++) {\r\n        test = prefixes[i] + camelCase\r\n        if (typeof style[test] !== 'undefined') {\r\n            memoized[param] = test\r\n            return test\r\n        }\r\n    }\r\n}\r\n\r\n","import prefix from './prefix'\r\n\r\nvar has3d\r\n\r\nexport default function (a, b, c) {\r\n    (typeof has3d !== 'undefined') || (has3d = check3d())\r\n\r\n    c = c || 0\r\n\r\n    if (has3d) {\r\n        return 'translate3d(' + a + ', ' + b + ', ' + c + ')'\r\n    } else {\r\n        return 'translate(' + a + ', ' + b + ')'\r\n    }\r\n}\r\n\r\nfunction check3d() {\r\n    // I admit, this line is stealed from the great Velocity.js!\r\n    // http://julian.com/research/velocity/\r\n    var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\r\n\r\n    if (!isMobile) {\r\n        return false\r\n    }\r\n\r\n    var transform = prefix('transform')\r\n    var $p = document.createElement('p')\r\n\r\n    document.body.appendChild($p)\r\n    $p.style[transform] = 'translate3d(1px,1px,1px)'\r\n\r\n    has3d = $p.style[transform]\r\n    has3d = has3d != null && has3d.length && has3d !== 'none'\r\n\r\n    document.body.removeChild($p)\r\n\r\n    return has3d\r\n}\r\n","import animationFrames from '../animationFrames'\r\nimport ease from '../ease'\r\nimport prefix from '../prefix'\r\nimport translate from '../translate'\r\n\r\nexport default {\r\n    deck: function (deck) {\r\n        deck.intro = deck.queued(intro)\r\n\r\n        function intro(next) {\r\n            var cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            })\r\n\r\n            cards.forEach(function (card, i) {\r\n                card.setSide('back')\r\n                card.intro(i, function (i) {\r\n                    animationFrames(250, 0)\r\n                        .start(function () {\r\n                            card.setSide('front')\r\n                        })\r\n                    if (i === cards.length - 1) {\r\n                        next()\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    },\r\n    card: function (card) {\r\n        var transform = prefix('transform')\r\n\r\n        var $el = card.$el\r\n\r\n        card.intro = function (i, cb) {\r\n            var delay = 500 + i * 10\r\n            var z = i / 4\r\n\r\n            $el.style[transform] = translate(-z + 'px', '-250px')\r\n            $el.style.opacity = 0\r\n\r\n            card.x = -z\r\n            card.y = -250 - z\r\n            card.rot = 0\r\n\r\n            card.animateTo({\r\n                delay: delay,\r\n                duration: 1000,\r\n\r\n                x: -z,\r\n                y: -z,\r\n\r\n                onStart: function () {\r\n                    $el.style.zIndex = i\r\n                },\r\n                onProgress: function (t) {\r\n                    $el.style.opacity = t\r\n                },\r\n                onComplete: function () {\r\n                    $el.style.opacity = ''\r\n                    cb && cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","import getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n    deck: function (deck) {\r\n        deck.poker = deck.queued(poker)\r\n\r\n        function poker(next) {\r\n            var cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            })\r\n            var len = cards.length\r\n\r\n            fontSize = getFontSize()\r\n\r\n            cards.forEach(function (card, i) {\r\n                card.poker(i, len, function (i) {\r\n                    card.setSide('front')\r\n                    if (i === (cards.length - 1)) {\r\n                        next()\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    },\r\n    card: function (card) {\r\n        var $el = card.$el\r\n\r\n        card.poker = function (i, len, cb) {\r\n            var delay = i * 250;\r\n            card.animateTo({\r\n                delay: 0,\r\n                duration: 250,\r\n\r\n                x: Math.round((parseInt(i % 7) - 3) * 120 * fontSize / 16),\r\n                y: Math.round(270 + (parseInt(i / 7) - 3) * 150 * fontSize / 16),\r\n                rot: 0,\r\n\r\n                onStart: function () {\r\n                    $el.style.zIndex = (len - 1) + i\r\n                },\r\n                onComplete: function () {\r\n                    cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","export default function (array) {\r\n    var rnd, temp\r\n\r\n    for (var i = array.length - 1; i; i--) {\r\n        rnd = Math.random() * i | 0\r\n        temp = array[i]\r\n        array[i] = array[rnd]\r\n        array[rnd] = temp\r\n    }\r\n\r\n    return array\r\n}\r\n","export default function (value) {\r\n    var plusminus = Math.round(Math.random()) ? -1 : 1\r\n\r\n    return plusminus * value\r\n}\r\n","import getFontSize from '../fontSize'\r\nimport fisherYates from '../fisherYates'\r\nimport plusMinus from '../plusminus'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n    deck: function (deck) {\r\n        deck.shuffle = deck.queued(shuffle)\r\n\r\n        function shuffle(next) {\r\n            var cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            })\r\n\r\n            fontSize = getFontSize()\r\n\r\n            fisherYates(cards)\r\n\r\n            cards.forEach(function (card, i) {\r\n                card.pos = i\r\n\r\n                card.shuffle(function (i) {\r\n                    if (i === cards.length - 1) {\r\n                        next()\r\n                    }\r\n                })\r\n            })\r\n            return\r\n        }\r\n    },\r\n\r\n    card: function (card) {\r\n        var $el = card.$el\r\n\r\n        card.shuffle = function (cb) {\r\n            var i = card.pos\r\n            var z = i / 4\r\n            var delay = i * 2\r\n\r\n            card.animateTo({\r\n                delay: delay,\r\n                duration: 200,\r\n\r\n                x: plusMinus(Math.random() * 40 + 20) * fontSize / 16,\r\n                y: -z,\r\n                rot: 0\r\n            })\r\n            card.animateTo({\r\n                delay: 200 + delay,\r\n                duration: 200,\r\n\r\n                x: -z,\r\n                y: -z,\r\n                rot: 0,\r\n\r\n                onStart: function () {\r\n                    $el.style.zIndex = i\r\n                },\r\n\r\n                onComplete: function () {\r\n                    cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","export default {\r\n    deck: function (deck) {\r\n        deck.sort = deck.queued(sort)\r\n\r\n        function sort(next, reverse) {\r\n            var cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            })\r\n\r\n            cards.sort(function (a, b) {\r\n                if (reverse) {\r\n                    return a.i - b.i\r\n                } else {\r\n                    return b.i - a.i\r\n                }\r\n            })\r\n\r\n            cards.forEach(function (card, i) {\r\n                card.sort(i, cards.length, function (i) {\r\n                    if (i === cards.length - 1) {\r\n                        next()\r\n                    }\r\n                }, reverse)\r\n            })\r\n        }\r\n    },\r\n    card: function (card) {\r\n        var $el = card.$el\r\n\r\n        card.sort = function (i, len, cb, reverse) {\r\n            var z = i / 4\r\n            var delay = i * 10\r\n\r\n            card.animateTo({\r\n                delay: delay,\r\n                duration: 400,\r\n\r\n                x: -z,\r\n                y: -150,\r\n                rot: 0,\r\n\r\n                onComplete: function () {\r\n                    $el.style.zIndex = i\r\n                }\r\n            })\r\n\r\n            card.animateTo({\r\n                delay: delay + 500,\r\n                duration: 400,\r\n\r\n                x: -z,\r\n                y: -z,\r\n                rot: 0,\r\n\r\n                onComplete: function () {\r\n                    cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","export default {\r\n    deck: function (deck) {\r\n        deck.flip = deck.queued(flip)\r\n\r\n        function flip(next, side) {\r\n            var flipped = deck.cards.filter(function(card){\r\n                  return (!card.isStaticNode());\r\n              }).filter(function (card) {\r\n                    return card.side === 'front'\r\n                }).length / deck.cards.length\r\n\r\n            deck.cards.forEach(function (card, i) {\r\n                card.setSide(side ? side : flipped > 0.5 ? 'back' : 'front')\r\n            })\r\n            next()\r\n        }\r\n    }\r\n}\r\n","import getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n    deck: function (deck) {\r\n        deck.myReady = deck.queued(myReady)\r\n\r\n        function myReady(next) {\r\n            var cards;\r\n\r\n            fontSize = getFontSize()\r\n\r\n            cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            }).slice(0, 4);\r\n\r\n            cards.forEach(function (card) {\r\n                card.myReady(function (i) {\r\n                    if (i === cards.length - 1) {\r\n                        next()\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    },\r\n    card: function (card) {\r\n        var rank = card.rank\r\n        var suit = card.suit\r\n\r\n        var positionMap = [\r\n            {x: -304, y: 70},\r\n            {x: 20, y: 70},\r\n            {x: -304, y: 221},\r\n            {x: 20, y: 221}\r\n        ];\r\n\r\n        card.myReady = function (cb) {\r\n            var i = card.i\r\n            var delay = 0\r\n\r\n            card.animateTo({\r\n                delay: delay,\r\n                duration: 400,\r\n\r\n                x: positionMap[i].x,\r\n                y: positionMap[i].y,\r\n                rot: 0,\r\n\r\n                onComplete: function () {\r\n                    cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","import getFontSize from '../fontSize'\r\n\r\nvar fontSize\r\n\r\nexport default {\r\n    deck: function (deck) {\r\n        deck.rivalReady = deck.queued(rivalReady)\r\n\r\n        function rivalReady(next) {\r\n            var cards\r\n\r\n            fontSize = getFontSize()\r\n\r\n            cards = deck.cards.filter(function(card){\r\n                return (!card.isStaticNode());\r\n            }).slice(4, 8);\r\n\r\n            cards.forEach(function (card) {\r\n                card.rivalReady(function (i) {\r\n                    if (i === cards.length - 1) {\r\n                        next()\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    },\r\n    card: function (card) {\r\n        var rank = card.rank\r\n        var suit = card.suit\r\n\r\n        var cardMap = [\r\n            {x: -261, y: -240},\r\n            {x: -87, y: -240},\r\n            {x: 87, y: -240},\r\n            {x: 261, y: -240}\r\n        ];\r\n\r\n        var positionMap = [\r\n            {x: 20, y: -93},\r\n            {x: -304, y: -93},\r\n            {x: 20, y: -246},\r\n            {x: -304, y: -246}\r\n        ];\r\n\r\n        card.rivalReady = function (cb) {\r\n            var i = card.i - 4;\r\n            var delay = 0\r\n\r\n            card.animateTo({\r\n                delay: delay + 100 * i,\r\n                duration: 400,\r\n\r\n                x: cardMap[i].x,\r\n                y: cardMap[i].y,\r\n                rot: 0\r\n            })\r\n\r\n            card.animateTo({\r\n                delay: 1000,\r\n                duration: 400,\r\n\r\n                x: positionMap[i].x,\r\n                y: positionMap[i].y,\r\n                rot: 0,\r\n\r\n                onComplete: function () {\r\n                    cb(i)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n","export default function (target) {\r\n    target || (target = {})\r\n    var listeners = {}\r\n\r\n    target.on = on\r\n    target.one = one\r\n    target.off = off\r\n    target.trigger = trigger\r\n\r\n    return target\r\n\r\n    function on(name, cb, ctx) {\r\n        listeners[name] || (listeners[name] = [])\r\n        listeners[name].push({cb, ctx})\r\n    }\r\n\r\n    function one(name, cb, ctx) {\r\n        listeners[name] || (listeners[name] = [])\r\n        listeners[name].push({\r\n            cb, ctx, once: true\r\n        })\r\n    }\r\n\r\n    function trigger(name) {\r\n        var self = this\r\n        var args = Array.prototype.slice(arguments, 1)\r\n\r\n        var currentListeners = listeners[name] || []\r\n\r\n        currentListeners.filter(function (listener) {\r\n            listener.cb.apply(self, args)\r\n\r\n            return !listener.once\r\n        })\r\n    }\r\n\r\n    function off(name, cb) {\r\n        if (!name) {\r\n            listeners = {}\r\n            return\r\n        }\r\n\r\n        if (!cb) {\r\n            listeners[name] = []\r\n            return\r\n        }\r\n\r\n        listeners[name] = listeners[name].filter(function (listener) {\r\n            return listener.cb !== cb\r\n        })\r\n    }\r\n}\r\n","export default function (target) {\r\n    var array = Array.prototype\r\n\r\n    var queueing = []\r\n    target.queueing = queueing;\r\n\r\n    target.queue = queue\r\n    target.queued = queued\r\n\r\n    return target\r\n\r\n    function queued(action) {\r\n        return function () {\r\n            var self = this\r\n            var args = arguments\r\n\r\n            queue(function (next) {\r\n                action.apply(self, array.concat.apply(next, args))\r\n            })\r\n        }\r\n    }\r\n\r\n    function queue(action) {\r\n        if (!action) {\r\n            return\r\n        }\r\n\r\n        queueing.push(action)\r\n\r\n        if (queueing.length === 1) {\r\n            next()\r\n        }\r\n    }\r\n\r\n    function next() {\r\n        queueing[0](function (err) {\r\n            if (err) {\r\n                throw err\r\n            }\r\n\r\n            queueing = queueing.slice(1)\r\n\r\n            if (queueing.length) {\r\n                next()\r\n            }\r\n        })\r\n    }\r\n}\r\n","export default class EvEmitter {\r\n    constructor() {\r\n    }\r\n\r\n    on(eventName, listener) {\r\n        if (!eventName || !listener) {\r\n            return;\r\n        }\r\n        // set events hash\r\n        var events = this._events = this._events || {};\r\n        // set listeners array\r\n        var listeners = events[eventName] = events[eventName] || [];\r\n        // only add once\r\n        if (listeners.indexOf(listener) == -1) {\r\n            listeners.push(listener);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    once(eventName, listener) {\r\n        if (!eventName || !listener) {\r\n            return;\r\n        }\r\n        // add event\r\n        this.on(eventName, listener);\r\n        // set once flag\r\n        // set onceEvents hash\r\n        var onceEvents = this._onceEvents = this._onceEvents || {};\r\n        // set onceListeners object\r\n        var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};\r\n        // set flag\r\n        onceListeners[listener] = true;\r\n        return this;\r\n    };\r\n\r\n    off(eventName, listener) {\r\n        var listeners = this._events && this._events[eventName];\r\n        if (!listeners || !listeners.length) {\r\n            return;\r\n        }\r\n        var index = listeners.indexOf(listener);\r\n        if (index != -1) {\r\n            listeners.splice(index, 1);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    emitEvent(eventName, args) {\r\n        var listeners = this._events && this._events[eventName];\r\n        if (!listeners || !listeners.length) {\r\n            return;\r\n        }\r\n        var i = 0;\r\n        var listener = listeners[i];\r\n        args = args || [];\r\n        // once stuff\r\n        var onceListeners = this._onceEvents && this._onceEvents[eventName];\r\n\r\n        while (listener) {\r\n            var isOnce = onceListeners && onceListeners[listener];\r\n            if (isOnce) {\r\n                // remove listener\r\n                // remove before trigger to prevent recursion\r\n                this.off(eventName, listener);\r\n                // unset once flag\r\n                delete onceListeners[listener];\r\n            }\r\n            // trigger listener\r\n            listener.apply(this, args);\r\n            // get next listener\r\n            i += isOnce ? 0 : 1;\r\n            listener = listeners[i];\r\n        }\r\n        return this;\r\n    };\r\n\r\n    show(eventName) {\r\n        var listeners = this._events;\r\n        console.log(listeners);\r\n    }\r\n}\r\n","import EvEmitter from './ev-emitter.js'\r\n\r\n\r\nvar postStartEvents = {\r\n    mousedown: ['mousemove', 'mouseup'],\r\n    touchstart: ['touchmove', 'touchend', 'touchcancel'],\r\n    pointerdown: ['pointermove', 'pointerup', 'pointercancel'],\r\n    MSPointerDown: ['MSPointerMove', 'MSPointerUp', 'MSPointerCancel']\r\n};\r\nexport default class Unipointer extends EvEmitter {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    bindStartEvent(elem) {\r\n        this._bindStartEvent(elem, true);\r\n    };\r\n\r\n    unbindStartEvent(elem) {\r\n        this._bindStartEvent(elem, false);\r\n    };\r\n\r\n    _bindStartEvent(elem, isBind) {\r\n        // munge isBind, default to true\r\n        isBind = isBind === undefined ? true : !!isBind;\r\n        var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\r\n        elem[bindMethod]('mousedown', this);\r\n        elem[bindMethod]('touchstart', this);\r\n    };\r\n\r\n    handleEvent(event) {\r\n        var method = 'on' + event.type;\r\n        if (this[method]) {\r\n            this[method](event);\r\n        }\r\n    };\r\n\r\n    onmousedown(event) {\r\n        var button = event.button;\r\n        if (button && ( button !== 0 && button !== 1 )) {\r\n            return;\r\n        }\r\n        this._pointerDown(event, event);\r\n    };\r\n\r\n    _pointerDown(event, pointer) {\r\n        this.pointerDown(event, pointer);\r\n    };\r\n\r\n    pointerDown(event, pointer) {\r\n        this._bindPostStartEvents(event);\r\n        this.emitEvent('pointerDown', [event, pointer]);\r\n    };\r\n\r\n    _bindPostStartEvents(event) {\r\n        if (!event) {\r\n            return;\r\n        }\r\n        // get proper events to match start event\r\n        var events = postStartEvents[event.type];\r\n        // bind events to node\r\n        events.forEach(function (eventName) {\r\n            window.addEventListener(eventName, this);\r\n        }, this);\r\n        this._boundPointerEvents = events;\r\n    };\r\n\r\n    _unbindPostStartEvents() {\r\n        // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\r\n        if (!this._boundPointerEvents) {\r\n            return;\r\n        }\r\n        this._boundPointerEvents.forEach(function (eventName) {\r\n            window.removeEventListener(eventName, this);\r\n        }, this);\r\n\r\n        delete this._boundPointerEvents;\r\n    };\r\n\r\n    onmousemove(event) {\r\n        this._pointerMove(event, event);\r\n    };\r\n\r\n    _pointerMove(event, pointer) {\r\n        this.pointerMove(event, pointer);\r\n    };\r\n\r\n    pointerMove(event, pointer) {\r\n        this.emitEvent('pointerMove', [event, pointer]);\r\n    };\r\n\r\n\r\n    onmouseup(event) {\r\n        this._pointerUp(event, event);\r\n    };\r\n\r\n    _pointerUp(event, pointer) {\r\n        this._pointerDone();\r\n        this.pointerUp(event, pointer);\r\n    };\r\n\r\n    pointerUp(event, pointer) {\r\n        this.emitEvent('pointerUp', [event, pointer]);\r\n    };\r\n\r\n    _pointerDone() {\r\n        this._unbindPostStartEvents();\r\n    };\r\n\r\n\r\n}","import Unipointer from './unipointer.js'\r\n\r\nvar navigator = window.navigator;\r\n\r\nfunction noop() {\r\n}\r\nexport default class Unidragger extends Unipointer {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    bindHandles() {\r\n        this._bindHandles(true);\r\n    };\r\n\r\n    unbindHandles() {\r\n        this._bindHandles(false);\r\n    };\r\n\r\n    _bindHandles(isBind) {\r\n        // munge isBind, default to true\r\n        isBind = isBind === undefined ? true : !!isBind;\r\n        // extra bind logic\r\n        var binderExtra;\r\n        if (navigator.pointerEnabled) {\r\n            binderExtra = function (handle) {\r\n                // disable scrolling on the element\r\n                handle.style.touchAction = isBind ? 'none' : '';\r\n            };\r\n        } else if (navigator.msPointerEnabled) {\r\n            binderExtra = function (handle) {\r\n                // disable scrolling on the element\r\n                handle.style.msTouchAction = isBind ? 'none' : '';\r\n            };\r\n        } else {\r\n            binderExtra = noop;\r\n        }\r\n        // bind each handle\r\n        var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\r\n        for (var i = 0; i < this.handles.length; i++) {\r\n            var handle = this.handles[i];\r\n            this._bindStartEvent(handle, isBind);\r\n            binderExtra(handle);\r\n        }\r\n    };\r\n}","import Unidragger from './unidragger.js'\r\n\r\nvar document = window.document;\r\nfunction noop() {\r\n}\r\nfunction extend(a, b) {\r\n    for (var prop in b) {\r\n        a[prop] = b[prop];\r\n    }\r\n    return a;\r\n}\r\nfunction isElement(obj) {\r\n    return obj instanceof HTMLElement;\r\n}\r\n\r\nvar requestAnimationFrame = window.requestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\r\nvar lastTime = 0;\r\nif (!requestAnimationFrame) {\r\n    requestAnimationFrame = function (callback) {\r\n        var currTime = new Date().getTime();\r\n        var timeToCall = Math.max(0, 16 - ( currTime - lastTime ));\r\n        var id = setTimeout(callback, timeToCall);\r\n        lastTime = currTime + timeToCall;\r\n        return id;\r\n    };\r\n}\r\n\r\nvar docElem = document.documentElement;\r\nvar transformProperty = typeof docElem.style.transform == 'string' ?\r\n    'transform' : 'WebkitTransform';\r\n\r\n\r\nexport default class Draggabilly extends Unidragger {\r\n    constructor(element, options) {\r\n        super();\r\n        this.element = typeof element == 'string' ?\r\n            document.querySelector(element) : element;\r\n\r\n        this.options = extend({}, this.constructor.defaults);\r\n        this.option(options);\r\n\r\n        this._create();\r\n    }\r\n\r\n    option(opts) {\r\n        extend(this.options, opts);\r\n    };\r\n\r\n    _create() {\r\n\r\n        this.setHandles();\r\n    };\r\n\r\n    setHandles() {\r\n        this.handles = this.options.handle ?\r\n            this.element.querySelectorAll(this.options.handle) : [this.element];\r\n\r\n        this.bindHandles();\r\n    };\r\n\r\n}\r\n\r\nDraggabilly.defaults = {};\r\n","import Deck from './deck'\r\n\r\nimport animationFrames from './animationFrames'\r\nimport createElement from './createElement'\r\nimport Ease from './ease'\r\nimport translate from './translate'\r\nimport prefix from './prefix'\r\nimport Draggabilly from './draggabilly/draggabilly.js'\r\n\r\nvar maxZ = 100\r\n\r\nexport default function (i) {\r\n    var transform = prefix('transform')\r\n    var id = i;\r\n    // calculate rank/suit, etc..\r\n    var rank = i % 13 + 1\r\n    var suit = i / 13 | 0\r\n    var z = (52 - i) / 4\r\n\r\n    // create elements\r\n    var $el = createElement('div')\r\n    var $face = createElement('div')\r\n    var $back = createElement('div')\r\n\r\n    // states\r\n    var isDraggable = false\r\n    var isStaticNode = false\r\n    var isFlippable = false\r\n    var isMoveBackable = false\r\n\r\n    // self = card\r\n    var self = {i, rank, suit, id, pos: i, $el, mount, unmount, setSide}\r\n\r\n    var modules = Deck.modules\r\n    var module\r\n\r\n    // add classes\r\n    $face.classList.add('face')\r\n    $back.classList.add('back')\r\n\r\n    // add default transform\r\n    $el.style[transform] = translate(-z + 'px', -z + 'px')\r\n\r\n    // add default values\r\n    self.x = -z\r\n    self.y = -z\r\n    self.z = z\r\n    self.rot = 0\r\n\r\n    self.PosStatus = {\r\n        startPos: {},\r\n        pos: {},\r\n        starttime: 0,\r\n        originPosX: 0,\r\n        originPosY: 0,\r\n    };\r\n    self.$container = null;\r\n\r\n    // set default side to back\r\n    self.setSide('back')\r\n\r\n    // add drag/click listeners\r\n    self.dragObj = new Draggabilly($el, {});\r\n    self.onMousedown = function (e) {\r\n        var startPos = self.PosStatus.startPos\r\n        var pos = self.PosStatus.pos\r\n\r\n        var starttime = Date.now()\r\n        self.PosStatus.starttime = starttime\r\n\r\n        e.preventDefault()\r\n\r\n        if (e.type === 'mousedown') {\r\n            startPos.x = pos.x = e.clientX\r\n            startPos.y = pos.y = e.clientY\r\n        } else {\r\n            startPos.x = pos.x = e.touches[0].clientX\r\n            startPos.y = pos.y = e.touches[0].clientY\r\n        }\r\n\r\n        if (!isDraggable) {\r\n            // is not draggable, do nothing\r\n            return\r\n        }\r\n\r\n        // move card\r\n        $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '')\r\n        $el.style.zIndex = maxZ++\r\n    }\r\n    self.onMousemove = function (e) {\r\n        var startPos = self.PosStatus.startPos\r\n        var pos = self.PosStatus.pos\r\n\r\n        if (!isDraggable) {\r\n            // is not draggable, do nothing\r\n            return\r\n        }\r\n        if (e.type === 'mousemove') {\r\n            pos.x = e.clientX\r\n            pos.y = e.clientY\r\n        } else {\r\n            pos.x = e.touches[0].clientX\r\n            pos.y = e.touches[0].clientY\r\n        }\r\n\r\n        // move card\r\n        $el.style[transform] = translate(Math.round(self.x + pos.x - startPos.x) + 'px', Math.round(self.y + pos.y - startPos.y) + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '')\r\n\r\n    };\r\n    self.onMouseup = function (e) {\r\n        var startPos = self.PosStatus.startPos\r\n        var pos = self.PosStatus.pos\r\n        var starttime = self.PosStatus.starttime\r\n\r\n\r\n        if (isFlippable && Date.now() - starttime < 200) {\r\n            // flip sides\r\n            self.setSide(self.side === 'front' ? 'back' : 'front')\r\n        }\r\n        if (!isDraggable) {\r\n            // is not draggable, do nothing\r\n            return\r\n        }\r\n\r\n        // set current position\r\n        self.x = self.x + pos.x - startPos.x\r\n        self.y = self.y + pos.y - startPos.y\r\n    };\r\n    self.dragObj.on(\"pointerDown\", self.onMousedown);\r\n    self.dragObj.on(\"pointerMove\", self.onMousemove);\r\n    self.dragObj.on(\"pointerUp\", self.onMouseup);\r\n\r\n    // load modules\r\n    for (module in modules) {\r\n        addModule(modules[module])\r\n    }\r\n\r\n    self.hide = function(){\r\n        $el.style[\"display\"] = \"none\";\r\n    }\r\n    self.show = function(){\r\n        $el.style[\"display\"] = \"\";\r\n    }\r\n    self.animateTo = function (params) {\r\n        var {delay, duration, x = self.x, y = self.y, rot = self.rot, ease, onStart, onProgress, onComplete} = params\r\n        var startX, startY, startRot\r\n        var diffX, diffY, diffRot\r\n\r\n        animationFrames(delay, duration)\r\n            .start(function () {\r\n                startX = self.x || 0\r\n                startY = self.y || 0\r\n                startRot = self.rot || 0\r\n                onStart && onStart()\r\n            })\r\n            .progress(function (t) {\r\n                var et = Ease[ease || 'cubicInOut'](t)\r\n\r\n                diffX = x - startX\r\n                diffY = y - startY\r\n                diffRot = rot - startRot\r\n\r\n                onProgress && onProgress(t, et)\r\n\r\n                self.x = startX + diffX * et\r\n                self.y = startY + diffY * et\r\n                self.rot = startRot + diffRot * et\r\n\r\n                $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (diffRot ? 'rotate(' + self.rot + 'deg)' : '')\r\n            })\r\n            .end(function () {\r\n                onComplete && onComplete()\r\n            })\r\n    }\r\n    self.setAutoMoveBack = function () {\r\n        isMoveBackable = true;\r\n        self.dragObj.on(\"pointerDown\", self.AutoMoveBackEvent);\r\n    };\r\n    self.setNotMoveBack = function () {\r\n        isMoveBackable = false;\r\n        self.PosStatus.originPosX = 0;\r\n        self.PosStatus.originPosY = 0;\r\n        self.dragObj.off(\"pointerDown\", self.AutoMoveBackEvent);\r\n    };\r\n    self.AutoMoveBackEvent = function () {\r\n        let startPos = self.PosStatus.startPos\r\n        let pos = self.PosStatus.pos\r\n        self.PosStatus.originPosX = self.x + pos.x - startPos.x;\r\n        self.PosStatus.originPosY = self.y + pos.y - startPos.y;\r\n        self.dragObj.off(\"pointerDown\", self.AutoMoveBackEvent);\r\n    };\r\n    self.AutoMoveBack = function () {\r\n        if (isMoveBackable) {\r\n            self.animateTo({\r\n                delay: 0,\r\n                duration: 300,\r\n\r\n                x: self.PosStatus.originPosX,\r\n                y: self.PosStatus.originPosY,\r\n                rot: 0\r\n            });\r\n        }\r\n    };\r\n\r\n    self.toStaticNode = function (droppableEl, callback) {\r\n        let $StaticContainer = droppableEl.el;\r\n        isStaticNode = true;\r\n        self.moveToStaticNode(droppableEl, () => {\r\n            self.unmount();\r\n            let $el = createElement('div');\r\n            let $face = createElement('div');\r\n            let $back = createElement('div');\r\n            $face.classList.add('face');\r\n            $back.classList.add('back');\r\n            var suitName = SuitName(suit);\r\n            $el.setAttribute('class', 'card ' + suitName + ' rank' + rank);\r\n            $el.style.position = 'relative';\r\n            $el.style.left = '0px';\r\n            $el.style.top = '0px';\r\n            $el.setAttribute(\"data-name\", self.card.name);\r\n            $StaticContainer.innerHTML = \"\";\r\n            $StaticContainer.appendChild($el);\r\n            addListener($el, 'click', () => {\r\n                $StaticContainer.removeChild($el)\r\n                self.toDragNode();\r\n            });\r\n            callback && callback();\r\n        });\r\n    };\r\n    self.moveToStaticNode = function (droppableEl, callback) {\r\n        let $StaticContainer = droppableEl.el;\r\n        let offset2 = getOffset($StaticContainer), width2 = $StaticContainer.offsetWidth, height2 = $StaticContainer.offsetHeight;\r\n        let bodyoffset = getOffset(body), bodywidth = document.documentElement.clientWidth, bodyheight = document.documentElement.clientHeight;\r\n        offset2 = {\r\n            left: (offset2.left + offset2.right) / 2 - width2 / 2,\r\n            top: (offset2.top + offset2.bottom) / 2 - height2 / 2\r\n        }\r\n        self.animateTo({\r\n            delay: 0,\r\n            duration: 300,\r\n\r\n            x: offset2.left - bodywidth / 2 + width2 / 2,\r\n            y: offset2.top - bodyheight / 2 + height2 / 2 - 10,\r\n            rot: 0,\r\n            onComplete: () => {\r\n                callback && callback();\r\n            }\r\n        });\r\n    };\r\n    self.isStaticNode = function () {\r\n        return isStaticNode;\r\n    };\r\n\r\n    self.toDragNode = function () {\r\n        isStaticNode = false;\r\n        self.mount(self.$container);\r\n    };\r\n\r\n    // set rank & suit\r\n    self.setRankSuit = function (rank, suit) {\r\n        var suitName = SuitName(suit)\r\n        $el.setAttribute('class', 'card ' + suitName + ' rank' + rank)\r\n    }\r\n\r\n    self.setRankSuit(rank, suit)\r\n\r\n    self.enableDragging = function () {\r\n        // this activates dragging\r\n        if (isDraggable) {\r\n            // already is draggable, do nothing\r\n            return\r\n        }\r\n        isDraggable = true\r\n        $el.style.cursor = 'move'\r\n    }\r\n\r\n    self.enableFlipping = function () {\r\n        if (isFlippable) {\r\n            // already is flippable, do nothing\r\n            return\r\n        }\r\n        isFlippable = true\r\n    }\r\n\r\n    self.disableFlipping = function () {\r\n        if (!isFlippable) {\r\n            // already disabled flipping, do nothing\r\n            return\r\n        }\r\n        isFlippable = false\r\n    }\r\n\r\n    self.disableDragging = function () {\r\n        if (!isDraggable) {\r\n            // already disabled dragging, do nothing\r\n            return\r\n        }\r\n        isDraggable = false\r\n        $el.style.cursor = ''\r\n    }\r\n\r\n    self.setCard = function (card) {\r\n        self.card = card;\r\n        $el.setAttribute(\"data-name\", card.name);\r\n    }\r\n    self.setPosition = function ({x, y, z}) {\r\n        $el.style[transform] = translate(x + 'px', y + 'px')\r\n\r\n        self.x = x\r\n        self.y = y\r\n    }\r\n\r\n    return self\r\n\r\n    function addModule(module) {\r\n        // add card module\r\n        module.card && module.card(self)\r\n    }\r\n\r\n    function mount(target) {\r\n        // mount card to target (deck)\r\n        target.appendChild($el)\r\n        self.$container = target;\r\n        self.$root = target\r\n    }\r\n\r\n    function unmount() {\r\n        // unmount from root (deck)\r\n        self.$root && self.$root.removeChild($el)\r\n        self.$root = null\r\n    }\r\n\r\n    function setSide(newSide) {\r\n        // flip sides\r\n        if (newSide === 'front') {\r\n            if (self.side === 'back') {\r\n                $el.removeChild($back)\r\n            }\r\n            self.side = 'front'\r\n            $el.appendChild($face)\r\n            self.setRankSuit(self.rank, self.suit)\r\n        } else {\r\n            if (self.side === 'front') {\r\n                $el.removeChild($face)\r\n            }\r\n            self.side = 'back'\r\n            $el.appendChild($back)\r\n            $el.setAttribute('class', 'card')\r\n        }\r\n    }\r\n}\r\n\r\nfunction SuitName(suit) {\r\n    // return suit name from suit value\r\n    suit === 0 ? 'spades' : suit === 1 ? 'hearts' : suit === 2 ? 'clubs' : suit === 3 ? 'diamonds' : 'joker'\r\n    return \"spades\";\r\n}\r\n\r\nfunction addListener(target, name, listener) {\r\n    target.addEventListener(name, listener)\r\n}\r\n\r\nfunction removeListener(target, name, listener) {\r\n    target.removeEventListener(name, listener)\r\n}\r\n\r\nvar body = document.body, docElem = window.document.documentElement,\r\n    transEndEventNames = {\r\n        'WebkitTransition': 'webkitTransitionEnd',\r\n        'MozTransition': 'transitionend',\r\n        'OTransition': 'oTransitionEnd',\r\n        'msTransition': 'MSTransitionEnd',\r\n        'transition': 'transitionend'\r\n    };\r\nfunction getOffset(el) {\r\n    var offset = el.getBoundingClientRect();\r\n    return {\r\n        top: offset.top + scrollY(),\r\n        left: offset.left + scrollX(),\r\n        right: offset.right + scrollX(),\r\n        bottom: offset.bottom + scrollY(),\r\n    }\r\n}\r\nfunction scrollX() {\r\n    return window.pageXOffset || docElem.scrollLeft;\r\n}\r\nfunction scrollY() {\r\n    return window.pageYOffset || docElem.scrollTop;\r\n}\r\n","import createElement from './createElement'\r\n\r\nimport animationFrames from './animationFrames'\r\nimport ease from './ease'\r\nimport bysuit from './modules/bysuit'\r\nimport fan from './modules/fan'\r\nimport intro from './modules/intro'\r\nimport poker from './modules/poker'\r\nimport shuffle from './modules/shuffle'\r\nimport sort from './modules/sort'\r\nimport flip from './modules/flip'\r\nimport myReady from './modules/MyReady'\r\nimport rivalReady from './modules/RivalReady'\r\n\r\nimport observable from './observable'\r\nimport queue from './queue'\r\nimport prefix from './prefix'\r\nimport translate from './translate'\r\n\r\nimport Card from './card'\r\n\r\nexport default function Deck() {\r\n    // init cards array\r\n    var cards = []\r\n\r\n    var $el = createElement('div')\r\n    var self = observable({mount, unmount, cleanDragCard, cards, $el})\r\n    var $root\r\n\r\n    var modules = Deck.modules\r\n    var module\r\n\r\n    // make queueable\r\n    queue(self)\r\n\r\n    // load modules\r\n    for (module in modules) {\r\n        addModule(modules[module])\r\n    }\r\n\r\n    // add class\r\n    $el.classList.add('deck')\r\n\r\n    var card\r\n\r\n    // create cards\r\n    for (var i = cards.length; i; i--) {\r\n        card = cards[i - 1] = Card(i - 1)\r\n        card.mount($el)\r\n    }\r\n\r\n    self.addCard = function () {\r\n        var card;\r\n        var i = self.cards.length;\r\n        self.cards.push(null);\r\n        card = self.cards[i] = Card(i)\r\n        card.mount($el);\r\n        return card;\r\n    }\r\n\r\n    return self\r\n\r\n    function mount(root) {\r\n        // mount deck to root\r\n        $root = root\r\n        $root.appendChild($el)\r\n    }\r\n\r\n    function unmount() {\r\n        // unmount deck from root\r\n        $root.removeChild($el);\r\n        self.queueing = []\r\n    }\r\n\r\n    function addModule(module) {\r\n        module.deck && module.deck(self)\r\n    }\r\n\r\n    function cleanDragCard(){\r\n        self.cards.forEach(function(card){\r\n            (!card.isStaticNode()) && card.unmount();\r\n        });\r\n        self.cards = self.cards.filter(function(card){\r\n            return card.isStaticNode();\r\n        });\r\n    }\r\n}\r\nDeck.animationFrames = animationFrames\r\nDeck.ease = ease\r\nDeck.modules = {bysuit, fan, intro, poker, shuffle, sort, flip, myReady, rivalReady}\r\nDeck.Card = Card\r\nDeck.prefix = prefix\r\nDeck.translate = translate\r\n"],"names":["fontSize","navigator","noop","document","docElem","ease"],"mappings":"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"}