{"version":3,"file":null,"sources":["../../src/js/tool.js","../../src/js/Module/Player.js","../../src/js/Module/MainCard.js","../../src/js/Cards/RankD/Snack.js","../../src/js/Cards/RankD/MumenRider.js","../../src/js/Cards/RankD/OgonBall.js","../../src/js/Cards/RankD/TankTopBlackhole.js","../../src/js/Cards/RankD/DarknessBlade.js","../../src/js/Cards/RankD/JujikeyAndMofuku.js","../../src/js/Cards/Saitama/SaitamaCitizen.js","../../src/js/Cards/Saitama/SaitamaHero.js","../../src/js/Cards/Saitama/SaitamaMax.js","../../src/js/Cards/Saitama/SaitamaNightmare.js","../../src/js/Cards/Saitama/SaitamaRookie.js","../../src/js/Cards/Saitama/SaitamaSensei.js","../../src/js/Cards/Saitama/SaitamaTheBurst.js","../../src/js/card_database.js","../../src/js/Module/HalfGround.js","../../src/js/Module/Comment.js","../../src/js/observable.js","../../src/js/queue.js","../../src/js/Module/Round.js","../../src/js/lib/dragdrop.js","../../src/js/Module/SelectCard.js","../../src/js/index.js"],"sourcesContent":["function createElement(type) {\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction newElement(type, class_, $contain, Content, attobj) {\r\n  let $el = document.createElement(type);\r\n  if(class_){\r\n    $el.classList.add(class_);\r\n  }\r\n  if(typeof(Content) != \"undefined\"){\r\n    if((typeof Content === \"string\") || (typeof Content === \"number\")){\r\n      $el.innerHTML = Content;\r\n    }else if(Content.nodeType){\r\n      $contain.appendChild($el);\r\n    }else{\r\n      throw \"Content Param type error\";\r\n    }\r\n  }\r\n  if(attobj){\r\n    for(let att in attobj){\r\n      $el.setAttribute(att, attobj[att]);\r\n    }\r\n  }\r\n  $contain.appendChild($el);\r\n  return $el;\r\n}\r\n\r\nexport {createElement, newElement};","import {createElement, newElement} from '../tool.js'\r\nexport default class Player {\r\n  constructor(x) {\r\n    this.name = x;\r\n  }\r\n}","import {createElement, newElement} from '../tool.js'\r\nexport default class MainCard {\r\n  constructor({card, $el, position, ground}) {\r\n    Object.assign(this, card);\r\n    this.position = position;\r\n    this.Ground = ground;\r\n    this.Player = this.Ground.Player;\r\n    this.comment = this.Ground.comment;\r\n    this.role = this.Ground.role;\r\n    this.Round = this.Ground.Round;\r\n    this.$CardContain = null;\r\n    this.$el = $el || null;\r\n    this.deckCard = null;\r\n    this.status = {\r\n      ActionOver: false,//是否行动完毕？\r\n    };\r\n    this.init();\r\n  }\r\n\r\n  drawCard() {\r\n    //$el.textContent = this.name;\\\r\n    let that = this;\r\n    let $el = that.$el;\r\n    let $CardContain = createElement(\"div\");\r\n    $CardContain.classList.add('cardContainer');\r\n    let $row1 = createElement(\"div\");//name\r\n    let $row2 = createElement(\"div\");//rank type\r\n    let $row3 = createElement(\"div\");//spd hp\r\n    let $row4 = createElement(\"div\");//skill\r\n    let $row5 = createElement(\"div\");//att def\r\n    let $row6 = createElement(\"div\");//effect\r\n    let array = [$row1, $row2, $row3, $row4, $row5, $row6];\r\n    //$row1.style.display = \"none\";\r\n    //$row2.style.display = \"none\";\r\n    //$row4.style.display = \"none\";\r\n    //$row6.style.display = \"none\";\r\n    array.forEach(function ($row, i) {\r\n      let $head1, $body1, $head2, $body2;\r\n      $CardContain.appendChild($row);\r\n      $row.classList.add('row_');\r\n      switch (i) {\r\n        case 0:\r\n          $head1 = newElement(\"div\", \"head\", $row, \"Name\");\r\n          $body1 = newElement(\"div\", \"body3\", $row, that.name);\r\n          break;\r\n        case 1:\r\n          $head1 = newElement(\"div\", \"head\", $row, \"Rank\");\r\n          $body1 = newElement(\"div\", \"body1\", $row, that.rank);\r\n          $head2 = newElement(\"div\", \"head\", $row, \" \");\r\n          $body2 = newElement(\"div\", \"body1\", $row, \" \");\r\n          break;\r\n        case 2:\r\n          $head1 = newElement(\"div\", \"head\", $row, \"Speed\");\r\n          $body1 = newElement(\"div\", \"body1\", $row, that.spd);\r\n          $head2 = newElement(\"div\", \"head\", $row, \"Hp\");\r\n          $body2 = newElement(\"div\", \"body1\", $row, that.hp);\r\n          break;\r\n        case 3:\r\n          $head1 = newElement(\"div\", \"head\", $row, \"Skill\");\r\n          $body1 = newElement(\"div\", \"body3\", $row, that.skill);\r\n          break;\r\n        case 4:\r\n          $head1 = newElement(\"div\", \"head\", $row, \"Att\");\r\n          $body1 = newElement(\"div\", \"body1\", $row, that.att);\r\n          $head2 = newElement(\"div\", \"head\", $row, \"Def\");\r\n          $body2 = newElement(\"div\", \"body1\", $row, that.def);\r\n          break;\r\n        case 5:\r\n          $head1 = newElement(\"div\", \"head\", $row, \"Effect\");\r\n          $body1 = newElement(\"div\", \"body3\", $row, that.effect, {title: that.effect});\r\n          break;\r\n      }\r\n    });\r\n    $el.appendChild($CardContain);\r\n    that.$CardContain = $CardContain;\r\n    that.status.ActionOver && that.setActionOver();\r\n  }\r\n\r\n  bind(){\r\n    let that = this;\r\n    addListener(that.$CardContain, 'mousedown', onMousedown);\r\n    function onMousedown (e) {\r\n      var starttime = Date.now();\r\n      that.Round.trigger(\"select\", that);\r\n      e.preventDefault();\r\n      return\r\n    }\r\n  }\r\n\r\n  setSelected(){\r\n    let that = this;\r\n    that.$CardContain.classList.add(\"selected\");\r\n  }\r\n\r\n  setNotSelected(){\r\n    let that = this;\r\n    that.$CardContain.classList.remove(\"selected\");\r\n  }\r\n\r\n  setActionOver(){\r\n    this.status.ActionOver = true;\r\n    this.$CardContain.classList.add(\"actionOver\");\r\n  }\r\n\r\n  setActionable(){\r\n    this.status.ActionOver = false;\r\n    this.$CardContain.classList.remove(\"actionOver\");\r\n  }\r\n\r\n  attackTo(card){\r\n    let that = this;\r\n    let damage = ((that.att - card.def) >= 0)?(that.att - card.def):0;\r\n    card.hp = ((card.hp - damage)>=0)?(card.hp - damage):0;\r\n    return damage;\r\n  }\r\n\r\n  getAttackedObject(ground){\r\n    let that = this;\r\n    let ObjectArray = ground.getAlive();\r\n    ObjectArray = ObjectArray.sort((itemA, itemB)=>{\r\n      return (ToInteger(that.att - itemA.def)/itemA.hp ) < (ToInteger(that.att - itemB.def)/itemB.hp );\r\n    });\r\n    function ToInteger(number){\r\n      return (number<=0)?0:number;\r\n    }\r\n    return ObjectArray;\r\n  }\r\n\r\n  defeatedExit(callback){\r\n    let that = this;\r\n    that.$CardContain.style.display = \"none\";\r\n    that.status.ActionOver = true;\r\n    that.deckCard.unmount();\r\n    callback && callback();\r\n  }\r\n\r\n  update(callback){\r\n    let that = this;\r\n    that.$el.innerHTML = \"\";\r\n    that.drawCard();\r\n    that.bind();\r\n    callback && callback();\r\n  }\r\n\r\n  init() {\r\n    let that = this;\r\n    that.drawCard();\r\n    that.bind();\r\n  }\r\n\r\n  //特效部分\r\n  //回合开始前加BUFF\r\n  Effect_RoundStartBuff(next){\r\n    let that = this;\r\n    next();\r\n  }\r\n  //回合结束后加BUFF\r\n  Effect_RoundEndBuff(){\r\n  }\r\n  //攻击范围\r\n  Effect_setAttackedRange(){\r\n  }\r\n  //攻击前事件\r\n  Effect_BattleBefore(){\r\n  }\r\n  //战斗结束后事件\r\n  Effect_BattleAfter(){\r\n  }\r\n  //战败事件\r\n  Effect_Defeated(){\r\n\r\n  }\r\n}\r\n\r\nfunction addListener (target, name, listener) {\r\n  target.addEventListener(name, listener)\r\n}\r\n\r\nfunction removeListener (target, name, listener) {\r\n  target.removeEventListener(name, listener)\r\n}","import Card from '../../Module/MainCard.js'\r\nexport default class Snack extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class MumenRider extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class OgonBall extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class TankTopBlackhole extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class DarknessBlade extends Card {\r\n  Effect_RoundStartBuff(next){\r\n    let that = this;\r\n    setTimeout(()=>{\r\n      that.comment.addComment(\"Effect\",that,\"防御减2\");\r\n      next();\r\n    },300);\r\n  }\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class JujikeyAndMofuku extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class SaitamaCitizen extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class SaitamaHero extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class SaitamaMax extends Card {\r\n  Effect_RoundStartBuff(next){\r\n    let that = this;\r\n    setTimeout(()=>{\r\n      that.comment.addComment(\"Effect\",that,\"防御减2\");\r\n      next();\r\n    },300);\r\n  }\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class SaitamaNightmare extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class SaitamaRookie extends Card {\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class SaitamaSensei extends Card {\r\n  Effect_RoundStartBuff(next){\r\n    let that = this;\r\n    setTimeout(()=>{\r\n      that.comment.addComment(\"Effect\",that,\"防御减2\");\r\n      next();\r\n    },300);\r\n  }\r\n}\r\n","import Card from '../../Module/MainCard.js'\r\nexport default class SaitamaTheBurst extends Card {\r\n}\r\n","import Snack from './Cards/RankD/Snack.js'\r\nimport MumenRider from './Cards/RankD/MumenRider.js'\r\nimport OgonBall from './Cards/RankD/OgonBall.js'\r\nimport TankTopBlackhole from './Cards/RankD/TankTopBlackhole.js'\r\nimport DarknessBlade from './Cards/RankD/DarknessBlade.js'\r\nimport JujikeyAndMofuku from './Cards/RankD/JujikeyAndMofuku.js'\r\n\r\nimport SaitamaCitizen from './Cards/Saitama/SaitamaCitizen.js'\r\nimport SaitamaHero from './Cards/Saitama/SaitamaHero.js'\r\nimport SaitamaMax from './Cards/Saitama/SaitamaMax.js'\r\nimport SaitamaNightmare from './Cards/Saitama/SaitamaNightmare.js'\r\nimport SaitamaRookie from './Cards/Saitama/SaitamaRookie.js'\r\nimport SaitamaSensei from './Cards/Saitama/SaitamaSensei.js'\r\nimport SaitamaTheBurst from './Cards/Saitama/SaitamaTheBurst.js'\r\n\r\n\r\nconst CardRankD = {\r\n  cards:[\r\n     {class_: Snack,      id:\"D1\", name:\"蛇咬拳 斯内克\", rank:\"D\", hp:5, spd:3, att:3, def:1, skill:\"蛇形拳\", effect:\"本卡片体力等于1时触发，本回合本卡片不能进行攻击\"}\r\n    ,{class_: MumenRider, id:\"D2\", name:\"无证骑士\", rank:\"D\", hp:4, spd:2, att:1, def:1, skill:\"正义咆哮\", effect:\"本卡片退场时触发，如果存在组合搭档，组合搭档体力加3，如果组合搭档已退场，组合搭档以体力3的状态回到场上\"}\r\n    ,{class_: OgonBall,   id:\"D3\", name:\"黄金球\", rank:\"D\", hp:4, spd:1, att:4, def:1, skill:\"形状记忆金弹\", effect:\"第一回合准备阶段触发，本卡片攻击范围横排攻击\"}\r\n    ,{class_: TankTopBlackhole, id:\"D4\", name:\"背心黑洞\", rank:\"D\", hp:6, spd:2, att:4, def:1, skill:\"200公斤握力\", effect:\"本卡片发动攻击时触发，本卡片体力减1，被攻击的卡片体力减1\"}\r\n    ,{class_: DarknessBlade,    id:\"D5\", name:\"黑暗炎龙使者\", rank:\"D\", hp:3, spd:1, att:1, def:2, skill:\"不知何处得来的自信\", effect:\"本卡片攻击的伤害阶段可以触发，被攻击的卡片防御减2\"}\r\n    ,{class_: JujikeyAndMofuku, id:\"D6\", name:\"十字键与丧服吊带\", rank:\"D\", hp:4, spd:1, att:1, def:3, skill:\"吊带回转风暴\", effect:\"\"}\r\n    ,{class_: SaitamaCitizen,   id:\"D7\", name:\"无业游民 琦玉\", rank:\"D\", hp:5, spd:1, att:2, def:2, skill:\"三年的地狱式磨练\", effect:\"第三回合准备简单触发，本卡片退场，随机选取其他琦玉卡片替换到本卡片的位置\"}\r\n  ]\r\n};\r\nconst CardSaitama = {\r\n  cards:[\r\n     {class_: SaitamaHero, id:\"Saitama1\", name:\"英雄琦玉\", rank:\"S\", hp:9, spd:6, att:8, def:6, skill:\"连续普通拳\", effect:\"本卡片行动的伤害计算阶段可以触发，这次伤害数值翻倍\"}\r\n    ,{class_: SaitamaTheBurst, id:\"Saitama2\", name:\"超爆发! 秃头琦玉之觉醒\", rank:\"S\", hp:3, spd:10, att:100, def:2, skill:\"超市特卖觉醒拳\", effect:\"本卡片行动结束时可以触发，本卡片退场\"}\r\n    ,{class_: SaitamaNightmare, id:\"Saitama3\", name:\"睡梦修罗 琦玉\", rank:\"A\", hp:6, spd:5, att:6, def:8, skill:\"地球有我来守护!\", effect:\"每回合结束阶段触发，本卡片攻击减2，防御减2\"}\r\n    ,{class_: SaitamaRookie, id:\"Saitama4\", name:\"菜鸟 琦玉\", rank:\"A\", hp:8, spd:1, att:8, def:5, skill:\"白菜都被消灭完了\", effect:\"每回合准备阶段触发，本卡片行动顺序变为最后一位\"}\r\n    ,{class_: SaitamaSensei, id:\"Saitama5\", name:\"琦玉 老师\", rank:\"S\", hp:9, spd:5, att:3, def:4, skill:\"随便才是上策\", effect:\"组合搭档攻击防御速度下降时触发，下降的数值恢复\"}\r\n    ,{class_: SaitamaMax, id:\"Saitama6\", name:\"英雄琦玉 认真模式\", rank:\"S\", hp:9, spd:1, att:1000, def:1000, skill:\"必杀 认真殴打\", effect:\"\"}\r\n  ]\r\n};\r\n\r\n\r\nconst card_database = {\r\n  cards : Array.prototype.concat.apply([],[CardRankD.cards/*, CardSaitama.cards*/])\r\n};\r\n\r\nwindow.card_database = card_database;\r\n\r\nexport {CardRankD, CardSaitama, card_database}","import {createElement, newElement} from '../tool.js'\r\nimport Player from './Player.js'\r\nimport {CardRankD, CardSaitama, card_database} from '../card_database.js'\r\nexport default class HalfGround {\r\n  constructor() {\r\n    this.role = null;\r\n    this.Player = null;\r\n    this.Round = null;\r\n    this.$el = null;\r\n    this.$Name = null;\r\n    this.$Cards = null;\r\n    this.comment = null;\r\n    this.$CardArray = [];\r\n    this.CardMap = {};\r\n    this.Cards = [];\r\n    this.deck = null;\r\n  }\r\n\r\n  initParam(player, role) {\r\n    this.Player = player;\r\n    this.role = role;\r\n  }\r\n\r\n  initRound(Round){\r\n    this.Round = Round;\r\n  }\r\n\r\n  initNode($el) {\r\n    let $Name = createElement(\"div\");\r\n    let $Cards = createElement(\"div\");\r\n    $Name.classList.add('name');\r\n    $Cards.classList.add('HalfGroundCards');\r\n    $el.appendChild($Name);\r\n    $el.appendChild($Cards);\r\n    this.$el = $el;\r\n    this.$Name = $Name;\r\n    this.$Cards = $Cards;\r\n    for (let i = 0; i < 4; i++) {\r\n      let $Card = createElement(\"div\");\r\n      $Cards.appendChild($Card);\r\n      $Card.classList.add('HalfGroundCard');\r\n      var backrow = (this.role == \"host\") ? ((i) => i > 1) : ((i) => i < 2);\r\n      if (backrow(i)) {\r\n        $Card.classList.add('backrow');\r\n      }\r\n      this.$CardArray.push($Card);\r\n    }\r\n  }\r\n\r\n  setName() {\r\n    let $div = createElement(\"div\");\r\n    this.$Name.appendChild($div);\r\n    $div.textContent = this.Player.name;\r\n  }\r\n\r\n  setCards(arr) {\r\n    let that = this;\r\n    let cards = this.getCards(arr);\r\n    let cards_order = (this.role == \"host\") ? [\"FL\", \"FR\", \"BL\", \"BR\"] : [\"BR\", \"BL\", \"FR\", \"FL\"];\r\n    cards_order.forEach((position, i)=> {\r\n      let $Card = this.$CardArray[i];\r\n      let card = new cards[position][\"class_\"]({\r\n        card: cards[position],\r\n        $el: $Card,\r\n        position:position,\r\n        ground:that\r\n      });\r\n      this.CardMap[position] = card;\r\n    });\r\n  }\r\n\r\n  getCards(obj) {\r\n    let cards_;\r\n    let cards = {};\r\n    if (!obj) {\r\n      cards_ = JSON.parse(JSON.stringify(card_database.cards));\r\n      cards_.forEach((item, i)=>{\r\n        item.class_ = card_database.cards[i].class_;\r\n      });\r\n      for (let i = cards_.length - 1; i > 0; i--) {\r\n        let j = Math.floor(Math.random() * (i + 1));\r\n        [cards_[i],cards_[j]]=[cards_[j], cards_[i]];\r\n      }\r\n      cards.FL = cards_[0];\r\n      cards.FR = cards_[1];\r\n      cards.BL = cards_[2];\r\n      cards.BR = cards_[3];\r\n    } else {\r\n      cards_ = JSON.parse(JSON.stringify(card_database.cards));\r\n      cards_.forEach((item, i)=>{\r\n        item.class_ = card_database.cards[i].class_;\r\n      });\r\n      cards.FL = cards_.find((item)=> {\r\n        return (item.id) === (obj.FL)\r\n      });\r\n      cards.FR = cards_.find((item)=> {\r\n        return (item.id) === (obj.FR)\r\n      });\r\n      cards.BL = cards_.find((item)=> {\r\n        return (item.id) === (obj.BL)\r\n      });\r\n      cards.BR = cards_.find((item)=> {\r\n        return (item.id) === (obj.BR)\r\n      });\r\n    }\r\n    return cards;\r\n  }\r\n\r\n  setDeck(deck){\r\n    this.deck = deck;\r\n    if(this.role == \"host\"){\r\n      deck.myReady();\r\n    }else{\r\n      if(deck.cards.length <= 4){\r\n        let cards_order = [\"FL\", \"FR\", \"BL\", \"BR\"];\r\n        let cardMap = {\r\n          FL:{x : 10000, y : -240},\r\n          FR:{x : 10000, y : -240},\r\n          BL:{x : 10000, y : -240},\r\n          BR:{x : 10000, y : -240}\r\n        };\r\n        cards_order.forEach((position)=>{\r\n          let card = deck.addCard();\r\n          card.enableDragging();\r\n          card.enableFlipping();\r\n          card.setCard(this.CardMap[position]);\r\n          card.setPosition({\r\n            x : cardMap[position].x,\r\n            y : cardMap[position].y\r\n          });\r\n          var DeckContainer = document.getElementById('DeckContainer')\r\n          deck.mount(DeckContainer);\r\n        });\r\n      }\r\n      deck.rivalReady();\r\n    }\r\n\r\n    let cards_order = [\"FL\", \"FR\", \"BL\", \"BR\"];\r\n    console.log(deck.cards);\r\n    cards_order.forEach((position, i)=> {\r\n      let deckCard = deck.cards[(this.role == \"host\") ? i:(i + 4)];\r\n      this.CardMap[position].deckCard = deckCard;\r\n      this.CardMap[position].deckCard.disableDragging();\r\n    });\r\n  }\r\n\r\n  isActionOver(){\r\n    let that = this;\r\n    let result = true;\r\n    let cards_order = [\"FL\", \"FR\", \"BL\", \"BR\"];\r\n    cards_order.forEach((position, i)=> {\r\n      result  = result && (that.CardMap[position].status.ActionOver || (!!!that.CardMap[position].hp));\r\n    });\r\n    return result;\r\n  }\r\n\r\n  RoundStart(){\r\n    let that = this;\r\n    let result = true;\r\n    let cards_order = [\"FL\", \"FR\", \"BL\", \"BR\"];\r\n    cards_order.forEach((position, i)=> {\r\n      that.CardMap[position].setActionable();\r\n    });\r\n    return result;\r\n  }\r\n\r\n  getAlive(){\r\n    let that = this;\r\n    let result = [];\r\n    let cards_order = [\"FL\", \"FR\", \"BL\", \"BR\"];\r\n    cards_order.forEach((position, i)=> {\r\n      if(that.CardMap[position].hp){\r\n        result.push(that.CardMap[position]);\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  getAction(){\r\n    let that = this;\r\n    let result = [];\r\n    let cards_order = [\"FL\", \"FR\", \"BL\", \"BR\"];\r\n    cards_order.forEach((position, i)=> {\r\n      if(that.CardMap[position].hp && (!that.CardMap[position].status.ActionOver)){\r\n        result.push(that.CardMap[position]);\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  isWashout(){\r\n    let that = this;\r\n    let result = true;\r\n    let cards_order = [\"FL\", \"FR\", \"BL\", \"BR\"];\r\n    cards_order.forEach((position, i)=> {\r\n      result  = (result && (!that.CardMap[position].hp));\r\n    });\r\n    return !!result;\r\n  }\r\n\r\n  init({$el, Player, role, cards, deck}) {\r\n    let that = this;\r\n    that.initParam(Player, role);\r\n    that.initNode($el);\r\n    that.setName();\r\n    that.setCards(cards);\r\n    that.setDeck(deck);\r\n  }\r\n}","import {createElement, newElement} from '../tool.js'\r\n\r\nexport default function Comment($el) {\r\n  let self = {};\r\n  self.$container = $el;\r\n  self.$ul = null;\r\n  self.init = function(){\r\n    let $ul = newElement(\"ul\", null, $el);\r\n    self.$ul = $ul;\r\n  };\r\n\r\n  self.getCardName = function(Card){\r\n    let role = Card.role;\r\n    let message = \"\";\r\n    if(role == \"host\"){\r\n      message = Card.name;\r\n    }else if(role == \"guest\"){\r\n      message = Card.Player.name + \"的\" + Card.name;\r\n    }else{\r\n    }\r\n    return message;\r\n  };\r\n  self.addComment = function(Type, ...Message){\r\n    let that = this;\r\n    let $li;\r\n    let host;\r\n    let guest;\r\n    let Carder = \"\";\r\n    let Attacker = \"\";\r\n    let Attacked = \"\";\r\n    let damage = 0;\r\n    let message;\r\n    let Card = null;\r\n    let AttackerCard = null;\r\n    let AttackedCard = null;\r\n    let ground1 = null;\r\n    let ground2 = null;\r\n    switch (Type){\r\n      case \"Round\":\r\n        $li = newElement(\"li\", Type, this.$ul, Message[0], {});\r\n        break;\r\n      case \"Attack\":\r\n        //Message [host, hostCardName, guest, guestCardName, attack]\r\n        AttackerCard = Message[0];\r\n        AttackedCard = Message[1];\r\n        Attacker = that.getCardName(AttackerCard);\r\n        Attacked = that.getCardName(AttackedCard);\r\n        message = Attacker + \"使出 <span class='skill'>\" + AttackerCard.skill + \"</span>!\";\r\n        $li = newElement(\"li\", Type, this.$ul, message, {});\r\n        damage = Message[2];\r\n        if(Number(damage) <= 0){\r\n          message = \"没有对 \" + Attacked + \" 造成影响\";\r\n        }else{\r\n          message = Attacked + \"损失了 <span class='damage'>\" + damage + \"</span> 的HP\";\r\n        }\r\n        if(AttackedCard.hp == 0){\r\n          message = message + \", <span class='damage'>落败!</span>\"\r\n        }\r\n        $li = newElement(\"li\", Type, this.$ul, message, {});\r\n        $li = newElement(\"li\", Type, this.$ul, \"<br/>\", {});\r\n        break;\r\n      case \"Effect\":\r\n        Card = Message[0];\r\n        message = Message[1];\r\n        Carder = that.getCardName(Card);\r\n        message = Carder + \" 发动了特效: \" + \"<span class='damage'>\" + message + \"</span>\" + \" !\";\r\n        $li = newElement(\"li\", Type, this.$ul, message, {});\r\n        break;\r\n      case \"GameOver\":\r\n        ground1 = Message[0];\r\n        ground2 = Message[1];\r\n        host = ground1.Player.name;\r\n        guest = ground2.Player.name;\r\n        message = host + \"获胜!\";\r\n        $li = newElement(\"li\", Type, this.$ul, message, {});\r\n        break;\r\n      default :\r\n        $li = newElement(\"li\", Type, this.$ul, Message[0], {});\r\n        break;\r\n    }\r\n    that.$container.scrollTop = that.$ul.clientHeight;\r\n  };\r\n\r\n  self.init();\r\n  return self;\r\n}\r\n","export default function (target) {\r\n  target || (target = {})\r\n  var listeners = {}\r\n\r\n  target.on = on\r\n  target.one = one\r\n  target.off = off\r\n  target.trigger = trigger\r\n  target.list = list\r\n\r\n  return target\r\n\r\n  function on (name, cb, ctx) {\r\n    listeners[name] || (listeners[name] = [])\r\n    listeners[name].push({cb, ctx})\r\n  }\r\n\r\n  function one (name, cb, ctx) {\r\n    listeners[name] || (listeners[name] = [])\r\n    listeners[name].push({\r\n      cb, ctx, once: true\r\n    })\r\n  }\r\n\r\n  function trigger (name) {\r\n    var self = this;\r\n    var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n    var currentListeners = listeners[name] || []\r\n\r\n    currentListeners.filter(function (listener) {\r\n      listener.cb.apply(self, args)\r\n\r\n      return !listener.once\r\n    })\r\n  }\r\n\r\n  function list (name) {\r\n    var self = this;\r\n    var currentListeners = listeners[name] || []\r\n    return currentListeners;\r\n  }\r\n\r\n  function off (name, cb) {\r\n    if (!name) {\r\n      listeners = {}\r\n      return\r\n    }\r\n\r\n    if (!cb) {\r\n      listeners[name] = []\r\n      return\r\n    }\r\n\r\n    listeners[name] = listeners[name].filter(function (listener) {\r\n      return listener.cb !== cb\r\n    })\r\n  }\r\n}","\r\nexport default class queue {\r\n  constructor() {\r\n    this.queueing = [];\r\n  }\r\n\r\n  queued (action, context) {\r\n    let that = this;\r\n    return function () {\r\n      var self = this\r\n      var args = arguments\r\n\r\n      that.queue(function (next) {\r\n        action.apply(context, Array.prototype.concat.apply(next, args))\r\n      })\r\n    }\r\n  }\r\n\r\n  queue (action) {\r\n    let self = this;\r\n    if (!action) {\r\n      return\r\n    }\r\n\r\n    self.queueing.push(action)\r\n\r\n    if (self.queueing.length === 1) {\r\n      self.next()\r\n    }\r\n  }\r\n  next () {\r\n    let self = this;\r\n    self.queueing[0](function (err) {\r\n      if (err) {\r\n        throw err\r\n      }\r\n\r\n      self.queueing = self.queueing.slice(1)\r\n\r\n      if (self.queueing.length) {\r\n        self.next()\r\n      }\r\n    })\r\n  }\r\n}\r\n","import {createElement, newElement} from '../tool.js'\r\nimport Player from './Player.js'\r\nimport HalfGround from './HalfGround.js'\r\nimport Comment from './Comment.js'\r\nimport observable from '../observable'\r\nimport Queue from '../queue.js'\r\n\r\nexport default function Round(ground1, ground2) {\r\n  let Round = 0;\r\n  let self;\r\n  let AttackerCard = null;\r\n  let AttackedCard = null;\r\n  let isGameOver = false;\r\n  let $comment = document.getElementById('comment')\r\n  let comment = Comment($comment);\r\n  let player1 = ground1.Player;\r\n  ground1.comment = comment;\r\n  let player2 = ground2.Player;\r\n  ground2.comment = comment;\r\n\r\n  self = observable({Round});\r\n\r\n  //玩家点击卡片的逻辑\r\n  self.on(\"select\",function(card){\r\n    self.clickCardCallback(card);\r\n  });\r\n  self.clickCardCallback = function(card) {\r\n    let that = this;\r\n    if((!AttackerCard) && (!card.status.ActionOver)){\r\n      AttackerCard = card;\r\n      card.setSelected();\r\n    }else if((!AttackerCard) && (card.status.ActionOver)){\r\n    }else if(AttackerCard === card){\r\n      AttackerCard = null;\r\n      card.setNotSelected();\r\n    }else if((AttackerCard) && ((!AttackedCard))){\r\n      if(that.checkCardRole(card)){\r\n        AttackedCard = card;\r\n        card.setSelected();\r\n        self.run(self.OnceBattleStep);\r\n      }\r\n    }else{\r\n      throw \"选择卡片机制抛出错误\";\r\n    }\r\n  };\r\n\r\n  //tool工具属性 有效帮助判断状态之类的\r\n  self.checkCardRole = function(card){\r\n    if(AttackerCard.role !== card.role){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //流程控制-卡片战斗的逻辑\r\n  let OnceBattleStep = function *(){\r\n    let that = this;\r\n    try{\r\n      let status = yield that.CardBattleBefore();\r\n      let damage = yield that.CardBattle();\r\n      let result1 = yield that.updateCards(damage);\r\n      let result2 = yield that.checkDefeatedCard();\r\n      let result3 = yield that.OnceBattleCompleted(result1);\r\n    }catch(e){\r\n      throw e;\r\n    }\r\n  };\r\n  self.OnceBattleStep = function(){\r\n    return OnceBattleStep.call(self);\r\n  };\r\n  self.run  = function(generator,callback) {\r\n    var it = generator();\r\n    function go(result) {\r\n      if (result.done){\r\n        callback && callback();\r\n        return result.value;\r\n      }\r\n      return result.value.then(function (value) {\r\n        return go(it.next(value));\r\n      }, function (error) {\r\n        return go(it.throw(error));\r\n      });\r\n    }\r\n    go(it.next());\r\n  };\r\n  self.CardBattleBefore = function(){\r\n    return new Promise(function (resolve, reject){\r\n      let status = AttackerCard.Effect_BattleBefore();\r\n      resolve(status);\r\n    });\r\n  };\r\n  self.CardBattle = function(){\r\n    return new Promise(function (resolve, reject){\r\n      var damage = AttackerCard.attackTo(AttackedCard);\r\n      resolve(damage);\r\n    });\r\n  };\r\n  self.updateAttackerCard = function(){\r\n    return new Promise(function (resolve, reject){\r\n      AttackerCard.update(function(){\r\n        resolve();\r\n      });\r\n    })\r\n  };\r\n  self.updateAttackedCard = function(){\r\n    return new Promise(function (resolve, reject){\r\n      AttackedCard.update(function(){\r\n        resolve();\r\n      });\r\n    })\r\n  };\r\n  self.addComment = function(damage){\r\n    return new Promise(function (resolve, reject){\r\n      comment.addComment(\"Attack\", AttackerCard, AttackedCard, damage);\r\n      resolve();\r\n    })\r\n  };\r\n  self.updateCards = function(damage){\r\n    var that = this;\r\n    return new Promise(function (resolve, reject){\r\n      Promise.all([\r\n        that.updateAttackerCard(),\r\n        that.updateAttackedCard(),\r\n        that.addComment(damage)\r\n      ]).then(()=>{\r\n        resolve();\r\n      });\r\n    })\r\n  };\r\n  self.checkDefeatedCard = function(){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      if(AttackedCard.hp <= 0){\r\n        AttackedCard.defeatedExit(function () {\r\n          resolve();\r\n        });\r\n      }else{\r\n        resolve();\r\n      }\r\n    })\r\n  };\r\n  self.OnceBattleCompleted  = function() {\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      AttackerCard.setActionOver();\r\n      AttackerCard = null;\r\n      AttackedCard = null;\r\n      self.trigger(\"ManualTransmission\");\r\n      resolve();\r\n    })\r\n  };\r\n\r\n  //流程控制-回合制战斗的逻辑\r\n  let OnceRoundStep = function *(){\r\n    let that = this;\r\n    let result;\r\n    let sortResult;\r\n    let beginBuff;\r\n    let endBuff;\r\n    let BattleResult;\r\n    try{\r\n      while(!isGameOver){\r\n        result = yield that.StartRound();\r\n        sortResult = yield that.sortCardsSpeed();\r\n        beginBuff = yield that.checkCardsBeginBuff(sortResult);\r\n        isGameOver = yield * that.startRoundBattle();//自动根据速度排序进行下一步或者玩家自行操作\r\n        yield that.OnceRoundCompleted(isGameOver);\r\n        sortResult = yield that.sortCardsSpeed();\r\n        endBuff = yield that.checkCardsEndBuff(sortResult);\r\n      }\r\n    }catch(e){\r\n      throw e;\r\n    }\r\n  };\r\n  self.OnceRoundStep = function(){\r\n    return OnceRoundStep.call(self);\r\n  };\r\n  self.StartRound = function(){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      that.nextRound();\r\n      resolve();\r\n    })\r\n  };\r\n  self.sortCardsSpeed = function(){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      let G1ActionCards = ground1.getAction();\r\n      let G2ActionCards = ground2.getAction();\r\n      let AllActionCards = G1ActionCards.concat(G2ActionCards);\r\n      AllActionCards.forEach((item)=>{\r\n        let random = Math.random() * 0.25;\r\n        item.spd_ = item.spd + random;\r\n      });\r\n      AllActionCards = AllActionCards.sort((itemA, itemB)=>{\r\n        return itemA.spd_ < itemB.spd_\r\n      });\r\n      resolve(AllActionCards);\r\n    })\r\n  };\r\n  self.checkCardsBeginBuff = function(sortArray){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      let queue = new Queue();\r\n      sortArray.forEach((item)=>{\r\n        queue.queued(item.Effect_RoundStartBuff, item)();\r\n      });\r\n      queue.queued(resolve)();\r\n    })\r\n  };\r\n  let startRoundBattle = function *(){\r\n    let that = this;\r\n    let i,isAuto, sortResult;\r\n    sortResult = yield that.sortCardsSpeed();\r\n    while((sortResult.length>0) && (!ground1.isWashout() && !ground2.isWashout())){\r\n      isAuto = yield that.NextStepMoudle();\r\n      if(isAuto){\r\n        sortResult = yield that.sortCardsSpeed();\r\n        AttackerCard = sortResult[0];\r\n        AttackedCard = sortResult[0].getAttackedObject((ground1.role == sortResult[0].role)?ground2:ground1)[0];\r\n        yield that.startCardBattle();\r\n      }\r\n      sortResult = yield that.sortCardsSpeed();\r\n    }\r\n    if(ground1.isWashout() || ground2.isWashout()){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }\r\n  };\r\n  self.startRoundBattle = function(argument){\r\n    return startRoundBattle.call(self,argument);\r\n  };\r\n  self.startCardBattle = function(argument){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      self.run(self.OnceBattleStep,()=>{\r\n        resolve();\r\n      });\r\n    })\r\n  };\r\n  self.OnceRoundCompleted = function(isGameOver){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      if(isGameOver){\r\n        if(ground1.isWashout() || ground2.isWashout()){\r\n          ground1.isWashout() && that.GameOver(ground2, ground1) && resolve(true);\r\n          ground2.isWashout() && that.GameOver(ground1, ground2) && resolve(true);\r\n          return;\r\n        }\r\n      }else{\r\n        if(ground1.isActionOver() && ground2.isActionOver()){\r\n          ground1.RoundStart();\r\n          ground2.RoundStart();\r\n          resolve(false);\r\n        }\r\n      }\r\n    })\r\n  };\r\n  self.checkCardsEndBuff = function(sortArray){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      resolve();\r\n    })\r\n  };\r\n\r\n  self.nextRound = function(){\r\n    Round ++;\r\n    comment.addComment(\"Round\", \"Round\" + Round);\r\n  };\r\n  self.GameOver = function(ground1, ground2){\r\n    comment.addComment(\"GameOver\", ground1, ground2);\r\n    return true;\r\n  };\r\n  self.NextStepMoudle = function(){\r\n    let that = this;\r\n    return new Promise(function (resolve, reject){\r\n      let thing = function(){ resolve(true);}\r\n      removeListener(document.getElementById(\"test\"), 'mousedown', thing);\r\n      addListener(document.getElementById(\"test\"), 'mousedown', thing);\r\n      self.off(\"ManualTransmission\");\r\n      self.on(\"ManualTransmission\",function(){\r\n        resolve(false);\r\n      });\r\n    })\r\n  };\r\n  return self;\r\n}\r\n\r\nfunction addListener (target, name, listener) {\r\n  target.addEventListener(name, listener)\r\n}\r\nfunction removeListener (target, name, listener) {\r\n  target.removeEventListener(name, listener)\r\n}","var body = document.body, docElem = window.document.documentElement,\r\n\ttransEndEventNames = { 'WebkitTransition': 'webkitTransitionEnd', 'MozTransition': 'transitionend', 'OTransition': 'oTransitionEnd', 'msTransition': 'MSTransitionEnd', 'transition': 'transitionend' };\r\n// https://remysharp.com/2010/07/21/throttling-function-calls\r\nfunction throttle(fn, threshhold, scope) {\r\n\tthreshhold || (threshhold = 250);\r\n\tvar last,\r\n\t\tdeferTimer;\r\n\r\n\treturn function () {\r\n\t\tvar context = scope || this;\r\n\t\tvar now = +new Date,\r\n\t\t\targs = arguments;\r\n\t\tif (last && now < last + threshhold) {\r\n\t\t\t// hold on to it\r\n\t\t\tclearTimeout(deferTimer);\r\n\t\t\tdeferTimer = setTimeout(function () {\r\n\t\t\t\tlast = now;\r\n\t\t\t\tfn.apply(context, args);\r\n\t\t\t}, threshhold);\r\n\t\t} else {\r\n\t\t\tlast = now;\r\n\t\t\tfn.apply(context, args);\r\n\t\t}\r\n\t};\r\n}\r\n// from http://responsejs.com/labs/dimensions/\r\nfunction getViewportW() {\r\n\tvar client = docElem['clientWidth'], inner = window['innerWidth'];\r\n\treturn client < inner ? inner : client;\r\n}\r\nfunction getViewportH() {\r\n\tvar client = docElem['clientHeight'], inner = window['innerHeight'];\r\n\treturn client < inner ? inner : client;\r\n}\r\nfunction scrollX() { return window.pageXOffset || docElem.scrollLeft; }\r\nfunction scrollY() { return window.pageYOffset || docElem.scrollTop; }\r\n// gets the offset of an element relative to the document\r\nfunction getOffset( el ) {\r\n\tvar offset = el.getBoundingClientRect();\r\n\treturn {\r\n\t\ttop : offset.top + scrollY(),\r\n\t\tleft : offset.left + scrollX(),\r\n\t\tright : offset.right + scrollX(),\r\n\t\tbottom : offset.bottom + scrollY(),\r\n\t}\r\n}\r\nfunction setTransformStyle( el, tval ) { el.style.transform = tval; }\r\nfunction onEndTransition( el, callback ) {\r\n\tvar onEndCallbackFn = function( ev ) {\r\n\t\tif( support.transitions ) {\r\n\t\t\tthis.removeEventListener( transEndEventName, onEndCallbackFn );\r\n\t\t}\r\n\t\tif( callback && typeof callback === 'function' ) { callback.call(); }\r\n\t};\r\n\r\n\tif( support.transitions ) {\r\n\t\tel.addEventListener( transEndEventName, onEndCallbackFn );\r\n\t}\r\n\telse {\r\n\t\tonEndCallbackFn();\r\n\t}\r\n}\r\nfunction extend( a, b ) {\r\n\tfor( var key in b ) {\r\n\t\tif( b.hasOwnProperty( key ) ) {\r\n\t\t\ta[key] = b[key];\r\n\t\t}\r\n\t}\r\n\treturn a;\r\n}\r\n\r\n\r\nlet classie = {\r\n\tadd : ()=>{},\r\n\tremove : ()=>{},\r\n}\r\n\r\nclass Droppable {\r\n\tconstructor( droppableEl, options ) {\r\n\t\tthis.el = droppableEl;\r\n\t\tthis.draggableObj = null;\r\n\t\tthis.options = extend( {}, this.options );\r\n\t\textend( this.options, options );\r\n\t}\r\n\r\n\tisDroppable( draggableEl ) {\r\n\t\tvar offset1 = getOffset( draggableEl ), width1 = draggableEl.offsetWidth, height1 = draggableEl.offsetHeight,\r\n\t\t\toffset2 = getOffset( this.el ), width2 = this.el.offsetWidth, height2 = this.el.offsetHeight;\r\n\t\toffset2  = {\r\n\t\t\tleft : (offset2.left + offset2.right)/2 - width2/2,\r\n\t\t\ttop : (offset2.top + offset2.bottom)/2 - height2/2\r\n\t\t}\r\n\t\treturn !(offset2.left > offset1.left + width1 - width1/2 ||\r\n\t\toffset2.left + width2 < offset1.left + width1/2 ||\r\n\t\toffset2.top > offset1.top + height1 - height1/2 ||\r\n\t\toffset2.top + height2 < offset1.top + height1/2 );\r\n\t}\r\n\thighlight ( draggableEl ) {\r\n\t\tif( this.isDroppable( draggableEl ) )\r\n\t\t\tthis.options.setDroppabledHighLight(this);\r\n\t\telse\r\n\t\t\tthis.options.removeDroppabledHighLight(this);\r\n\t}\r\n\tcollect( draggableEl, draggableObj ) {\r\n\t\tthis.options.removeDroppabledHighLight(this);\r\n\t\tthis.options.onDrop( this, draggableEl, draggableObj );\r\n\t}\r\n}\r\n\r\nclass Draggable {\r\n\tconstructor(dragEl ,dragObj, dragObjMethod, droppables, options) {\r\n\t\tthis.el = dragEl;\r\n\t\tthis.options = extend( {}, this.options );\r\n\t\textend( this.options, options );\r\n\t\tthis.droppables = droppables;\r\n\t\tthis.FirstStatus = true;\r\n\r\n\t\tthis.draggie = dragObj;\r\n\t\tthis.dragObjMethod = dragObjMethod;\r\n\t\tthis.events = {\r\n\t\t\tonDragStart : this.onDragStart.bind(this),\r\n\t\t\tonDragMove : throttle( this.onDragMove.bind(this), 5 ),\r\n\t\t\tonDragEnd : this.onDragEnd.bind(this)\r\n\r\n\t\t}\r\n\t\tthis.initEvents();\r\n\t}\r\n\r\n\tinitEvents() {\r\n\t\tthis.draggie.on( 'pointerDown', this.events.onDragStart );\r\n\t\tthis.draggie.on( 'pointerMove', this.events.onDragMove );\r\n\t\tthis.draggie.on( 'pointerUp', this.events.onDragEnd );\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.draggie.off( 'pointerDown', this.events.onDragStart );\r\n\t\tthis.draggie.off( 'pointerMove', this.events.onDragMove );\r\n\t\tthis.draggie.off( 'pointerUp', this.events.onDragEnd );\r\n\t}\r\n\r\n\tonDragStart ( instance, event, pointer ) {\r\n\t\tif(this.FirstStatus){\r\n\t\t\tthis.options.onFirstStart();\r\n\t\t\tthis.FirstStatus = false;\r\n\t\t}\r\n\t\tthis.options.onStart();\r\n\r\n\t\tthis.highlightDroppables();\r\n\t}\r\n\tonDragMove ( instance, event, pointer ) {\r\n\t\tthis.options.onDrag();\r\n\t\tthis.highlightDroppables();\r\n\t}\r\n\tonDragEnd ( instance, event, pointer ) {\r\n\t\tvar dropped = false;\r\n\t\tfor( var i = 0, len = this.droppables.length; i < len; ++i ) {\r\n\t\t\tvar droppableEl = this.droppables[i];\r\n\t\t\tif( droppableEl.isDroppable( this.el ) && droppableEl.options.isDroppable(this)) {\r\n\t\t\t\tdropped = true;\r\n\t\t\t\tdroppableEl.collect( this.el, this.dragObjMethod );\r\n\t\t\t\tthis.options.onEnd( dropped, droppableEl);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.options.onEnd( dropped);\r\n\t}\r\n\r\n\thighlightDroppables ( el ) {\r\n\t\tfor( var i = 0, len = this.droppables.length; i < len; ++i ) {\r\n\t\t\tthis.droppables[i].highlight( this.el );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nDraggable.prototype.options = {\r\n\tdraggabilly : {},\r\n\t// if the item should animate back to its original position\r\n\tanimBack : true,\r\n\t// clone the draggable and insert it on the same position while dragging the original one\r\n\thelper : false,\r\n\t// callbacks\r\n\tonStart : function() { return false; },\r\n\tonDrag : function() { return false; },\r\n\tonEnd : function(wasDropped) { return false; }\r\n}\r\n\r\nexport {Draggable, Droppable}","import {createElement, newElement} from '../tool.js'\r\nimport {CardRankD, CardSaitama, card_database} from '../card_database.js'\r\nimport {Draggable, Droppable} from '../lib/dragdrop.js'\r\n\r\nexport default function SelectCard($el, next) {\r\n  let self = {};\r\n  self.$container = $el;\r\n  let RankContainer = document.getElementById('RankContainer');\r\n  let RankCardContainer = document.getElementById('RankCardContainer');\r\n  let dropOverlay = document.getElementById('drop-overlay');\r\n  let SelectedCardContainer = document.getElementById('SelectedCardContainer');\r\n  var body = document.body;\r\n  var prefix = Deck.prefix;\r\n  var transform = prefix('transform')\r\n  var translate = Deck.translate\r\n  var DeckContainer = document.getElementById('DeckContainer')\r\n  var deck;\r\n\r\n  self.configRank = [\r\n    {RankD:CardRankD},\r\n    {\"???\":card_database},\r\n  ];\r\n  self.next = next;\r\n\r\n  self.setDroppables = function() {\r\n    let droppableArr = [];\r\n    self.droppableArr = droppableArr;\r\n    [].slice.call( document.querySelectorAll( '#SelectedCardContainer .drop-area__item' )).forEach( (el)=> {\r\n      droppableArr.push( new Droppable( el, {\r\n        onDrop : ( instance, draggableEl , draggableObj) => {\r\n          if(!instance.draggableObj){\r\n            instance.draggableObj = draggableObj;\r\n          }else{\r\n            instance.el.innerHTML = \"\";\r\n            let card  = instance.draggableObj;\r\n            card.toDragNode();\r\n            card.AutoMoveBack();\r\n            instance.draggableObj = draggableObj;\r\n          };\r\n        },\r\n        isDroppable(draggableObj){\r\n          let dropedCardArr = droppableArr.filter((item)=>{\r\n            return item.draggableObj;\r\n          }).map((item)=>{\r\n            return item.draggableObj.card;\r\n          });\r\n          dropedCardArr = dropedCardArr.filter((item)=>{\r\n            let boolean = (item.name == draggableObj.dragObjMethod.card.name);\r\n            return boolean;\r\n          });\r\n          if(dropedCardArr.length != 0){\r\n            return false;\r\n          }else{\r\n            return true;\r\n          }\r\n        },\r\n        setDroppabledHighLight : (instance)=>{\r\n          instance.el.classList.add('highlight')\r\n        },\r\n        removeDroppabledHighLight : (instance)=>{\r\n          instance.el.classList.remove('highlight')\r\n        },\r\n      }));\r\n    });\r\n    return droppableArr;\r\n  };\r\n  let Droppables = self.setDroppables();\r\n\r\n  self.init = function(){\r\n    let that = this;\r\n    that.bind();\r\n    that.initRankItem();\r\n  };\r\n  self.initRankItem = function(){\r\n    let that = this;\r\n    that.configRank.forEach((item)=>{\r\n      let grid__item = newElement(\"div\", \"grid__item\", that.$container, Object.keys(item)[0], {});\r\n      grid__item.Rank = Object.keys(item)[0];\r\n      grid__item.RankCards = item[grid__item.Rank];\r\n      ((grid__item)=>{\r\n        addListener(grid__item,\"click\",()=>{\r\n          that.showCards(grid__item);\r\n        })\r\n      })(grid__item);\r\n    });\r\n  };\r\n  self.bind = function() {\r\n    addListener(dropOverlay,\"click\",()=>{\r\n      deck.unmount();\r\n      body.classList.remove('drag-active');\r\n      RankCardContainer.classList.remove('show');\r\n    })\r\n  };\r\n  self.showCards = function(Rank) {\r\n    let that = this;\r\n    body.classList.add('drag-active');\r\n    RankCardContainer.classList.add('show');\r\n    deck = Deck(Rank.RankCards.cards.length);\r\n    let RankCards = Rank.RankCards.cards;\r\n    deck.cards.forEach(function (card, i) {\r\n      card.enableDragging();\r\n      card.enableFlipping();\r\n      card.setCard(RankCards[i]);\r\n      let card_ = new Draggable(card.dragObj.element, card.dragObj, card, Droppables, {\r\n        onFirstStart : () => {\r\n          self.ShowSelectedCardContainer();\r\n          card.setAutoMoveBack();\r\n        },\r\n        onStart : () => {\r\n          self.ShowSelectedCardContainer();\r\n        },\r\n        onDrag : () => {\r\n          self.ShowSelectedCardContainer();\r\n\r\n        },\r\n        onEnd : (wasDropped, droppableEl) => {\r\n          if(!wasDropped){\r\n            card.AutoMoveBack();\r\n            self.HideSelectedCardContainer();\r\n          }else{\r\n            card.toStaticNode(droppableEl, ()=>{\r\n              self.HideSelectedCardContainer();\r\n              self.checkoutCards();\r\n            });\r\n          }\r\n        }\r\n      });\r\n      card.DraggableObj = card_;\r\n    });\r\n\r\n    deck.mount(DeckContainer);\r\n    deck.intro();\r\n    deck.sort();\r\n    deck.poker();\r\n  };\r\n  self.checkoutCards = function() {\r\n    let that = this;\r\n    let droppableArr = self.droppableArr;\r\n    let dropedCardArr = droppableArr.filter((item)=>{\r\n      return item.draggableObj;\r\n    }).map((item)=>{\r\n      return item.draggableObj.card.id;\r\n    });\r\n    let Player_Cards = {FL: dropedCardArr[0], FR: dropedCardArr[1], BL: dropedCardArr[2], BR: dropedCardArr[3]};\r\n\r\n    if(dropedCardArr.length == 4){\r\n      self.ExitFromSelectedCard();\r\n      self.next && self.next(Player_Cards, deck);\r\n    }\r\n  };\r\n\r\n  self.ExitFromSelectedCard = function(){\r\n    body.classList.remove('drag-active');\r\n    RankCardContainer.classList.remove('show');\r\n    RankContainer.style.display = \"none\";\r\n    SelectedCardContainer.classList.remove('show');\r\n    deck.cards.forEach((item)=>{\r\n      (!item.isStaticNode()) && (item.unmount());\r\n    });\r\n    deck.cards = deck.cards.filter((item)=>{\r\n      return item.isStaticNode();\r\n    });\r\n    deck.cards.forEach((item)=>{\r\n      item.toDragNode();\r\n      item.DraggableObj.destroy();\r\n      item.setNotMoveBack();\r\n    });\r\n    [].slice.call( document.querySelectorAll( '#SelectedCardContainer .drop-area__item' )).forEach( (el)=> {\r\n      el.innerHTML = \"\";\r\n    });\r\n  };\r\n\r\n  self.ShowSelectedCardContainer = function(){\r\n    SelectedCardContainer.classList.add('show');\r\n  };\r\n  self.HideSelectedCardContainer = function(){\r\n    SelectedCardContainer.classList.remove('show');\r\n  };\r\n\r\n  self.init();\r\n  return self;\r\n}\r\n\r\nfunction addListener (target, name, listener) {\r\n  target.addEventListener(name, listener)\r\n}\r\n\r\nfunction removeListener (target, name, listener) {\r\n  target.removeEventListener(name, listener)\r\n}","import {createElement, newElement} from './tool.js'\r\nimport Player from './Module/Player.js'\r\nimport Card from './Module/MainCard.js'\r\nimport HalfGround from './Module/HalfGround.js'\r\nimport Round from './Module/Round.js'\r\nimport SelectCard from './Module/SelectCard.js'\r\n\r\nlet $live = document.getElementById('live')\r\nlet $Ground1 = createElement(\"div\");\r\nlet $Ground2 = createElement(\"div\");\r\n$Ground1.classList.add('HalfGround');\r\n$Ground2.classList.add('HalfGround');\r\n$live.appendChild($Ground1);\r\n$live.appendChild($Ground2);\r\n\r\n\r\nlet selectItems = document.getElementById('grid')\r\nSelectCard(selectItems, (Player1_Cards, deck)=>{\r\n  let GameContainer = document.getElementById('GameContainer');\r\n  GameContainer.classList.add(\"show\");\r\n\r\n  let Player1 = new Player(\"Player1\");\r\n  let Ground1 = new HalfGround();\r\n  let Player2 = new Player(\"Player2\");\r\n  let Player2_Cards = {FL: \"D1\", FR: \"D2\", BL: \"D3\", BR: \"D4\"};\r\n  let Ground2 = new HalfGround();\r\n\r\n  let round = Round(Ground1, Ground2);\r\n  Ground1.initRound(round);\r\n  Ground2.initRound(round);\r\n  Ground1.init({$el: $Ground2, Player: Player1, role: \"host\", cards: Player1_Cards, deck: deck});\r\n  Ground2.init({$el: $Ground1, Player: Player2, role: \"guest\", cards: Player2_Cards, deck: deck});\r\n\r\n  window.G1 = Ground1;\r\n  window.G2 = Ground2;\r\n\r\n  round.run(round.OnceRoundStep);\r\n});"],"names":["Card","queue","Queue","addListener","removeListener"],"mappings":"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"}